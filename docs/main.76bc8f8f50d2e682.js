"use strict";(self.webpackChunkperformax=self.webpackChunkperformax||[]).push([[792],{26:(Jt,Ge,ce)=>{ce.d(Ge,{$:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},71:(Jt,Ge,ce)=>{function h(oe){return"function"==typeof oe}ce.d(Ge,{T:()=>h})},96:(Jt,Ge,ce)=>{var h=ce(360),oe=ce(413);const he=new h.nKC("");let Se=null;function Ee(){return Se}class be{}let ht=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>(0,h.WQX)(Ce),providedIn:"platform"})}return n})();const Xe=new h.nKC("");let Ce=(()=>{class n extends ht{_location;_history;_doc=(0,h.WQX)(he);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ee().getBaseHref(this._doc)}onPopState(e){const r=Ee().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ee().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ie(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function De(n){const t=n.search(/#|\?|$/);return"/"===n[t-1]?n.slice(0,t-1)+n.slice(t):n}function Mt(n){return n&&"?"!==n[0]?`?${n}`:n}let Fe=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>(0,h.WQX)(Ur),providedIn:"root"})}return n})();const At=new h.nKC("");let Ur=(()=>{class n extends Fe{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.WQX)(he).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ie(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Mt(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+Mt(s));this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+Mt(s));this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(h.KVO(ht),h.KVO(At,8))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jt=(()=>{class n{_subject=new oe.B;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(De(pe(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Mt(r))}normalize(e){return n.stripTrailingSlash(function we(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,pe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mt(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mt;static joinWithSlash=ie;static stripTrailingSlash=De;static \u0275fac=function(r){return new(r||n)(h.KVO(Fe))};static \u0275prov=h.jDH({token:n,factory:()=>function Gn(){return new jt((0,h.KVO)(Fe))}(),providedIn:"root"})}return n})();function pe(n){return n.replace(/\/index.html$/,"")}function Ae(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,s]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}const Rt="browser";function li(n){return"server"===n}class Dv{}const Lp=new h.nKC("");let Av=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,r){this._zone=r,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i,s){return this._findPluginFor(r).addEventListener(e,r,i,s)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new h.wOt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static \u0275fac=function(r){return new(r||n)(h.KVO(Lp),h.KVO(h.SKi))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();class Rs{_doc;constructor(t){this._doc=t}manager}const qo="ng-app-id";function Ko(n){for(const t of n)t.remove()}function kx(n,t){const e=t.createElement("style");return e.textContent=n,e}function Vp(n,t){const e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}let Sv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.isServer=li(s),function PO(n,t,e,r){const i=n.head?.querySelectorAll(`style[${qo}="${t}"],link[${qo}="${t}"]`);if(i)for(const s of i)s.removeAttribute(qo),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}(e,r,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,r){for(const i of e)this.addUsage(i,this.inline,kx);r?.forEach(i=>this.addUsage(i,this.external,Vp))}removeStyles(e,r){for(const i of e)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,r,i){const s=r.get(e);s?s.usage++:r.set(e,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,i(e,this.doc)))})}removeUsage(e,r){const i=r.get(e);i&&(i.usage--,i.usage<=0&&(Ko(i.elements),r.delete(e)))}ngOnDestroy(){for(const[,{elements:e}]of[...this.inline,...this.external])Ko(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(e,kx(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(e,Vp(r,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qo,this.appId),e.appendChild(r)}static \u0275fac=function(r){return new(r||n)(h.KVO(he),h.KVO(h.sZ2),h.KVO(h.BIS,8),h.KVO(h.Agw))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();const Mv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hc=/%COMP%/g,OO=new h.nKC("",{providedIn:"root",factory:()=>!0});function Fx(n,t){return t.map(e=>e.replace(hc,n))}let Lx=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,r,i,s,c,d,f,g=null,y=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=d,this.ngZone=f,this.nonce=g,this.tracingService=y,this.platformIsServer=li(d),this.defaultRenderer=new Pv(e,c,f,this.platformIsServer,this.tracingService)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===h.gXe.ShadowDom&&(r={...r,encapsulation:h.gXe.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof FO?i.applyToHost(e):i instanceof Fv&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const c=this.doc,d=this.ngZone,f=this.eventManager,g=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,b=this.platformIsServer,C=this.tracingService;switch(r.encapsulation){case h.gXe.Emulated:s=new FO(f,g,r,this.appId,y,c,d,b,C);break;case h.gXe.ShadowDom:return new Nv(f,g,e,r,c,d,this.nonce,b,C);default:s=new Fv(f,g,r,y,c,d,b,C)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(r){return new(r||n)(h.KVO(Av),h.KVO(Sv),h.KVO(h.sZ2),h.KVO(OO),h.KVO(he),h.KVO(h.Agw),h.KVO(h.SKi),h.KVO(h.BIS),h.KVO(h.Lf2,8))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();class Pv{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,r,i,s){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Mv[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Xo(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Xo(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){e.remove()}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new h.wOt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const s=Mv[i];s?t.setAttributeNS(s,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Mv[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(h.czy.DashCase|h.czy.Important)?t.style.setProperty(e,r,i&h.czy.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&h.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r,i){if("string"==typeof t&&!(t=Ee().getGlobalEventTarget(this.doc,t)))throw new h.wOt(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Xo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Nv extends Pv{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,r,i,s,c,d,f,g){super(t,s,c,f,g),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let y=i.styles;y=Fx(i.id,y);for(const C of y){const x=document.createElement("style");d&&x.setAttribute("nonce",d),x.textContent=C,this.shadowRoot.appendChild(x)}const b=i.getExternalStyles?.();if(b)for(const C of b){const x=Vp(C,s);d&&x.setAttribute("nonce",d),this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fv extends Pv{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,r,i,s,c,d,f,g){super(t,s,c,d,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let y=r.styles;this.styles=g?Fx(g,y):y,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class FO extends Fv{contentAttr;hostAttr;constructor(t,e,r,i,s,c,d,f,g){const y=i+"-"+r.id;super(t,e,r,s,c,d,f,g,y),this.contentAttr=function Nx(n){return"_ngcontent-%COMP%".replace(hc,n)}(y),this.hostAttr=function NO(n){return"_nghost-%COMP%".replace(hc,n)}(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Lv extends be{supportsDOMEvents=!0;static makeCurrent(){!function ke(n){Se??=n}(new Lv)}onAndCancel(t,e,r,i){return t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vv(){return Oa=Oa||document.querySelector("base"),Oa?Oa.getAttribute("href"):null}();return null==e?null:function LO(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ae(document.cookie,t)}}let Oa=null,Bv=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})(),ye=(()=>{class n extends Rs{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i,s){return e.addEventListener(r,i,s),()=>this.removeEventListener(e,r,i,s)}removeEventListener(e,r,i,s){return e.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(h.KVO(he))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();const Vx=["alt","control","meta","shift"],wo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bx=(()=>{class n extends Rs{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i,s){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ee().onAndCancel(e,c.domEventName,d,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),Vx.forEach(g=>{const y=r.indexOf(g);y>-1&&(r.splice(y,1),c+=g+".")}),c+=s,0!=r.length||0===s.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static matchEventFullKeyCode(e,r){let i=wo[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Vx.forEach(c=>{c!==i&&(0,Bp[c])(e)&&(s+=c+".")}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{n.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static \u0275fac=function(r){return new(r||n)(h.KVO(he))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();function Eo(n){return{appProviders:[...g$,...n?.providers??[]],platformProviders:jv}}const jv=[{provide:h.Agw,useValue:Rt},{provide:h.PLl,useValue:function fc(){Lv.makeCurrent()},multi:!0},{provide:he,useFactory:function jx(){return(0,h.TL$)(document),document}}],g$=[{provide:h.H8p,useValue:"root"},{provide:h.zcH,useFactory:function pc(){return new h.zcH}},{provide:Lp,useClass:ye,multi:!0,deps:[he]},{provide:Lp,useClass:Bx,multi:!0,deps:[he]},Lx,Sv,Av,{provide:h._9s,useExisting:Lx},{provide:Dv,useClass:Bv},[]];let An=(()=>{class n{static \u0275prov=(0,h.jDH)({token:n,providedIn:"root",factory:()=>new Uv((0,h.WQX)(he),window)})}return n})();class Uv{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function y$(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}let Qp=(()=>{class n extends Fe{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,r){super(),this._platformLocation=e,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ie(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){const c=this.prepareExternalUrl(i+Mt(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,r,c)}replaceState(e,r,i,s){const c=this.prepareExternalUrl(i+Mt(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(r){return new(r||n)(h.KVO(ht),h.KVO(At,8))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();var Pt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Pt||{}),It=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(It||{}),lr=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(lr||{});function Mn(n,t){return di((0,h.H5H)(n)[h.KH2.DateFormat],t)}function vr(n,t){return di((0,h.H5H)(n)[h.KH2.TimeFormat],t)}function Co(n,t){return di((0,h.H5H)(n)[h.KH2.DateTimeFormat],t)}function Ln(n,t){const e=(0,h.H5H)(n),r=e[h.KH2.NumberSymbols][t];if(typeof r>"u"){if(12===t)return e[h.KH2.NumberSymbols][0];if(13===t)return e[h.KH2.NumberSymbols][1]}return r}function Jp(n){if(!n[h.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function di(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Qo(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const eT=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yc={},tm=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Di(n,t,e,r){let i=function s1(n){if(rT(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,c=1]=n.split("-").map(d=>+d);return Io(i,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(eT))return function a1(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-r,f=Number(n[6]||0),g=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,d,f,g),t}(r)}const t=new Date(n);if(!rT(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ki(e,t)||t;let d,c=[];for(;t;){if(d=tm.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const y=c.pop();if(!y)break;t=y}}let f=i.getTimezoneOffset();r&&(f=nb(r,f),i=function Ld(n,t){const i=n.getTimezoneOffset();return function o1(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(nb(t,i)-i))}(i,r));let g="";return c.forEach(y=>{const b=function Vn(n){if(tb[n])return tb[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ut(3,It.Abbreviated);break;case"GGGG":t=Ut(3,It.Wide);break;case"GGGGG":t=Ut(3,It.Narrow);break;case"y":t=qt(0,1,0,!1,!0);break;case"yy":t=qt(0,2,0,!0,!0);break;case"yyy":t=qt(0,3,0,!1,!0);break;case"yyyy":t=qt(0,4,0,!1,!0);break;case"Y":t=im(1);break;case"YY":t=im(2,!0);break;case"YYY":t=im(3);break;case"YYYY":t=im(4);break;case"M":case"L":t=qt(1,1,1);break;case"MM":case"LL":t=qt(1,2,1);break;case"MMM":t=Ut(2,It.Abbreviated);break;case"MMMM":t=Ut(2,It.Wide);break;case"MMMMM":t=Ut(2,It.Narrow);break;case"LLL":t=Ut(2,It.Abbreviated,Pt.Standalone);break;case"LLLL":t=Ut(2,It.Wide,Pt.Standalone);break;case"LLLLL":t=Ut(2,It.Narrow,Pt.Standalone);break;case"w":t=ks(1);break;case"ww":t=ks(2);break;case"W":t=ks(1,!0);break;case"d":t=qt(2,1);break;case"dd":t=qt(2,2);break;case"c":case"cc":t=qt(7,1);break;case"ccc":t=Ut(1,It.Abbreviated,Pt.Standalone);break;case"cccc":t=Ut(1,It.Wide,Pt.Standalone);break;case"ccccc":t=Ut(1,It.Narrow,Pt.Standalone);break;case"cccccc":t=Ut(1,It.Short,Pt.Standalone);break;case"E":case"EE":case"EEE":t=Ut(1,It.Abbreviated);break;case"EEEE":t=Ut(1,It.Wide);break;case"EEEEE":t=Ut(1,It.Narrow);break;case"EEEEEE":t=Ut(1,It.Short);break;case"a":case"aa":case"aaa":t=Ut(0,It.Abbreviated);break;case"aaaa":t=Ut(0,It.Wide);break;case"aaaaa":t=Ut(0,It.Narrow);break;case"b":case"bb":case"bbb":t=Ut(0,It.Abbreviated,Pt.Standalone,!0);break;case"bbbb":t=Ut(0,It.Wide,Pt.Standalone,!0);break;case"bbbbb":t=Ut(0,It.Narrow,Pt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ut(0,It.Abbreviated,Pt.Format,!0);break;case"BBBB":t=Ut(0,It.Wide,Pt.Format,!0);break;case"BBBBB":t=Ut(0,It.Narrow,Pt.Format,!0);break;case"h":t=qt(3,1,-12);break;case"hh":t=qt(3,2,-12);break;case"H":t=qt(3,1);break;case"HH":t=qt(3,2);break;case"m":t=qt(4,1);break;case"mm":t=qt(4,2);break;case"s":t=qt(5,1);break;case"ss":t=qt(5,2);break;case"S":t=qt(6,1);break;case"SS":t=qt(6,2);break;case"SSS":t=qt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=rm(0);break;case"ZZZZZ":t=rm(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=rm(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=rm(2);break;default:return null}return tb[n]=t,t}(y);g+=b?b(i,e,f):"''"===y?"'":y.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function Io(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Ki(n,t){const e=function mt(n){return(0,h.H5H)(n)[h.KH2.LocaleId]}(n);if(yc[e]??={},yc[e][t])return yc[e][t];let r="";switch(t){case"shortDate":r=Mn(n,lr.Short);break;case"mediumDate":r=Mn(n,lr.Medium);break;case"longDate":r=Mn(n,lr.Long);break;case"fullDate":r=Mn(n,lr.Full);break;case"shortTime":r=vr(n,lr.Short);break;case"mediumTime":r=vr(n,lr.Medium);break;case"longTime":r=vr(n,lr.Long);break;case"fullTime":r=vr(n,lr.Full);break;case"short":const i=Ki(n,"shortTime"),s=Ki(n,"shortDate");r=nm(Co(n,lr.Short),[i,s]);break;case"medium":const c=Ki(n,"mediumTime"),d=Ki(n,"mediumDate");r=nm(Co(n,lr.Medium),[c,d]);break;case"long":const f=Ki(n,"longTime"),g=Ki(n,"longDate");r=nm(Co(n,lr.Long),[f,g]);break;case"full":const y=Ki(n,"fullTime"),b=Ki(n,"fullDate");r=nm(Co(n,lr.Full),[y,b])}return r&&(yc[e][t]=r),r}function nm(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Xi(n,t,e="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return r&&(c=c.slice(c.length-t)),s+c}function qt(n,t,e=0,r=!1,i=!1){return function(s,c){let d=function vc(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),3===n)0===d&&-12===e&&(d=12);else if(6===n)return function tT(n,t){return Xi(n,3).substring(0,t)}(d,t);const f=Ln(c,5);return Xi(d,t,f,r,i)}}function Ut(n,t,e=Pt.Format,r=!1){return function(i,s){return function i1(n,t,e,r,i,s){switch(e){case 2:return function Yv(n,t,e){const r=(0,h.H5H)(n),s=di([r[h.KH2.MonthsFormat],r[h.KH2.MonthsStandalone]],t);return di(s,e)}(t,i,r)[n.getMonth()];case 1:return function Yx(n,t,e){const r=(0,h.H5H)(n),s=di([r[h.KH2.DaysFormat],r[h.KH2.DaysStandalone]],t);return di(s,e)}(t,i,r)[n.getDay()];case 0:const c=n.getHours(),d=n.getMinutes();if(s){const g=function t1(n){const t=(0,h.H5H)(n);return Jp(t),(t[h.KH2.ExtraData][2]||[]).map(r=>"string"==typeof r?Qo(r):[Qo(r[0]),Qo(r[1])])}(t),y=function Zv(n,t,e){const r=(0,h.H5H)(n);Jp(r);const s=di([r[h.KH2.ExtraData][0],r[h.KH2.ExtraData][1]],t)||[];return di(s,e)||[]}(t,i,r),b=g.findIndex(C=>{if(Array.isArray(C)){const[x,S]=C,M=c>=x.hours&&d>=x.minutes,R=c<S.hours||c===S.hours&&d<S.minutes;if(x.hours<S.hours){if(M&&R)return!0}else if(M||R)return!0}else if(C.hours===c&&C.minutes===d)return!0;return!1});if(-1!==b)return y[b]}return function xi(n,t,e){const r=(0,h.H5H)(n),s=di([r[h.KH2.DayPeriodsFormat],r[h.KH2.DayPeriodsStandalone]],t);return di(s,e)}(t,i,r)[c<12?0:1];case 3:return function Yp(n,t){return di((0,h.H5H)(n)[h.KH2.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,s,n,t,e,r)}}function rm(n){return function(t,e,r){const i=-1*r,s=Ln(e,5),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Xi(c,2,s)+Xi(Math.abs(i%60),2,s);case 1:return"GMT"+(i>=0?"+":"")+Xi(c,1,s);case 2:return"GMT"+(i>=0?"+":"")+Xi(c,2,s)+":"+Xi(Math.abs(i%60),2,s);case 3:return 0===r?"Z":(i>=0?"+":"")+Xi(c,2,s)+":"+Xi(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const eb=0,bc=4;function Ps(n){const t=n.getDay(),e=0===t?-3:bc-t;return Io(n.getFullYear(),n.getMonth(),n.getDate()+e)}function ks(n,t=!1){return function(e,r){let i;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();i=1+Math.floor((c+s)/7)}else{const s=Ps(e),c=function nT(n){const t=Io(n,eb,1).getDay();return Io(n,0,1+(t<=bc?bc:bc+7)-t)}(s.getFullYear()),d=s.getTime()-c.getTime();i=1+Math.round(d/6048e5)}return Xi(i,n,Ln(r,5))}}function im(n,t=!1){return function(e,r){return Xi(Ps(e).getFullYear(),n,Ln(r,5),t)}}const tb={};function nb(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function rT(n){return n instanceof Date&&!isNaN(n.valueOf())}const Zo=/\s+/,Ua=[];let Ai=(()=>{class n{_ngEl;_renderer;initialClasses=Ua;rawClass;stateMap=new Map;constructor(e,r){this._ngEl=e,this._renderer=r}set klass(e){this.initialClasses=null!=e?e.trim().split(Zo):Ua}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Zo):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Zo).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(h.rXU(h.aKT),h.rXU(h.sFG))};static \u0275dir=h.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})(),Fs=(()=>{class n{_viewContainer;_context=new Ie;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,r){this._viewContainer=e,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){lm(e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){lm(e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,r){return!0}static \u0275fac=function(r){return new(r||n)(h.rXU(h.c1b),h.rXU(h.C4Q))};static \u0275dir=h.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})();class Ie{$implicit=null;ngIf=null}function lm(n,t){if(n&&!n.createEmbeddedView)throw new h.wOt(2020,!1)}let fi=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(h.rXU(h.c1b))};static \u0275dir=h.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[h.OA$]})}return n})();const z$=new h.nKC(""),$$=new h.nKC("");let d1=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,s){if(null==e||""===e||e!=e)return null;try{return Di(e,r??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw function rn(n,t){return new h.wOt(2100,!1)}()}}static \u0275fac=function(r){return new(r||n)(h.rXU(h.xe9,16),h.rXU(z$,24),h.rXU($$,24))};static \u0275pipe=h.EJ8({name:"date",type:n,pure:!0})}return n})(),Qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({})}return n})();var kt=ce(985),br=ce(71);function ft(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}function es(n){return this instanceof es?(this.v=n,this):new es(n)}function za(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Bd(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=n[s]&&function(c){return new Promise(function(d,f){!function i(s,c,d,f){Promise.resolve(f).then(function(g){s({value:g,done:d})},c)}(d,f,(c=n[s](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const pm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Bs(n){return(0,br.T)(n?.then)}var pT=ce(494);function mT(n){return(0,br.T)(n[pT.s])}function gT(n){return Symbol.asyncIterator&&(0,br.T)(n?.[Symbol.asyncIterator])}function _T(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const J=function v1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Be(n){return(0,br.T)(n?.[J])}function vb(n){return function xc(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",function c(x){return function(S){return Promise.resolve(S).then(x,b)}}),i[Symbol.asyncIterator]=function(){return this},i;function d(x,S){r[x]&&(i[x]=function(M){return new Promise(function(R,B){s.push([x,M,R,B])>1||f(x,M)})},S&&(i[x]=S(i[x])))}function f(x,S){try{!function g(x){x.value instanceof es?Promise.resolve(x.value.v).then(y,b):C(s[0][2],x)}(r[x](S))}catch(M){C(s[0][3],M)}}function y(x){f("next",x)}function b(x){f("throw",x)}function C(x,S){x(S),s.shift(),s.length&&f(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield es(e.read());if(i)return yield es(void 0);yield yield es(r)}}finally{e.releaseLock()}})}function bb(n){return(0,br.T)(n?.getReader)}var Ze=ce(334);function Pr(n){if(n instanceof kt.c)return n;if(null!=n){if(mT(n))return function jd(n){return new kt.c(t=>{const e=n[pT.s]();if((0,br.T)(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(pm(n))return function Zi(n){return new kt.c(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Bs(n))return function wb(n){return new kt.c(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ze.m)})}(n);if(gT(n))return Cb(n);if(Be(n))return function Eb(n){return new kt.c(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(bb(n))return function J$(n){return Cb(vb(n))}(n)}throw _T(n)}function Cb(n){return new kt.c(t=>{(function eW(n,t){var e,r,i,s;return function Vs(n,t,e,r){return new(e||(e=Promise))(function(s,c){function d(y){try{g(r.next(y))}catch(b){c(b)}}function f(y){try{g(r.throw(y))}catch(b){c(b)}}function g(y){y.done?s(y.value):function i(s){return s instanceof e?s:new e(function(c){c(s)})}(y.value).then(d,f)}g((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=za(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function To(n,t,e,r=0,i=!1){const s=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}var on=ce(974),Ht=ce(979);function Xn(n,t=0){return(0,on.N)((e,r)=>{e.subscribe((0,Ht._)(r,i=>To(r,n,()=>r.next(i),t),()=>To(r,n,()=>r.complete(),t),i=>To(r,n,()=>r.error(i),t)))})}function Pi(n,t=0){return(0,on.N)((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function Ib(n,t){if(!n)throw new Error("Iterable cannot be null");return new kt.c(e=>{To(e,t,()=>{const r=n[Symbol.asyncIterator]();To(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function et(n,t){return t?function E1(n,t){if(null!=n){if(mT(n))return function yT(n,t){return Pr(n).pipe(Pi(t),Xn(t))}(n,t);if(pm(n))return function ts(n,t){return new kt.c(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(Bs(n))return function ki(n,t){return Pr(n).pipe(Pi(t),Xn(t))}(n,t);if(gT(n))return Ib(n,t);if(Be(n))return function b1(n,t){return new kt.c(e=>{let r;return To(e,t,()=>{r=n[J](),To(e,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(c){return void e.error(c)}s?e.complete():e.next(i)},0,!0)}),()=>(0,br.T)(r?.return)&&r.return()})}(n,t);if(bb(n))return function w1(n,t){return Ib(vb(n),t)}(n,t)}throw _T(n)}(n,t):Pr(n)}function mm(n){return n&&(0,br.T)(n.schedule)}function Ud(n){return n[n.length-1]}function Hd(n){return(0,br.T)(Ud(n))?n.pop():void 0}function zd(n){return mm(Ud(n))?n.pop():void 0}function Me(...n){return et(n,zd(n))}var pi=ce(412);const{isArray:bT}=Array,{getPrototypeOf:wT,prototype:ET,keys:xb}=Object;function CT(n){if(1===n.length){const t=n[0];if(bT(t))return{args:t,keys:null};if(function ur(n){return n&&"object"==typeof n&&wT(n)===ET}(t)){const e=xb(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var mi=ce(669),ve=ce(354);const{isArray:IT}=Array;function Tb(n){return(0,ve.T)(t=>function C1(n,t){return IT(t)?n(...t):n(t)}(n,t))}function xT(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function $a(...n){const t=zd(n),e=Hd(n),{args:r,keys:i}=CT(n);if(0===r.length)return et([],t);const s=new kt.c(function TT(n,t,e=mi.D){return r=>{Tc(t,()=>{const{length:i}=n,s=new Array(i);let c=i,d=i;for(let f=0;f<i;f++)Tc(t,()=>{const g=et(n[f],t);let y=!1;g.subscribe((0,Ht._)(r,b=>{s[f]=b,y||(y=!0,d--),d||r.next(e(s.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,t,i?c=>xT(i,c):mi.D));return e?s.pipe(Tb(e)):s}function Tc(n,t,e){n?To(e,n,t):t()}const gm=(0,ce(853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function jn(n,t,e=1/0){return(0,br.T)(t)?jn((r,i)=>(0,ve.T)((s,c)=>t(r,s,i,c))(Pr(n(r,i))),e):("number"==typeof t&&(e=t),(0,on.N)((r,i)=>function Db(n,t,e,r,i,s,c,d){const f=[];let g=0,y=0,b=!1;const C=()=>{b&&!f.length&&!g&&t.complete()},x=M=>g<r?S(M):f.push(M),S=M=>{s&&t.next(M),g++;let R=!1;Pr(e(M,y++)).subscribe((0,Ht._)(t,B=>{i?.(B),s?x(B):t.next(B)},()=>{R=!0},void 0,()=>{if(R)try{for(g--;f.length&&g<r;){const B=f.shift();c?To(t,c,()=>S(B)):S(B)}C()}catch(B){t.error(B)}}))};return n.subscribe((0,Ht._)(t,x,()=>{b=!0,C()})),()=>{d?.()}}(r,i,n,e)))}function ns(n=1/0){return jn(mi.D,n)}function $d(...n){return function Ab(){return ns(1)}()(et(n,zd(n)))}function Wd(n){return new kt.c(t=>{Pr(n()).subscribe(t)})}var I1=ce(203);function Ao(n,t){const e=(0,br.T)(n)?n:()=>n,r=i=>i.error(e());return new kt.c(t?i=>t.schedule(r,0,i):r)}const dr=new kt.c(n=>n.complete());var rs=ce(359);function Mb(){return(0,on.N)((n,t)=>{let e=null;n._refCount++;const r=(0,Ht._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class AT extends kt.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,on.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rs.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Ht._)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rs.yU.EMPTY)}return t}refCount(){return Mb()(this)}}function Qn(n,t){return(0,on.N)((e,r)=>{let i=null,s=0,c=!1;const d=()=>c&&!i&&r.complete();e.subscribe((0,Ht._)(r,f=>{i?.unsubscribe();let g=0;const y=s++;Pr(n(f,y)).subscribe(i=(0,Ht._)(r,b=>r.next(t?t(f,b,y,g++):b),()=>{i=null,d()}))},()=>{c=!0,d()}))})}function zr(n){return n<=0?()=>dr:(0,on.N)((t,e)=>{let r=0;t.subscribe((0,Ht._)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Gd(...n){const t=zd(n);return(0,on.N)((e,r)=>{(t?$d(n,e,t):$d(n,e)).subscribe(r)})}function fn(n,t){return(0,on.N)((e,r)=>{let i=0;e.subscribe((0,Ht._)(r,s=>n.call(t,s,i++)&&r.next(s)))})}function qd(n){return(0,on.N)((t,e)=>{let r=!1;t.subscribe((0,Ht._)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Wa(n=ST){return(0,on.N)((t,e)=>{let r=!1;t.subscribe((0,Ht._)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function ST(){return new gm}function is(n,t){const e=arguments.length>=2;return r=>r.pipe(n?fn((i,s)=>n(i,s,r)):mi.D,zr(1),e?qd(t):Wa(()=>new gm))}function So(n,t){return(0,br.T)(t)?jn(n,t,1):jn(n,1)}function Yn(n,t,e){const r=(0,br.T)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,on.N)((i,s)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let d=!0;i.subscribe((0,Ht._)(s,f=>{var g;null===(g=r.next)||void 0===g||g.call(r,f),s.next(f)},()=>{var f;d=!1,null===(f=r.complete)||void 0===f||f.call(r),s.complete()},f=>{var g;d=!1,null===(g=r.error)||void 0===g||g.call(r,f),s.error(f)},()=>{var f,g;d&&(null===(f=r.unsubscribe)||void 0===f||f.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):mi.D}function gi(n){return(0,on.N)((t,e)=>{let s,r=null,i=!1;r=t.subscribe((0,Ht._)(e,void 0,void 0,c=>{s=Pr(n(c,gi(n)(t))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function MT(n){return n<=0?()=>dr:(0,on.N)((t,e)=>{let r=[];t.subscribe((0,Ht._)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function Dc(n){return(0,on.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var x1=ce(343);function bt(n){return(0,on.N)((t,e)=>{Pr(n).subscribe((0,Ht._)(e,()=>e.complete(),x1.l)),!e.closed&&t.subscribe(e)})}let kb=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(r){return new(r||n)(h.KVO(he))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ji=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:function(r){let i=null;return i=r?new(r||n):h.KVO(Ga),i},providedIn:"root"})}return n})(),Ga=(()=>{class n extends Ji{_doc;constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case h.WPN.NONE:return r;case h.WPN.HTML:return(0,h.ZF7)(r,"HTML")?(0,h.rcV)(r):(0,h.h9k)(this._doc,String(r)).toString();case h.WPN.STYLE:return(0,h.ZF7)(r,"Style")?(0,h.rcV)(r):r;case h.WPN.SCRIPT:if((0,h.ZF7)(r,"Script"))return(0,h.rcV)(r);throw new h.wOt(5200,!1);case h.WPN.URL:return(0,h.ZF7)(r,"URL")?(0,h.rcV)(r):(0,h.$MX)(String(r));case h.WPN.RESOURCE_URL:if((0,h.ZF7)(r,"ResourceURL"))return(0,h.rcV)(r);throw new h.wOt(5201,!1);default:throw new h.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,h.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,h.cWb)(e)}bypassSecurityTrustScript(e){return(0,h.UyX)(e)}bypassSecurityTrustUrl(e){return(0,h.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,h.e5t)(e)}static \u0275fac=function(r){return new(r||n)(h.KVO(he))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ke="primary",Ac=Symbol("RouteTitle");class O1{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Sc(n){return new O1(n)}function N1(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const c=r[s],d=n[s];if(":"===c[0])i[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mo(n,t){const e=n?bm(n):void 0,r=t?bm(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!LT(n[i],t[i]))return!1;return!0}function bm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function LT(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,s)=>r[s]===i)}return n===t}function VT(n){return n.length>0?n[n.length-1]:null}function qa(n){return function cT(n){return!!n&&(n instanceof kt.c||(0,br.T)(n.lift)&&(0,br.T)(n.subscribe))}(n)?n:(0,h.jNT)(n)?et(Promise.resolve(n)):Me(n)}const BT={exact:function jT(n,t,e){if(!js(n.segments,t.segments)||!Xd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!jT(n.children[r],t.children[r],e))return!1;return!0},subset:Bb},Vb={exact:function F1(n,t){return Mo(n,t)},subset:function sW(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>LT(n[e],t[e]))},ignored:()=>!0};function Zn(n,t,e){return BT[e.paths](n.root,t.root,e.matrixParams)&&Vb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Bb(n,t,e){return Ro(n,t,t.segments,e)}function Ro(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!js(i,e)||t.hasChildren()||!Xd(i,e,r))}if(n.segments.length===e.length){if(!js(n.segments,e)||!Xd(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!Bb(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(js(n.segments,i)&&Xd(n.segments,i,r)&&n.children[Ke])&&Ro(n.children[Ke],t,s,r)}}function Xd(n,t,e){return t.every((r,i)=>Vb[e](n[i].parameters,r.parameters))}class Ka{root;queryParams;fragment;_queryParamMap;constructor(t=new rt([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sc(this.queryParams),this._queryParamMap}toString(){return L1.serialize(this)}}class rt{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ni(this)}}class os{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Sc(this.parameters),this._parameterMap}toString(){return Ot(this)}}function js(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Oi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>new Qd,providedIn:"root"})}return n})();class Qd{parse(t){const e=new $T(t);return new Ka(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ss(t.root,!0)}`,r=function Hb(n){const t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Yd(e)}=${Yd(i)}`).join("&"):`${Yd(e)}=${Yd(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function lW(n){return encodeURI(n)}(t.fragment)}`:""}`}}const L1=new Qd;function Ni(n){return n.segments.map(t=>Ot(t)).join("/")}function ss(n,t){if(!n.hasChildren())return Ni(n);if(t){const e=n.children[Ke]?ss(n.children[Ke],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ke&&r.push(`${i}:${ss(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function jb(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ke&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ke&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===Ke?[ss(n.children[Ke],!1)]:[`${i}:${ss(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ke]?`${Ni(n)}/${e[0]}`:`${Ni(n)}/(${e.join("//")})`}}function Ub(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(n){return Ub(n).replace(/%3B/gi,";")}function Zd(n){return Ub(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xa(n){return decodeURIComponent(n)}function UT(n){return Xa(n.replace(/\+/g,"%20"))}function Ot(n){return`${Zd(n.path)}${function V1(n){return Object.entries(n).map(([t,e])=>`;${Zd(t)}=${Zd(e)}`).join("")}(n.parameters)}`}const B1=/^[^\/()?;#]+/;function zb(n){const t=n.match(B1);return t?t[0]:""}const $b=/^[^\/()?;=#]+/,zT=/^[^=?&#]+/,j1=/^[^&#]+/;class $T{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rt([],{}):new rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Ke]=new rt(t,e)),r}parseSegment(){const t=zb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new h.wOt(4009,!1);return this.capture(t),new os(Xa(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function HT(n){const t=n.match($b);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=zb(this.remaining);i&&(r=i,this.capture(r))}t[Xa(e)]=Xa(r)}parseQueryParam(t){const e=function Wb(n){const t=n.match(zT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const c=function U1(n){const t=n.match(j1);return t?t[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=UT(e),s=UT(r);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(s)}else t[i]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.wOt(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ke);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Ke]:new rt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new h.wOt(4011,!1)}}function WT(n){return n.segments.length>0?new rt([],{[Ke]:n}):n}function eo(n){const t={};for(const[r,i]of Object.entries(n.children)){const s=eo(i);if(r===Ke&&0===s.segments.length&&s.hasChildren())for(const[c,d]of Object.entries(s.children))t[c]=d;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function H1(n){if(1===n.numberOfChildren&&n.children[Ke]){const t=n.children[Ke];return new rt(n.segments.concat(t.segments),t.children)}return n}(new rt(n.segments,t))}function Us(n){return n instanceof Ka}function z1(n){let t;const i=WT(function e(s){const c={};for(const f of s.children){const g=e(f);c[f.outlet]=g}const d=new rt(s.url,c);return s===n&&(t=d),d}(n.root));return t??i}function Gb(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return qb(i,i,i,e,r);const s=function GT(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Mc(!0,0,n);let t=0,e=!1;const r=n.reduce((i,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Object.entries(s.outlets).forEach(([f,g])=>{d[f]="string"==typeof g?g.split("/"):g}),[...i,{outlets:d}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===c?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&i.push(d))}),i):[...i,s]},[]);return new Mc(e,t,r)}(t);if(s.toRoot())return qb(i,i,new rt([],{}),e,r);const c=function uW(n,t,e){if(n.isAbsolute)return new Rc(t,!0,0);if(!e)return new Rc(t,!1,NaN);if(null===e.parent)return new Rc(e,!0,0);const r=wm(n.commands[0])?0:1;return function Pc(n,t,e){let r=n,i=t,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new h.wOt(4005,!1);i=r.segments.length}return new Rc(r,!1,i-s)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),d=c.processChildren?eh(c.segmentGroup,c.index,s.commands):Kb(c.segmentGroup,c.index,s.commands);return qb(i,c.segmentGroup,d,e,r)}function wm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jd(n){return"object"==typeof n&&null!=n&&n.outlets}function qb(n,t,e,r,i){let c,s={};r&&Object.entries(r).forEach(([f,g])=>{s[f]=Array.isArray(g)?g.map(y=>`${y}`):`${g}`}),c=n===t?e:Qa(n,t,e);const d=WT(eo(c));return new Ka(d,s,i)}function Qa(n,t,e){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===t?e:Qa(s,t,e)}),new rt(n.segments,r)}class Mc{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&wm(r[0]))throw new h.wOt(4003,!1);const i=r.find(Jd);if(i&&i!==VT(r))throw new h.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rc{segmentGroup;processChildren;index;constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Kb(n,t,e){if(n??=new rt([],{}),0===n.segments.length&&n.hasChildren())return eh(n,t,e);const r=function $1(n,t,e){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return s;const c=n.segments[i],d=e[r];if(Jd(d))break;const f=`${d}`,g=r<e.length-1?e[r+1]:null;if(i>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!Xb(f,g,c))return s;r+=2}else{if(!Xb(f,{},c))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new rt(n.segments.slice(0,r.pathIndex),{});return s.children[Ke]=new rt(n.segments.slice(r.pathIndex),n.children),eh(s,0,i)}return r.match&&0===i.length?new rt(n.segments,{}):r.match&&!n.hasChildren()?Ya(n,t,e):r.match?eh(n,0,i):Ya(n,t,e)}function eh(n,t,e){if(0===e.length)return new rt(n.segments,{});{const r=function Em(n){return Jd(n[0])?n[0].outlets:{[Ke]:n}}(e),i={};if(Object.keys(r).some(s=>s!==Ke)&&n.children[Ke]&&1===n.numberOfChildren&&0===n.children[Ke].segments.length){const s=eh(n.children[Ke],t,e);return new rt(n.segments,s.children)}return Object.entries(r).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[s]=Kb(n.children[s],t,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===r[s]&&(i[s]=c)}),new rt(n.segments,i)}}function Ya(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const s=e[i];if(Jd(s)){const f=W1(s.outlets);return new rt(r,f)}if(0===i&&wm(e[0])){r.push(new os(n.segments[t].path,Cm(e[0]))),i++;continue}const c=Jd(s)?s.outlets[Ke]:`${s}`,d=i<e.length-1?e[i+1]:null;c&&d&&wm(d)?(r.push(new os(c,Cm(d))),i+=2):(r.push(new os(c,{})),i++)}return new rt(r,{})}function W1(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Ya(new rt([],{}),0,r))}),t}function Cm(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function Xb(n,t,e){return n==e.path&&Mo(t,e.parameters)}const Hs="imperative";var Je=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Je||{});class to{id;url;constructor(t,e){this.id=t,this.url=e}}class Za extends to{type=Je.NavigationStart;navigationTrigger;restoredState;constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fi extends to{urlAfterRedirects;type=Je.NavigationEnd;constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var _i=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(_i||{}),Im=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Im||{});class Ja extends to{reason;code;type=Je.NavigationCancel;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class el extends to{reason;code;type=Je.NavigationSkipped;constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i}}class th extends to{error;target;type=Je.NavigationError;constructor(t,e,r,i){super(t,e),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qT extends to{urlAfterRedirects;state;type=Je.RoutesRecognized;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G1 extends to{urlAfterRedirects;state;type=Je.GuardsCheckStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r extends to{urlAfterRedirects;state;shouldActivate;type=Je.GuardsCheckEnd;constructor(t,e,r,i,s){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qb extends to{urlAfterRedirects;state;type=Je.ResolveStart;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KT extends to{urlAfterRedirects;state;type=Je.ResolveEnd;constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yb{route;type=Je.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wr{route;type=Je.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nh{snapshot;type=Je.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zb{snapshot;type=Je.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XT{snapshot;type=Je.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q1{snapshot;type=Je.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jb{routerEvent;position;anchor;type=Je.Scroll;constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class e0{}class rh{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Li(n){return n.outlet||Ke}function kc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class xm{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return kc(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Oc(this.rootInjector)}}let Oc=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new xm(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(r){return new(r||n)(h.KVO(h.uvJ))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class t0{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Tm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Dm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Dm(t,this._root).map(e=>e.value)}}function Tm(n,t){if(n===t.value)return t;for(const e of t.children){const r=Tm(n,e);if(r)return r}return null}function Dm(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Dm(n,e);if(r.length)return r.unshift(t),r}return[]}class no{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Nc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ZT extends t0{snapshot;constructor(t,e){super(t),this.snapshot=e,Mm(this,t)}toString(){return this.snapshot.toString()}}function JT(n){const t=function Y1(n){const s=new Sm([],{},{},"",{},Ke,n,null,{});return new eD("",new no(s,[]))}(n),e=new pi.t([new os("",{})]),r=new pi.t({}),i=new pi.t({}),s=new pi.t({}),c=new pi.t(""),d=new zs(e,r,s,c,i,Ke,n,t.root);return d.snapshot=t.root,new ZT(new no(d,[]),t)}class zs{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,r,i,s,c,d,f){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=c,this.component=d,this._futureSnapshot=f,this.title=this.dataSubject?.pipe((0,ve.T)(g=>g[Ac]))??Me(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,ve.T)(t=>Sc(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,ve.T)(t=>Sc(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Am(n,t,e="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===t||"always"!==e&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...i?.data,...n._resolvedData}},i&&tl(i)&&(r.resolve[Ac]=i.title),r}class Sm{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ac]}constructor(t,e,r,i,s,c,d,f,g){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=c,this.component=d,this.routeConfig=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eD extends t0{url;constructor(t,e){super(e),this.url=t,Mm(this,e)}toString(){return Rm(this._root)}}function Mm(n,t){t.value._routerState=n,t.children.forEach(e=>Mm(n,e))}function Rm(n){const t=n.children.length>0?` { ${n.children.map(Rm).join(", ")} } `:"";return`${n.value}${t}`}function n0(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Mo(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Mo(t.params,e.params)||n.paramsSubject.next(e.params),function FT(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Mo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Mo(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vi(n,t){const e=Mo(n.params,t.params)&&function aW(n,t){return js(n,t)&&n.every((e,r)=>Mo(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Vi(n.parent,t.parent))}function tl(n){return"string"==typeof n.title||null===n.title}const Z1=new h.nKC("");let ih=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ke;activateEvents=new h.bkB;deactivateEvents=new h.bkB;attachEvents=new h.bkB;detachEvents=new h.bkB;routerOutletData=(0,h.hFB)(void 0);parentContexts=(0,h.WQX)(Oc);location=(0,h.WQX)(h.c1b);changeDetector=(0,h.WQX)(h.gRc);inputBinder=(0,h.WQX)(r0,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new h.wOt(4013,!1);this._activatedRoute=e;const i=this.location,c=e.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new J1(e,d,i.injector,this.routerOutletData);this.activated=i.createComponent(c,{index:i.length,injector:f,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[h.OA$]})}return n})();class J1{route;childContexts;parent;outletData;constructor(t,e,r,i){this.route=t,this.childContexts=e,this.parent=r,this.outletData=i}get(t,e){return t===zs?this.route:t===Oc?this.childContexts:t===Z1?this.outletData:this.parent.get(t,e)}}const r0=new h.nKC("");let tD=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=$a([r.queryParams,r.params,r.data]).pipe(Qn(([s,c,d],f)=>(d={...s,...c,...d},0===f?Me(d):Promise.resolve(d)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const c=(0,h.HJs)(r.component);if(c)for(const{templateName:d}of c.inputs)e.activatedComponentRef.setInput(d,s[d]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();function oh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function tN(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return oh(n,r,i);return oh(n,r)})}(n,t,e);return new no(r,i)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>oh(n,d)),c}}const r=function fW(n){return new zs(new pi.t(n.url),new pi.t(n.params),new pi.t(n.queryParams),new pi.t(n.fragment),new pi.t(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(s=>oh(n,s));return new no(r,i)}}class o0{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const $s="ngNavigationCancelingError";function Pm(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Us(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=km(!1,_i.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function km(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[$s]=!0,e.cancellationCode=t,e}function Om(n){return!!n&&n[$s]}class a0{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,r,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),n0(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Nc(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,i[c],r),delete i[c]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(i===s)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Nc(t);for(const c of Object.values(s))this.deactivateRouteAndItsChildren(c,i);if(r&&r.outlet){const c=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,s=Nc(t);for(const c of Object.values(s))this.deactivateRouteAndItsChildren(c,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=Nc(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new q1(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Zb(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,s=e?e.value:null;if(n0(i),i===s)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),n0(d.route.value),this.activateChildRoutes(t,null,c.children)}else c.attachRef=null,c.route=i,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}else this.activateChildRoutes(t,null,r)}}class Fc{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class nl{component;route;constructor(t,e){this.component=t,this.route=e}}function Ws(n,t,e){const r=n._root;return ls(r,t?t._root:null,e,[r.value])}function as(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,h.LfX)(n)?t.get(n):n:r}function ls(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nc(t);return n.children.forEach(c=>{(function c0(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const f=function u0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!js(n.url,t.url);case"pathParamsOrQueryParamsChange":return!js(n.url,t.url)||!Mo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vi(n,t)||!Mo(n.queryParams,t.queryParams);default:return!Vi(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);f?i.canActivateChecks.push(new Fc(r)):(s.data=c.data,s._resolvedData=c._resolvedData),ls(n,t,s.component?d?d.children:null:e,r,i),f&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new nl(d.outlet.component,c))}else c&&Gs(t,d,i),i.canActivateChecks.push(new Fc(r)),ls(n,null,s.component?d?d.children:null:e,r,i)})(c,s[c.value.outlet],e,r.concat([c.value]),i),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,d])=>Gs(d,e.getContext(c),i)),i}function Gs(n,t,e){const r=Nc(n),i=n.value;Object.entries(r).forEach(([s,c])=>{Gs(c,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new nl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Lc(n){return"function"==typeof n}function f0(n){return n instanceof gm||"EmptyError"===n?.name}const sh=Symbol("INITIAL_VALUE");function qs(){return Qn(n=>$a(n.map(t=>t.pipe(zr(1),Gd(sh)))).pipe((0,ve.T)(t=>{for(const e of t)if(!0!==e){if(e===sh)return sh;if(!1===e||p0(e))return e}return!0}),fn(t=>t!==sh),zr(1)))}function p0(n){return Us(n)||n instanceof o0}function g0(n){return(0,I1.F)(Yn(t=>{if("boolean"!=typeof t)throw Pm(0,t)}),(0,ve.T)(t=>!0===t))}class ah{segmentGroup;constructor(t){this.segmentGroup=t||null}}class lh extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function Uc(n){return Ao(new ah(n))}class Cn{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Me(r);if(i.numberOfChildren>1||!i.children[Ke])return Ao(new h.wOt(4e3,!1));i=i.children[Ke]}}applyRedirectCommands(t,e,r,i,s){if("string"!=typeof e){const d=e,{queryParams:f,fragment:g,routeConfig:y,url:b,outlet:C,params:x,data:S,title:M}=i,R=(0,h.N4e)(s,()=>d({params:x,data:S,queryParams:f,fragment:g,routeConfig:y,url:b,outlet:C,title:M}));if(R instanceof Ka)throw new lh(R);e=R}const c=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if("/"===e[0])throw new lh(c);return c}applyRedirectCreateUrlTree(t,e,r,i){const s=this.createSegmentGroup(t,e.root,r,i);return new Ka(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&":"===s[0]){const d=s.substring(1);r[i]=e[d]}else r[i]=s}),r}createSegmentGroup(t,e,r,i){const s=this.createSegments(t,e.segments,r,i);let c={};return Object.entries(e.children).forEach(([d,f])=>{c[d]=this.createSegmentGroup(t,f,r,i)}),new rt(s,c)}createSegments(t,e,r,i){return e.map(s=>":"===s.path[0]?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new h.wOt(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const Hc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cD(n,t,e,r,i){const s=Dt(n,t,e);return s.matched?(r=function QT(n,t){return n.providers&&!n._injector&&(n._injector=(0,h.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function aD(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Me(i.map(c=>{const d=as(c,n);return qa(function h0(n){return n&&Lc(n.canMatch)}(d)?d.canMatch(t,e):(0,h.N4e)(n,()=>d(t,e)))})).pipe(qs(),g0()):Me(!0)}(r,t,e).pipe((0,ve.T)(c=>!0===c?s:{...Hc}))):Me(s)}function Dt(n,t,e){if("**"===t.path)return function zc(n){return{matched:!0,parameters:n.length>0?VT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Hc}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||N1)(e,n,t);if(!i)return{...Hc};const s={};Object.entries(i.posParams??{}).forEach(([d,f])=>{s[d]=f.path});const c=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function rl(n,t,e,r){return e.length>0&&function Lm(n,t,e){return e.some(r=>Vm(n,t,r)&&Li(r)!==Ke)}(n,e,r)?{segmentGroup:new rt(t,ch(r,new rt(e,n.children))),slicedSegments:[]}:0===e.length&&function iN(n,t,e){return e.some(r=>Vm(n,t,r))}(n,e,r)?{segmentGroup:new rt(n.segments,cs(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new rt(n.segments,n.children),slicedSegments:e}}function cs(n,t,e,r){const i={};for(const s of e)if(Vm(n,t,s)&&!r[Li(s)]){const c=new rt([],{});i[Li(s)]=c}return{...r,...i}}function ch(n,t){const e={};e[Ke]=t;for(const r of n)if(""===r.path&&Li(r)!==Ke){const i=new rt([],{});e[Li(r)]=i}return e}function Vm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class oN{}class uD{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,r,i,s,c,d){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=d,this.applyRedirects=new Cn(this.urlSerializer,this.urlTree)}noMatchError(t){return new h.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=rl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,ve.T)(({children:e,rootSnapshot:r})=>{const i=new no(r,e),s=new eD("",i),c=function cW(n,t,e=null,r=null){return Gb(z1(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),{state:s,tree:c}}))}match(t){const e=new Sm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ke,e).pipe((0,ve.T)(r=>({children:r,rootSnapshot:e})),gi(r=>{if(r instanceof lh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ah?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r,s):this.processSegment(t,e,r,r.segments,i,!0,s).pipe((0,ve.T)(c=>c instanceof no?[c]:[]))}processChildren(t,e,r,i){const s=[];for(const c of Object.keys(r.children))"primary"===c?s.unshift(c):s.push(c);return et(s).pipe(So(c=>{const d=r.children[c],f=function YT(n,t){const e=n.filter(r=>Li(r)===t);return e.push(...n.filter(r=>Li(r)!==t)),e}(e,c);return this.processSegmentGroup(t,f,d,c,i)}),function _m(n,t){return(0,on.N)(function Rb(n,t,e,r,i){return(s,c)=>{let d=e,f=t,g=0;s.subscribe((0,Ht._)(c,y=>{const b=g++;f=d?n(f,y,b):(d=!0,y),r&&c.next(f)},i&&(()=>{d&&c.next(f),c.complete()})))}}(n,t,arguments.length>=2,!0))}((c,d)=>(c.push(...d),c)),qd(null),function RT(n,t){const e=arguments.length>=2;return r=>r.pipe(n?fn((i,s)=>n(i,s,r)):mi.D,MT(1),e?qd(t):Wa(()=>new gm))}(),jn(c=>{if(null===c)return Uc(r);const d=_0(c);return function uh(n){n.sort((t,e)=>t.value.outlet===Ke?-1:e.value.outlet===Ke?1:t.value.outlet.localeCompare(e.value.outlet))}(d),Me(d)}))}processSegment(t,e,r,i,s,c,d){return et(e).pipe(So(f=>this.processSegmentAgainstRoute(f._injector??t,e,f,r,i,s,c,d).pipe(gi(g=>{if(g instanceof ah)return Me(null);throw g}))),is(f=>!!f),gi(f=>{if(f0(f))return function $c(n,t,e){return 0===t.length&&!n.children[e]}(r,i,s)?Me(new oN):Uc(r);throw f}))}processSegmentAgainstRoute(t,e,r,i,s,c,d,f){return Li(r)===c||c!==Ke&&Vm(i,s,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,c,f):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,s,c,f):Uc(i):Uc(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,s,c,d){const{matched:f,parameters:g,consumedSegments:y,positionalParamSegments:b,remainingSegments:C}=Dt(e,i,s);if(!f)return Uc(e);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const x=new Sm(s,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gc(i),Li(i),i.component??i._loadedComponent??null,i,wr(i)),S=Am(x,d,this.paramsInheritanceStrategy);x.params=Object.freeze(S.params),x.data=Object.freeze(S.data);const M=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,b,x,t);return this.applyRedirects.lineralizeSegments(i,M).pipe(jn(R=>this.processSegment(t,r,e,R.concat(C),c,!1,d)))}matchSegmentAgainstRoute(t,e,r,i,s,c){const d=cD(e,r,i,t);return"**"===r.path&&(e.children={}),d.pipe(Qn(f=>f.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(Qn(({routes:g})=>{const y=r._loadedInjector??t,{parameters:b,consumedSegments:C,remainingSegments:x}=f,S=new Sm(C,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gc(r),Li(r),r.component??r._loadedComponent??null,r,wr(r)),M=Am(S,c,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);const{segmentGroup:R,slicedSegments:B}=rl(e,C,x,g);if(0===B.length&&R.hasChildren())return this.processChildren(y,g,R,S).pipe((0,ve.T)(G=>new no(S,G)));if(0===g.length&&0===B.length)return Me(new no(S,[]));const H=Li(r)===s;return this.processSegment(y,g,R,B,H?Ke:s,!0,S).pipe((0,ve.T)(G=>new no(S,G instanceof no?[G]:[])))})):Uc(e)))}getChildConfig(t,e,r){return e.children?Me({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Me({routes:e._loadedRoutes,injector:e._loadedInjector}):function sD(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Me(!0):Me(i.map(c=>{const d=as(c,n);return qa(function Vc(n){return n&&Lc(n.canLoad)}(d)?d.canLoad(t,e):(0,h.N4e)(n,()=>d(t,e)))})).pipe(qs(),g0())}(t,e,r).pipe(jn(i=>i?this.configLoader.loadChildren(t,e).pipe(Yn(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function mW(){return Ao(km(!1,_i.GuardRejected))}())):Me({routes:[],injector:t})}}function Bm(n){const t=n.value.routeConfig;return t&&""===t.path}function _0(n){const t=[],e=new Set;for(const r of n){if(!Bm(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=_0(r.children);t.push(new no(r.value,i))}return t.filter(r=>!e.has(r))}function Gc(n){return n.data||{}}function wr(n){return n.resolve||{}}function dD(n){const t=n.children.map(e=>dD(e)).flat();return[n,...t]}function jm(n){return Qn(t=>{const e=n(t);return e?et(e).pipe((0,ve.T)(()=>t)):Me(t)})}let fD=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ke);return r}getResolvedTitleForRoute(e){return e.data[Ac]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>(0,h.WQX)(gW),providedIn:"root"})}return n})(),gW=(()=>{class n extends fD{title;constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(h.KVO(kb))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qc=new h.nKC("",{providedIn:"root",factory:()=>({})});let pD=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&h.nrm(0,"router-outlet")},dependencies:[ih],encapsulation:2})}return n})();function mD(n){const t=n.children&&n.children.map(mD),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ke&&(e.component=pD),e}const Ks=new h.nKC("");let dh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=(0,h.WQX)(h.Ql9);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Me(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=qa(e.loadComponent()).pipe((0,ve.T)(hh),Yn(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Dc(()=>{this.componentLoaders.delete(e)})),i=new AT(r,()=>new oe.B).pipe(Mb());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Me({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function v0(n,t,e,r){return qa(n.loadChildren()).pipe((0,ve.T)(hh),jn(i=>i instanceof h.Co$||Array.isArray(i)?Me(i):et(t.compileModuleAsync(i))),(0,ve.T)(i=>{r&&r(n);let s,c,d=!1;return Array.isArray(i)?(c=i,!0):(s=i.create(e).injector,c=s.get(Ks,[],{optional:!0,self:!0}).flat()),{routes:c.map(mD),injector:s}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Dc(()=>{this.childrenLoaders.delete(r)})),c=new AT(s,()=>new oe.B).pipe(Mb());return this.childrenLoaders.set(r,c),c}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hh(n){return function Kc(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>(0,h.WQX)(Qc),providedIn:"root"})}return n})(),Qc=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Um=new h.nKC(""),Hm=new h.nKC("");function gD(n,t,e){const r=n.get(Hm),i=n.get(he);return n.get(h.SKi).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(g=>setTimeout(g));let s;const c=new Promise(g=>{s=g}),d=i.startViewTransition(()=>(s(),function _D(n){return new Promise(t=>{(0,h.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:f}=r;return f&&(0,h.N4e)(n,()=>f({transition:d,from:t,to:e})),c})}const zm=new h.nKC("");let b0=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oe.B;transitionAbortSubject=new oe.B;configLoader=(0,h.WQX)(dh);environmentInjector=(0,h.WQX)(h.uvJ);destroyRef=(0,h.WQX)(h.abz);urlSerializer=(0,h.WQX)(Oi);rootContexts=(0,h.WQX)(Oc);location=(0,h.WQX)(jt);inputBindingEnabled=null!==(0,h.WQX)(r0,{optional:!0});titleStrategy=(0,h.WQX)(fD);options=(0,h.WQX)(qc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=(0,h.WQX)(Xc);createViewTransition=(0,h.WQX)(Um,{optional:!0});navigationErrorHandler=(0,h.WQX)(zm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>Me(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new Wr(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Yb(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...e,extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(e){return this.transitions=new pi.t(null),this.transitions.pipe(fn(r=>null!==r),Qn(r=>{let i=!1,s=!1;return Me(r).pipe(Qn(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",_i.SupersededByNewNavigation),dr;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const g="";return this.events.next(new el(c.id,this.urlSerializer.serialize(c.rawUrl),g,Im.IgnoredSameUrlNavigation)),c.resolve(!1),dr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Me(c).pipe(Qn(g=>(this.events.next(new Za(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),g.id!==this.navigationId?dr:Promise.resolve(g))),function lN(n,t,e,r,i,s){return jn(c=>function Wc(n,t,e,r,i,s,c="emptyOnly"){return new uD(n,t,e,r,i,c,s).recognize()}(n,t,e,r,c.extractedUrl,i,s).pipe((0,ve.T)(({state:d,tree:f})=>({...c,targetSnapshot:d,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Yn(g=>{r.targetSnapshot=g.targetSnapshot,r.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new qT(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:y,source:b,restoredState:C,extras:x}=c,S=new Za(g,this.urlSerializer.serialize(y),b,C);this.events.next(S);const M=JT(this.rootComponentType).snapshot;return this.currentTransition=r={...c,targetSnapshot:M,urlAfterRedirects:y,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=y,Me(r)}{const g="";return this.events.next(new el(c.id,this.urlSerializer.serialize(c.extractedUrl),g,Im.IgnoredByUrlHandlingStrategy)),c.resolve(!1),dr}}),Yn(c=>{const d=new G1(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),(0,ve.T)(c=>(this.currentTransition=r={...c,guards:Ws(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},r)),function Bc(n,t){return jn(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?Me({...e,guardsResult:!0}):function oD(n,t,e,r){return et(n).pipe(jn(i=>function m0(n,t,e,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Me(s.map(d=>{const f=kc(t)??i,g=as(d,f);return qa(function iD(n){return n&&Lc(n.canDeactivate)}(g)?g.canDeactivate(n,t,e,r):(0,h.N4e)(f,()=>g(n,t,e,r))).pipe(is())})).pipe(qs()):Me(!0)}(i.component,i.route,e,t,r)),is(i=>!0!==i,!0))}(c,r,i,n).pipe(jn(d=>d&&function d0(n){return"boolean"==typeof n}(d)?function Gr(n,t,e,r){return et(t).pipe(So(i=>$d(function Fm(n,t){return null!==n&&t&&t(new nh(n)),Me(!0)}(i.route.parent,r),function pW(n,t){return null!==n&&t&&t(new XT(n)),Me(!0)}(i.route,r),function jc(n,t,e){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function l0(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Wd(()=>Me(c.guards.map(f=>{const g=kc(c.node)??e,y=as(f,g);return qa(function rD(n){return n&&Lc(n.canActivateChild)}(y)?y.canActivateChild(r,n):(0,h.N4e)(g,()=>y(r,n))).pipe(is())})).pipe(qs())));return Me(s).pipe(qs())}(n,i.path,e),function rN(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Me(!0);const i=r.map(s=>Wd(()=>{const c=kc(t)??e,d=as(s,c);return qa(function nD(n){return n&&Lc(n.canActivate)}(d)?d.canActivate(t,n):(0,h.N4e)(c,()=>d(t,n))).pipe(is())}));return Me(i).pipe(qs())}(n,i.route,e))),is(i=>!0!==i,!0))}(r,s,n,t):Me(d)),(0,ve.T)(d=>({...e,guardsResult:d})))})}(this.environmentInjector,c=>this.events.next(c)),Yn(c=>{if(r.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw Pm(0,c.guardsResult);const d=new $r(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),fn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",_i.GuardRejected),!1)),jm(c=>{if(0!==c.guards.canActivateChecks.length)return Me(c).pipe(Yn(d=>{const f=new Qb(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Qn(d=>{let f=!1;return Me(d).pipe(function Jn(n,t){return jn(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Me(e);const s=new Set(i.map(f=>f.route)),c=new Set;for(const f of s)if(!c.has(f))for(const g of dD(f))c.add(g);let d=0;return et(c).pipe(So(f=>s.has(f)?function cN(n,t,e,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!tl(i)&&(s[Ac]=i.title),function y0(n,t,e,r){const i=bm(n);if(0===i.length)return Me({});const s={};return et(i).pipe(jn(c=>function hD(n,t,e,r){const i=kc(t)??r,s=as(n,i);return qa(s.resolve?s.resolve(t,e):(0,h.N4e)(i,()=>s(t,e)))}(n[c],t,e,r).pipe(is(),Yn(d=>{if(d instanceof o0)throw Pm(new Qd,d);s[c]=d}))),MT(1),(0,ve.T)(()=>s),gi(c=>f0(c)?dr:Ao(c)))}(s,n,t,r).pipe((0,ve.T)(c=>(n._resolvedData=c,n.data=Am(n,n.parent,e).resolve,null)))}(f,r,n,t):(f.data=Am(f,f.parent,n).resolve,Me(void 0))),Yn(()=>d++),MT(1),jn(f=>d===c.size?Me(e):dr))})}(this.paramsInheritanceStrategy,this.environmentInjector),Yn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",_i.NoDataFromResolver)}}))}),Yn(d=>{const f=new KT(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),jm(c=>{const d=f=>{const g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Yn(y=>{f.component=y}),(0,ve.T)(()=>{})));for(const y of f.children)g.push(...d(y));return g};return $a(d(c.targetSnapshot.root)).pipe(qd(null),zr(1))}),jm(()=>this.afterPreactivation()),Qn(()=>{const{currentSnapshot:c,targetSnapshot:d}=r,f=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return f?et(f).pipe((0,ve.T)(()=>r)):Me(r)}),(0,ve.T)(c=>{const d=function eN(n,t,e){const r=oh(n,t._root,e?e._root:void 0);return new ZT(r,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r={...c,targetRouterState:d},this.currentNavigation.targetRouterState=d,r}),Yn(()=>{this.events.next(new e0)}),((n,t,e,r)=>(0,ve.T)(i=>(new a0(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),zr(1),Yn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),bt(this.transitionAbortSubject.pipe(Yn(c=>{throw c}))),Dc(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",_i.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),gi(c=>{if(this.destroyed)return r.resolve(!1),dr;if(s=!0,Om(c))this.events.next(new Ja(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),function s0(n){return Om(n)&&Us(n.url)}(c)?this.events.next(new rh(c.url,c.navigationBehaviorOptions)):r.resolve(!1);else{const d=new th(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);try{const f=(0,h.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(!(f instanceof o0))throw this.events.next(d),c;{const{message:g,cancellationCode:y}=Pm(0,f);this.events.next(new Ja(r.id,this.urlSerializer.serialize(r.extractedUrl),g,y)),this.events.next(new rh(f.redirectTo,f.navigationBehaviorOptions))}}catch(f){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(f)}}return dr}))}))}cancelNavigationTransition(e,r,i){const s=new Ja(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uN(n){return n!==Hs}let Yc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>(0,h.WQX)(yD),providedIn:"root"})}return n})();class fh{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let yD=(()=>{class n extends fh{static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vD=(()=>{class n{urlSerializer=(0,h.WQX)(Oi);options=(0,h.WQX)(qc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=(0,h.WQX)(jt);urlHandlingStrategy=(0,h.WQX)(Xc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ka;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:r,targetBrowserUrl:i}){const s=void 0!==e?this.urlHandlingStrategy.merge(e,r):r,c=i??s;return c instanceof Ka?this.urlSerializer.serialize(c):c}commitTransition({targetRouterState:e,finalUrl:r,initialUrl:i}){r&&e?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=e):this.rawUrlTree=i}routerState=JT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:()=>(0,h.WQX)(bD),providedIn:"root"})}return n})(),bD=(()=>{class n extends vD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{e(r.url,r.state,"popstate")})})}handleRouterEvent(e,r){e instanceof Za?this.updateStateMemento():e instanceof el?this.commitTransition(r):e instanceof qT?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof e0?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):e instanceof Ja&&(e.code===_i.GuardRejected||e.code===_i.NoDataFromResolver)?this.restoreHistory(r):e instanceof th?this.restoreHistory(r,!0):e instanceof Fi&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:r,id:i}){const{replaceUrl:s,state:c}=r;if(this.location.isCurrentPathEqualTo(e)||s){const d=this.browserPageId,f={...c,...this.generateNgRouterState(i,d)};this.location.replaceState(e,"",f)}else{const d={...c,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(e,"",d)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.getCurrentUrlTree()===e.finalUrl&&0===s&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dN(n,t){n.events.pipe(fn(e=>e instanceof Fi||e instanceof Ja||e instanceof th||e instanceof el),(0,ve.T)(e=>e instanceof Fi||e instanceof el?0:e instanceof Ja&&(e.code===_i.Redirect||e.code===_i.SupersededByNewNavigation)?2:1),fn(e=>2!==e),zr(1)).subscribe(()=>{t()})}const wD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=(0,h.WQX)(h.H3F);stateManager=(0,h.WQX)(vD);options=(0,h.WQX)(qc,{optional:!0})||{};pendingTasks=(0,h.WQX)(h.Ua0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=(0,h.WQX)(b0);urlSerializer=(0,h.WQX)(Oi);location=(0,h.WQX)(jt);urlHandlingStrategy=(0,h.WQX)(Xc);_events=new oe.B;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=(0,h.WQX)(Yc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(0,h.WQX)(Ks,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!(0,h.WQX)(r0,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rs.yU;subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Ja&&r.code!==_i.Redirect&&r.code!==_i.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fi)this.navigated=!0;else if(r instanceof rh){const c=r.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),f={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||uN(i.source),...c};this.scheduleNavigation(d,Hs,null,f,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function fN(n){return!(n instanceof e0||n instanceof rh)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r,i)=>{this.navigateToSyncWithBrowser(e,i,r)})}navigateToSyncWithBrowser(e,r,i){const s={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const f={...i};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(s.state=f)}const d=this.parseUrl(e);this.scheduleNavigation(d,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(mD),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:f}=r,g=f?this.currentUrlTree.fragment:c;let b,y=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":y={...this.currentUrlTree.queryParams,...s};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=s||null}null!==y&&(y=this.removeEmptyProps(y));try{b=z1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),b=this.currentUrlTree.root}return Gb(b,e,y,g??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Us(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Hs,null,r)}navigate(e,r={skipLocationChange:!1}){return function us(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new h.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(i=!0===r?{...wD}:!1===r?{...hN}:r,Us(e))return Zn(this.currentUrlTree,e,i);const s=this.parseUrl(e);return Zn(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,c){if(this.disposed)return Promise.resolve(!1);let d,f,g;c?(d=c.resolve,f=c.reject,g=c.promise):g=new Promise((b,C)=>{d=b,f=C});const y=this.pendingTasks.add();return dN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:d,reject:f,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(b=>Promise.reject(b))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$m=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new oe.B;constructor(e,r,i,s,c,d){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=c,this.locationStrategy=d;const f=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===f||"area"===f,this.isAnchorElement?this.subscription=e.events.subscribe(g=>{g instanceof Fi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Us(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,c){const d=this.urlTree;return!!(null===d||this.isAnchorElement&&(0!==e||r||i||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(d,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:(0,h.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return null===this.routerLinkInput?null:Us(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(h.rXU(er),h.rXU(zs),h.kS0("tabindex"),h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Fe))};static \u0275dir=h.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&h.bIt("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&r&&h.BMQ("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",h.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",h.L39],replaceUrl:[2,"replaceUrl","replaceUrl",h.L39],routerLink:"routerLink"},features:[h.OA$]})}return n})(),Wm=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new h.bkB;constructor(e,r,i,s,c){this.router=e,this.element=r,this.renderer=i,this.cdr=s,this.link=c,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof Fi&&this.update()})}ngAfterContentInit(){Me(this.links.changes,Me(null)).pipe(ns()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=et(e).pipe(ns()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const r=Array.isArray(e)?e:e.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this.classes.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){const r=function _W(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{const s=i.urlTree;return!!s&&e.isActive(s,r)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(r){return new(r||n)(h.rXU(er),h.rXU(h.aKT),h.rXU(h.sFG),h.rXU(h.gRc),h.rXU($m,8))};static \u0275dir=h.FsC({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&h.wni(s,$m,5),2&r){let c;h.mGM(c=h.lsd())&&(i.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[h.OA$]})}return n})();class ph{}let ED=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,r,i,s,c){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(fn(e=>e instanceof Fi),So(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,h.Ol2)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(d,s.children??s._loadedRoutes))}return et(i).pipe(ns())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Me(null);const s=i.pipe(jn(c=>null===c?Me(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));return r.loadComponent&&!r._loadedComponent?et([s,this.loader.loadComponent(r)]).pipe(ns()):s})}static \u0275fac=function(r){return new(r||n)(h.KVO(er),h.KVO(h.Ql9),h.KVO(h.uvJ),h.KVO(ph),h.KVO(dh))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const w0=new h.nKC("");let CD=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,r,i,s,c={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=c,c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Za?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fi?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof el&&e.code===Im.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){h.QTQ()};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();function E0(n){return n.routerState.root}function Po(n,t){return{\u0275kind:n,\u0275providers:t}}function TD(){const n=(0,h.WQX)(h.zZn);return t=>{const e=n.get(h.o8S);if(t!==e.components[0])return;const r=n.get(er),i=n.get(gN);1===n.get(DD)&&r.initialNavigation(),n.get(gh,null,h.$GK.Optional)?.setUpPreloading(),n.get(w0,null,h.$GK.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const gN=new h.nKC("",{factory:()=>new oe.B}),DD=new h.nKC("",{providedIn:"root",factory:()=>1}),gh=new h.nKC("");function C0(n){return Po(0,[{provide:gh,useExisting:ED},{provide:ph,useExisting:n}])}function _N(n){return(0,h.ngT)("NgRouterViewTransitions"),Po(9,[{provide:Um,useValue:gD},{provide:Hm,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const MD=[jt,{provide:Oi,useClass:Qd},er,Oc,{provide:zs,useFactory:E0,deps:[er]},dh,[]];let ro=(()=>{class n{constructor(){}static forRoot(e,r){return{ngModule:n,providers:[MD,[],{provide:Ks,multi:!0,useValue:e},[],r?.errorHandler?{provide:zm,useValue:r.errorHandler}:[],{provide:qc,useValue:r||{}},r?.useHash?{provide:Fe,useClass:Qp}:{provide:Fe,useClass:Ur},{provide:w0,useFactory:()=>{const n=(0,h.WQX)(An),t=(0,h.WQX)(h.SKi),e=(0,h.WQX)(qc),r=(0,h.WQX)(b0),i=(0,h.WQX)(Oi);return e.scrollOffset&&n.setOffset(e.scrollOffset),new CD(i,r,n,t,e)}},r?.preloadingStrategy?C0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wN(r):[],r?.bindToComponentInputs?Po(8,[tD,{provide:r0,useExisting:tD}]).\u0275providers:[],r?.enableViewTransitions?_N().\u0275providers:[],[{provide:I0,useFactory:TD},{provide:h.iLQ,multi:!0,useExisting:I0}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ks,multi:!0,useValue:e}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({})}return n})();function wN(n){return["disabled"===n.initialNavigation?Po(3,[(0,h.phd)(()=>{(0,h.WQX)(er).setUpLocationChangeListener()}),{provide:DD,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Po(2,[{provide:DD,useValue:0},(0,h.phd)(()=>{const t=(0,h.WQX)(h.zZn);return t.get(Xe,Promise.resolve()).then(()=>new Promise(r=>{const i=t.get(er),s=t.get(gN);dN(i,()=>{r(!0)}),t.get(b0).afterPreactivation=()=>(r(!0),s.closed?Me(void 0):s),i.initialNavigation()}))})]).\u0275providers:[]]}const I0=new h.nKC("");var io=ce(218);const PD=["toast-component",""];function CN(n,t){if(1&n){const e=h.RV6();h.j41(0,"button",5),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.remove())}),h.j41(1,"span",6),h.EFF(2,"\xd7"),h.k0s()()}}function IN(n,t){if(1&n&&(h.qex(0),h.EFF(1),h.bVm()),2&n){const e=h.XpG(2);h.R7$(),h.SpI("[",e.duplicatesCount+1,"]")}}function x0(n,t){if(1&n&&(h.j41(0,"div"),h.EFF(1),h.DNE(2,IN,2,1,"ng-container",4),h.k0s()),2&n){const e=h.XpG();h.HbH(e.options.titleClass),h.BMQ("aria-label",e.title),h.R7$(),h.SpI(" ",e.title," "),h.R7$(),h.Y8G("ngIf",e.duplicatesCount)}}function xN(n,t){if(1&n&&h.nrm(0,"div",7),2&n){const e=h.XpG();h.HbH(e.options.messageClass),h.Y8G("innerHTML",e.message,h.npT)}}function TN(n,t){if(1&n&&(h.j41(0,"div",8),h.EFF(1),h.k0s()),2&n){const e=h.XpG();h.HbH(e.options.messageClass),h.BMQ("aria-label",e.message),h.R7$(),h.SpI(" ",e.message," ")}}function T0(n,t){if(1&n&&(h.j41(0,"div"),h.nrm(1,"div",9),h.k0s()),2&n){const e=h.XpG();h.R7$(),h.xc7("width",e.width()+"%")}}class ND{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zc{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}class AN{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new oe.B;_activate=new oe.B;_manualClose=new oe.B;_resetTimeout=new oe.B;_countDuplicate=new oe.B;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class il{toastId;config;message;title;toastType;toastRef;_onTap=new oe.B;_onAction=new oe.B;constructor(t,e,r,i,s,c){this.toastId=t,this.config=e,this.message=r,this.title=i,this.toastType=s,this.toastRef=c,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const M0=new h.nKC("ToastConfig");class FD extends Zc{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,r){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=r}attachComponentPortal(t,e){const r=this._componentFactoryResolver.resolveComponentFactory(t.component);let i;return i=r.create(t.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let LD=(()=>{class n{_document=(0,h.WQX)(he);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ol{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let SN=(()=>{class n{_overlayContainer=(0,h.WQX)(LD);_componentFactoryResolver=(0,h.WQX)(h.OM3);_appRef=(0,h.WQX)(h.o8S);_document=(0,h.WQX)(he);_paneElements=new Map;create(e,r){return this._createOverlayRef(this.getPaneElement(e,r))}getPaneElement(e="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[e]||(this._paneElements.get(r)[e]=this._createPaneElement(e,r)),this._paneElements.get(r)[e]}_createPaneElement(e,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(e),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(e){return new FD(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new ol(this._createPortalHost(e))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ko=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,r,i,s,c){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=c,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,r,i={},s=""){return this._preBuildNotification(s,e,r,this.applyConfig(i))}success(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,r,this.applyConfig(i))}error(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,r,this.applyConfig(i))}info(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,r,this.applyConfig(i))}warning(e,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,r,this.applyConfig(i))}clear(e){for(const r of this.toasts)if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(e){const r=this._findToast(e);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(e="",r="",i,s){const{includeTitleDuplicates:c}=this.toastrConfig;for(const d of this.toasts)if((!c||c&&d.title===e)&&d.message===r)return d.toastRef.onDuplicate(i,s),d;return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===e)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(e,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,r,i,s)):this._buildNotification(e,r,i,s)}_buildNotification(e,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let d=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(d=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const f=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let g=r;r&&s.enableHtml&&(g=this.sanitizer.sanitize(h.WPN.HTML,r));const y=new AN(f),b=new il(this.index,s,g,i,e,y),x=h.zZn.create({providers:[{provide:il,useValue:b}],parent:this._injector}),S=new ND(s.toastComponent,x),M=f.attach(S,s.newestOnTop);y.componentInstance=M.instance;const R={toastId:this.index,title:i||"",message:r||"",toastRef:y,onShown:y.afterActivate(),onHidden:y.afterClosed(),onTap:b.onTap(),onAction:b.onAction(),portal:M};return d||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{R.toastRef.activate()})),this.toasts.push(R),R}static \u0275fac=function(r){return new(r||n)(h.KVO(M0),h.KVO(SN),h.KVO(h.zZn),h.KVO(Ji),h.KVO(h.SKi))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const MN={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=(0,h.vPA)(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if("inactive"===this.state().value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,r,i){this.toastrService=e,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=(0,h.vPA)({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>({...e,value:"active"})),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width()||100===this.width()||!this.options.timeOut)return;const e=(new Date).getTime();this.width.set((this.hideTime-e)/this.options.timeOut*100),"increasing"===this.options.progressAnimation&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>({...e,value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state().value&&(clearTimeout(this.timeout),this.state.update(e=>({...e,value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state().value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state().value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state().value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),r)):this.timeout=setTimeout(()=>e(),r)}outsideInterval(e,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),r)):this.intervalId=setInterval(()=>e(),r)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(r){return new(r||n)(h.rXU(ko),h.rXU(il),h.rXU(h.SKi))};static \u0275cmp=h.VBU({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&h.bIt("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(h.zvX("@flyInOut",i._state),h.HbH(i.toastClasses),h.xc7("display",i.displayStyle))},attrs:PD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&h.DNE(0,CN,3,0,"button",0)(1,x0,3,5,"div",1)(2,xN,1,3,"div",2)(3,TN,2,4,"div",3)(4,T0,2,2,"div",4),2&r&&(h.Y8G("ngIf",i.options.closeButton),h.R7$(),h.Y8G("ngIf",i.title),h.R7$(),h.Y8G("ngIf",i.message&&i.options.enableHtml),h.R7$(),h.Y8G("ngIf",i.message&&!i.options.enableHtml),h.R7$(),h.Y8G("ngIf",i.options.progressBar))},dependencies:[Fs],encapsulation:2,data:{animation:[(0,io.hZ)("flyInOut",[(0,io.wk)("inactive",(0,io.iF)({opacity:0})),(0,io.wk)("active",(0,io.iF)({opacity:1})),(0,io.wk)("removed",(0,io.iF)({opacity:0})),(0,io.kY)("inactive => active",(0,io.i0)("{{ easeTime }}ms {{ easing }}")),(0,io.kY)("active => removed",(0,io.i0)("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})()};var j=ce(467);const BD=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=63&i|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=63&i|128)}return t},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],c=i+1<n.length,d=c?n[i+1]:0,f=i+2<n.length,g=f?n[i+2]:0;let C=(15&d)<<2|g>>6,x=63&g;f||(x=64,c||(C=64)),r.push(e[s>>2],e[(3&s)<<4|d>>4],e[C],e[x])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(BD(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[e++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const f=((7&i)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(1023&f))}else{const s=n[e++],c=n[e++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&c)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=e[n.charAt(i++)],d=i<n.length?e[n.charAt(i)]:0;++i;const g=i<n.length?e[n.charAt(i)]:64;++i;const b=i<n.length?e[n.charAt(i)]:64;if(++i,null==s||null==d||null==g||null==b)throw new Qm;r.push(s<<2|d>>4),64!==g&&(r.push(d<<4&240|g>>2),64!==b&&r.push(g<<6&192|b))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Qm extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qs=function(n){return function(n){const t=BD(n);return P0.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Jc=function(n){try{return P0.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},F0=()=>{try{return function DW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Jc(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},FN=n=>{var t,e;return null===(e=null===(t=F0())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]},UD=()=>{var n;return null===(n=F0())||void 0===n?void 0:n.config},HD=n=>{var t;return null===(t=F0())||void 0===t?void 0:t[`_${n}`]};class Ym{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}function In(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Jm(){try{return"object"==typeof indexedDB}catch{return!1}}class fs extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],c=s?function QD(n,t){return n.replace(RW,(e,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new fs(i,`${this.serviceName}: ${c} (${i}).`,r)}}const RW=/\{\$([^}]+)}/g;function ps(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const s=n[i],c=t[i];if(ng(s)&&ng(c)){if(!ps(s,c))return!1}else if(s!==c)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function ng(n){return null!==n&&"object"==typeof n}function rg(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function sl(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function ig(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}class BW{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");i=function WN(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r},void 0===i.next&&(i.next=nu),void 0===i.error&&(i.error=nu),void 0===i.complete&&(i.complete=nu);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nu(){}function Xt(n){return n&&n._delegate?n._delegate:n}class No{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const iu="[DEFAULT]";class XN{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new Ym;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function QN(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:iu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=iu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,j.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=iu){return this.instances.has(t)}getOptions(t=iu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,c]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&c.resolve(i);return i}onInit(t,e){var r;const i=this.normalizeInstanceIdentifier(e),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const c=this.instances.get(i);return c&&t(c,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===iu?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(t=iu){return this.component?this.component.multipleInstances?t:iu:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class V0{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new XN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const B0=[];var it=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(it||{});const Bi={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},YN=it.INFO,JD={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},ZN=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),i=JD[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${n.name}:`,...e)};class sg{constructor(t){this.name=t,this._logLevel=YN,this._logHandler=ZN,this._userLogHandler=null,B0.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Bi[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}let tA,nA;const ag=new WeakMap,lg=new WeakMap,cg=new WeakMap,ou=new WeakMap,ms=new WeakMap;let al={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return lg.get(n);if("objectStoreNames"===t)return n.objectStoreNames||cg.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return gs(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function tF(n){return"function"==typeof n?function eF(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function We(){return nA||(nA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(yh(this),t),gs(ag.get(this))}:function(...t){return gs(n.apply(yh(this),t))}:function(t,...e){const r=n.call(yh(this),t,...e);return cg.set(r,t.sort?t.sort():[t]),gs(r)}}(n):(n instanceof IDBTransaction&&function iA(n){if(lg.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",c),n.removeEventListener("abort",c)},s=()=>{e(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",c),n.addEventListener("abort",c)});lg.set(n,t)}(n),((n,t)=>t.some(e=>n instanceof e))(n,function JN(){return tA||(tA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,al):n)}function gs(n){if(n instanceof IDBRequest)return function rA(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",c)},s=()=>{e(gs(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&ag.set(e,n)}).catch(()=>{}),ms.set(t,n),t}(n);if(ou.has(n))return ou.get(n);const t=tF(n);return t!==n&&(ou.set(n,t),ms.set(t,n)),t}const yh=n=>ms.get(n),ug=["get","getKey","getAll","getAllKeys","count"],iF=["put","add","delete","clear"],vh=new Map;function su(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(vh.get(t))return vh.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=iF.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ug.includes(e))return;const s=function(){var c=(0,j.A)(function*(d,...f){const g=this.transaction(d,i?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(f.shift())),(yield Promise.all([y[e](...f),i&&g.done]))[0]});return function(f){return c.apply(this,arguments)}}();return vh.set(t,s),s}!function oA(n){al=n(al)}(n=>({...n,get:(t,e,r)=>su(t,e)||n.get(t,e,r),has:(t,e)=>!!su(t,e)||n.has(t,e)}));class j0{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function sA(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}return null}).filter(e=>e).join(" ")}}const bh="@firebase/app",oo=new sg("@firebase/app"),aA="@firebase/app-compat",dg="@firebase/analytics-compat",U0="@firebase/analytics",oF="@firebase/app-check-compat",sF="@firebase/app-check",lA="@firebase/auth",aF="@firebase/auth-compat",lF="@firebase/database",cF="@firebase/data-connect",qr="@firebase/database-compat",uF="@firebase/functions",cA="@firebase/functions-compat",qW="@firebase/installations",dF="@firebase/installations-compat",hF="@firebase/messaging",fF="@firebase/messaging-compat",H0="@firebase/performance",Fo="@firebase/performance-compat",z0="@firebase/remote-config",pF="@firebase/remote-config-compat",KW="@firebase/storage",uA="@firebase/storage-compat",$0="@firebase/firestore",W0="@firebase/vertexai",mF="@firebase/firestore-compat",gF="firebase",fg="[DEFAULT]",lu={[bh]:"fire-core",[aA]:"fire-core-compat",[U0]:"fire-analytics",[dg]:"fire-analytics-compat",[sF]:"fire-app-check",[oF]:"fire-app-check-compat",[lA]:"fire-auth",[aF]:"fire-auth-compat",[lF]:"fire-rtdb",[cF]:"fire-data-connect",[qr]:"fire-rtdb-compat",[uF]:"fire-fn",[cA]:"fire-fn-compat",[qW]:"fire-iid",[dF]:"fire-iid-compat",[hF]:"fire-fcm",[fF]:"fire-fcm-compat",[H0]:"fire-perf",[Fo]:"fire-perf-compat",[z0]:"fire-rc",[pF]:"fire-rc-compat",[KW]:"fire-gcs",[uA]:"fire-gcs-compat",[$0]:"fire-fst",[mF]:"fire-fst-compat",[W0]:"fire-vertex","fire-js":"fire-js",[gF]:"fire-js-all"},yi=new Map,ll=new Map,cl=new Map;function dA(n,t){try{n.container.addComponent(t)}catch(e){oo.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kr(n){const t=n.name;if(cl.has(t))return oo.debug(`There were multiple attempts to register component ${t}.`),!1;cl.set(t,n);for(const e of yi.values())dA(e,n);for(const e of ll.values())dA(e,n);return!0}function _s(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function vi(n){return null!=n&&void 0!==n.settings}const Er=new tu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class pg{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const Ys="11.6.0";function K0(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:fg,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Er.create("bad-app-name",{appName:String(i)});if(e||(e=UD()),!e)throw Er.create("no-options");const s=yi.get(i);if(s){if(ps(e,s.options)&&ps(r,s.config))return s;throw Er.create("duplicate-app",{appName:i})}const c=new V0(i);for(const f of cl.values())c.addComponent(f);const d=new pg(e,r,c);return yi.set(i,d),d}function mg(n=fg){const t=yi.get(n);if(!t&&n===fg&&UD())return K0();if(!t)throw Er.create("no-app",{appName:n});return t}function X0(){return Array.from(yi.values())}function tr(n,t,e){var r;let i=null!==(r=lu[n])&&void 0!==r?r:n;e&&(i+=`-${e}`);const s=i.match(/\s|\//),c=t.match(/\s|\//);if(s||c){const d=[`Unable to register library "${i}" with version "${t}":`];return s&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void oo.warn(d.join(" "))}kr(new No(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Zs="firebase-heartbeat-store";let J0=null;function ew(){return J0||(J0=function nF(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){const c=indexedDB.open(n,t),d=gs(c);return r&&c.addEventListener("upgradeneeded",f=>{r(gs(c.result),f.oldVersion,f.newVersion,gs(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}("firebase-heartbeat-database",1,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(Zs)}catch(e){console.warn(e)}}}).catch(n=>{throw Er.create("idb-open",{originalErrorMessage:n.message})})),J0}function tw(){return(tw=(0,j.A)(function*(n){try{const e=(yield ew()).transaction(Zs),r=yield e.objectStore(Zs).get(nw(n));return yield e.done,r}catch(t){if(t instanceof fs)oo.warn(t.message);else{const e=Er.create("idb-get",{originalErrorMessage:t?.message});oo.warn(e.message)}}})).apply(this,arguments)}function ul(n,t){return wh.apply(this,arguments)}function wh(){return(wh=(0,j.A)(function*(n,t){try{const r=(yield ew()).transaction(Zs,"readwrite");yield r.objectStore(Zs).put(t,nw(n)),yield r.done}catch(e){if(e instanceof fs)oo.warn(e.message);else{const r=Er.create("idb-set",{originalErrorMessage:e?.message});oo.warn(r.message)}}})).apply(this,arguments)}function nw(n){return`${n.name}!${n.options.appId}`}class IF{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new TF(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return(0,j.A)(function*(){var e,r;try{const s=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=pA();if(null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(t._heartbeatsCache=yield t._heartbeatsCachePromise,null==(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||t._heartbeatsCache.lastSentHeartbeatDate===c||t._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(t._heartbeatsCache.heartbeats.push({date:c,agent:s}),t._heartbeatsCache.heartbeats.length>30){const d=function gA(n){if(0===n.length)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}(t._heartbeatsCache.heartbeats);t._heartbeatsCache.heartbeats.splice(d,1)}return t._storage.overwrite(t._heartbeatsCache)}catch(i){oo.warn(i)}})()}getHeartbeatsHeader(){var t=this;return(0,j.A)(function*(){var e;try{if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=pA(),{heartbeatsToSend:i,unsentEntries:s}=function xF(n,t=1024){const e=[];let r=n.slice();for(const i of n){const s=e.find(c=>c.agent===i.agent);if(s){if(s.dates.push(i.date),mA(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),mA(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}(t._heartbeatsCache.heartbeats),c=Qs(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(t._heartbeatsCache.heartbeats=s,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),c}catch(r){return oo.warn(r),""}})()}}function pA(){return(new Date).toISOString().substring(0,10)}class TF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,j.A)(function*(){return!!Jm()&&function XD(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,j.A)(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function EF(n){return tw.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,j.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return ul(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,j.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const s=yield e.read();return ul(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}})()}}function mA(n){return Qs(JSON.stringify({version:2,heartbeats:n})).length}function iw(n){void 0===n&&((0,h.Af3)(iw),n=(0,h.WQX)(h.zZn));const t=n.get(h.u5s);return e=>new kt.c(r=>{const i=t.add();let s=!1;function c(){s||(i(),s=!0)}const d=e.subscribe({next:f=>{r.next(f),c()},complete:()=>{r.complete(),c()},error:f=>{r.error(f),c()}});return d.add(()=>{r.unsubscribe(),c()}),d})}!function _A(n){kr(new No("platform-logger",t=>new j0(t),"PRIVATE")),kr(new No("heartbeat",t=>new IF(t),"PRIVATE")),tr(bh,"0.11.4",n),tr(bh,"0.11.4","esm2017"),tr("fire-js","")}(""),tr("firebase","11.6.0","app");class Eh extends rs.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const Ch={setInterval(n,t,...e){const{delegate:r}=Ch;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Ch;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var EA=ce(908);class ys extends Eh{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,r=0){return Ch.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Ch.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,EA.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const dl={now:()=>(dl.delegate||Date).now(),delegate:void 0};class Ih{constructor(t,e=Ih.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Ih.now=dl.now;class xh extends Ih{constructor(t,e=Ih.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const YW=new class Th extends xh{}(class ow extends ys{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,e,r):(t.flush(this),0)}}),Js=new xh(ys),RF=Js,yg=new h.RxE("ANGULARFIRE2_VERSION");function uu(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(c=>c.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}const Dh=(n,t)=>{const e=t?[t]:X0(),r=[];return e.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};var du=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(du||{}),CA=(0,h.naY)()&&typeof Zone<"u"?du.WARN:du.SILENT;class IA{zone;delegate;constructor(t,e=YW){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,r){const i=this.zone;return this.delegate.schedule(function(c){i?i.runGuarded(()=>{t.apply(this,[c])}):t.apply(this,[c])},e,r)}}let vg=(()=>{class n{outsideAngular;insideAngular;constructor(){const e=(0,h.WQX)(h.SKi);this.outsideAngular=e.runOutsideAngular(()=>new IA(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new IA(typeof Zone>"u"?void 0:Zone.current,Js))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PF=!1;function hl(n){const t=(0,h.WQX)(h.SKi,{optional:!0});return t?t.run(()=>n()):n()}const OF=(n,t,e)=>(...r)=>(t&&setTimeout(t,0),(0,h.N4e)(e,()=>hl(()=>n.apply(void 0,r)))),hr=(n,t,e)=>(e||=t?du.WARN:du.VERBOSE,function(){let r;const i=arguments;let s,c,d;try{s=(0,h.WQX)(vg),c=(0,h.WQX)(h.u5s),d=(0,h.WQX)(h.uvJ)}catch{return function kF(n,t){!PF&&(CA>du.SILENT||(0,h.naY)())&&(PF=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),CA>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}(n,e),n.apply(this,i)}for(let g=0;g<arguments.length;g++)"function"==typeof i[g]&&(t&&(r||=hl(()=>c.add())),i[g]=OF(i[g],r,d));const f=function JW(n){const t=(0,h.WQX)(h.SKi,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}(()=>n.apply(this,i));return t?f instanceof kt.c?f.pipe(Pi(s.outsideAngular),Xn(s.insideAngular),iw(d)):f instanceof Promise?hl(()=>new Promise((g,y)=>{c.run(()=>f).then(b=>(0,h.N4e)(d,()=>hl(()=>g(b))),b=>(0,h.N4e)(d,()=>hl(()=>y(b))))})):"function"==typeof f&&r?function(){return setTimeout(r,0),f.apply(this,arguments)}:hl(()=>f):f instanceof kt.c?f.pipe(Pi(s.outsideAngular),Xn(s.insideAngular)):hl(()=>f)});class ea{constructor(t){return t}}class fl{constructor(){return X0()}}const wg=new h.nKC("angularfire2._apps"),Ah={provide:ea,useFactory:function bg(n){return n&&1===n.length?n[0]:new ea(mg())},deps:[[new h.Xx1,wg]]},TA={provide:fl,deps:[[new h.Xx1,wg]]};function NF(n){return(t,e)=>{const r=e.get(h.Agw);tr("angularfire",yg.full,"core"),tr("angularfire",yg.full,"app"),tr("angular",h.xvI.full,r.toString());const i=t.runOutsideAngular(()=>n(e));return new ea(i)}}const LF=hr(K0,!0),sw=new Map,SA={activated:!1,tokenObservers:[]},Mh={initialized:!1,enabled:!1};function pn(n){return sw.get(n)||Object.assign({},SA)}function Cg(){return Mh}class aw{constructor(t,e,r,i,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,j.A)(function*(){e.stop();try{e.pending=new Ym,e.pending.promise.catch(r=>{}),yield function Ig(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Ym,e.pending.promise.catch(r=>{}),yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fr=new tu("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"});function lw(n){if(!pn(n).activated)throw fr.create("use-before-activation",{appName:n.name})}function fu(n,t){return pl.apply(this,arguments)}function pl(){return(pl=(0,j.A)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},i=e.getImmediate({optional:!0});if(i){const b=yield i.getHeartbeatsHeader();b&&(r["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(t),headers:r};let c,d;try{c=yield fetch(n,s)}catch(b){throw fr.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==c.status)throw fr.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(b){throw fr.create("fetch-parse-error",{originalErrorMessage:b?.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const g=1e3*Number(f[1]),y=Date.now();return{token:d.token,expireTimeMillis:y+g,issuedAtTimeMillis:y}})).apply(this,arguments)}function LA(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const Ag="firebase-app-check-store";let Ph=null;function Mg(){return(Mg=(0,j.A)(function*(n,t){const r=(yield function Sg(){return Ph||(Ph=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(fr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ag,{keyPath:"compositeKey"})}}catch(e){t(fr.create("storage-open",{originalErrorMessage:e?.message}))}}),Ph)}()).transaction(Ag,"readwrite"),s=r.objectStore(Ag).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=f=>{c()},r.onerror=f=>{var g;d(fr.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const ml=new sg("@firebase/app-check");function hw(n,t){return Jm()?function BA(n,t){return function jA(n,t){return Mg.apply(this,arguments)}(function Pg(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ml.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function kh(){return Cg().enabled}function pw(){return mw.apply(this,arguments)}function mw(){return(mw=(0,j.A)(function*(){const n=Cg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gl={error:"UNKNOWN_ERROR"};function Oh(n){return P0.encodeString(JSON.stringify(n),!1)}function pu(n){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,j.A)(function*(n,t=!1,e=!1){const r=n.app;lw(r);const i=pn(r);let c,s=i.token;if(s&&!mu(s)&&(i.token=void 0,s=void 0),!s){const g=yield i.cachedTokenPromise;g&&(mu(g)?s=g:yield hw(r,void 0))}if(!t&&s&&mu(s))return{token:s.token};let f,d=!1;if(kh())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=fu(LA(r,yield pw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const g=yield i.exchangeTokenPromise;return yield hw(r,g),i.token=g,{token:g.token}}catch(g){return"appCheck/throttled"===g.code||"appCheck/initial-throttle"===g.code?ml.warn(g.message):e&&ml.error(g),Og(g)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),s=yield pn(r).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code||"appCheck/initial-throttle"===g.code?ml.warn(g.message):e&&ml.error(g),c=g}return s?c?f=mu(s)?{token:s.token,internalError:c}:Og(c):(f={token:s.token},i.token=s,yield hw(r,s)):f=Og(c),d&&function zA(n,t){const e=pn(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(r,f),f})).apply(this,arguments)}function ta(){return(ta=(0,j.A)(function*(n){const t=n.app;lw(t);const{provider:e}=pn(t);if(kh()){const r=yield pw(),{token:i}=yield fu(LA(t,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield e.getToken();return{token:r}}})).apply(this,arguments)}function gw(n,t){const e=pn(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=r}function HA(n){const{app:t}=n,e=pn(t);let r=e.tokenRefresher;r||(r=function KF(n){const{app:t}=n;return new aw((0,j.A)(function*(){let r;if(r=pn(t).token?yield pu(n,!0):yield pu(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const e=pn(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=r),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function mu(n){return n.expireTimeMillis-Date.now()>0}function Og(n){return{token:Oh(gl),error:n}}class XF{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=pn(this.app);for(const e of t)gw(this.app,e.next);return Promise.resolve()}}const gu="app-check-internal";!function bw(){kr(new No("app-check",n=>function $A(n,t){return new XF(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(gu).initialize()})),kr(new No(gu,n=>function Ng(n){return{getToken:t=>pu(n,t),getLimitedUseToken:()=>function UA(n){return ta.apply(this,arguments)}(n),addTokenListener:t=>function kg(n,t,e,r){const{app:i}=n,s=pn(i);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:r,type:t}],s.token&&mu(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),HA(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HA(n))}(n,"INTERNAL",t),removeTokenListener:t=>gw(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),tr("@firebase/app-check","0.8.13")}();class ia{constructor(){return Dh("app-check")}}typeof window<"u"&&window;const d4=function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},JA=new tu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ug=new sg("@firebase/auth");function Hg(n,...t){Ug.logLevel<=it.ERROR&&Ug.error(`Auth (${Ys}): ${n}`,...t)}function Kr(n,...t){throw zg(n,...t)}function Or(n,...t){return zg(n,...t)}function ww(n,t,e){const r=Object.assign(Object.assign({},d4()),{[t]:e});return new tu("auth","Firebase",r).create(t,{appName:n.name})}function nr(n){return ww(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zg(n,...t){if("string"!=typeof n){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return JA.create(n,...t)}function fe(n,t,...e){if(!n)throw zg(t,...e)}function so(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Hg(t),new Error(t)}function oa(n,t){n||so(t)}function _u(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Ew(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function eS(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function jh(){return"http:"===Ew()||"https:"===Ew()}()||function Zm(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Uh{constructor(t,e){this.shortDelay=t,this.longDelay=e,oa(e>t,"Short delay should be less than long delay!"),this.isMobile=function zD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}()||function GD(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cw(n,t){oa(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class $g{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Iw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xw=new Uh(3e4,6e4);function Nt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function zt(n,t,e,r){return Tw.apply(this,arguments)}function Tw(){return(Tw=(0,j.A)(function*(n,t,e,r,i={}){return nS(n,i,(0,j.A)(function*(){let s={},c={};r&&("GET"===t?c=r:s={body:JSON.stringify(r)});const d=rg(Object.assign({key:n.config.apiKey},c)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},s);return function WD(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(g.referrerPolicy="no-referrer"),$g.fetch()(yield Wg(n,n.config.apiHost,e,d),g)}))})).apply(this,arguments)}function nS(n,t,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,j.A)(function*(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Iw),t);try{const i=new iS(n),s=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();const c=yield s.json();if("needConfirmation"in c)throw zh(n,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const d=s.ok?c.errorMessage:c.error.message,[f,g]=d.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===f)throw zh(n,"credential-already-in-use",c);if("EMAIL_EXISTS"===f)throw zh(n,"email-already-in-use",c);if("USER_DISABLED"===f)throw zh(n,"user-disabled",c);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ww(n,y,g);Kr(n,y)}}catch(i){if(i instanceof fs)throw i;Kr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Lo(n,t,e,r){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,j.A)(function*(n,t,e,r,i={}){const s=yield zt(n,t,e,r,i);return"mfaPendingCredential"in s&&Kr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Wg(n,t,e,r){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,j.A)(function*(n,t,e,r){const i=`${t}${e}?${r}`,s=n,c=s.config.emulator?Cw(n.config,i):`${n.config.apiScheme}://${i}`;return tS.includes(e)&&(yield s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())?s._getPersistence()._getFinalTarget(c).toString():c})).apply(this,arguments)}function rS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),xw.get())})}}function zh(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=Or(n,t,r);return i.customData._tokenResponse=e,i}function oS(n){return void 0!==n&&void 0!==n.enterprise}class qg{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return rS(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}function Kg(){return(Kg=(0,j.A)(function*(n,t){return zt(n,"GET","/v2/recaptchaConfig",Nt(n,t))})).apply(this,arguments)}function Xg(){return(Xg=(0,j.A)(function*(n,t){return zt(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Mw(n,t){return cS.apply(this,arguments)}function cS(){return(cS=(0,j.A)(function*(n,t){return zt(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Qg(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Rw(){return(Rw=(0,j.A)(function*(n,t=!1){const e=Xt(n),r=yield e.getIdToken(t),i=Wh(r);fe(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,c=s?.sign_in_provider;return{claims:i,token:r,authTime:Qg(uS(i.auth_time)),issuedAtTime:Qg(uS(i.iat)),expirationTime:Qg(uS(i.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function uS(n){return 1e3*Number(n)}function Wh(n){const[t,e,r]=n.split(".");if(void 0===t||void 0===e||void 0===r)return Hg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jc(e);return i?JSON.parse(i):(Hg("Failed to decode base64 JWT payload"),null)}catch(i){return Hg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Pw(n){const t=Wh(n);return fe(t,"internal-error"),fe(typeof t.exp<"u","internal-error"),fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function sa(n,t){return dS.apply(this,arguments)}function dS(){return(dS=(0,j.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(r){throw r instanceof fs&&function f4({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class p4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout((0,j.A)(function*(){yield e.iteration()}),r)}iteration(){var t=this;return(0,j.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class hS{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qg(this.lastLoginAt),this.creationTime=Qg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yg(n){return fS.apply(this,arguments)}function fS(){return(fS=(0,j.A)(function*(n){var t;const e=n.auth,r=yield n.getIdToken(),i=yield sa(n,Mw(e,{idToken:r}));fe(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const c=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?bl(s.providerUserInfo):[],d=function _L(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(n.providerData,c),y=!!n.isAnonymous&&!(n.email&&s.passwordHash||d?.length),b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new hS(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,b)})).apply(this,arguments)}function pS(){return(pS=(0,j.A)(function*(n){const t=Xt(n);yield Yg(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function bl(n){return n.map(t=>{var{providerId:e}=t,r=ft(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function kw(){return(kw=(0,j.A)(function*(n,t){const e=yield nS(n,{},(0,j.A)(function*(){const r=rg({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,c=yield Wg(n,i,"/v1/token",`key=${s}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",$g.fetch()(c,{method:"POST",headers:d,body:r})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function Zg(){return(Zg=(0,j.A)(function*(n,t){return zt(n,"POST","/v2/accounts:revokeToken",Nt(n,t))})).apply(this,arguments)}class yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){fe(t.idToken,"internal-error"),fe(typeof t.idToken<"u","internal-error"),fe(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Pw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){fe(0!==t.length,"internal-error");const e=Pw(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var r=this;return(0,j.A)(function*(){return e||!r.accessToken||r.isExpired?(fe(r.refreshToken,t,"user-token-expired"),r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var r=this;return(0,j.A)(function*(){const{accessToken:i,refreshToken:s,expiresIn:c}=yield function Gh(n,t){return kw.apply(this,arguments)}(t,e);r.updateTokensAndExpiration(i,s,Number(c))})()}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:s}=e,c=new yu;return r&&(fe("string"==typeof r,"internal-error",{appName:t}),c.refreshToken=r),i&&(fe("string"==typeof i,"internal-error",{appName:t}),c.accessToken=i),s&&(fe("number"==typeof s,"internal-error",{appName:t}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yu,this.toJSON())}_performRefresh(){return so("not implemented")}}function wl(n,t){fe("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class ao{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,s=ft(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hS(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,j.A)(function*(){const r=yield sa(e,e.stsTokenManager.getToken(e.auth,t));return fe(r,e.auth,"internal-error"),e.accessToken!==r&&(e.accessToken=r,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),r})()}getIdTokenResult(t){return function gL(n){return Rw.apply(this,arguments)}(this,t)}reload(){return function m4(n){return pS.apply(this,arguments)}(this)}_assign(t){this!==t&&(fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ao(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var r=this;return(0,j.A)(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield Yg(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return(0,j.A)(function*(){if(vi(t.auth.app))return Promise.reject(nr(t.auth));const e=yield t.getIdToken();return yield sa(t,function aS(n,t){return Xg.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,s,c,d,f,g,y;const b=null!==(r=e.displayName)&&void 0!==r?r:void 0,C=null!==(i=e.email)&&void 0!==i?i:void 0,x=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,S=null!==(c=e.photoURL)&&void 0!==c?c:void 0,M=null!==(d=e.tenantId)&&void 0!==d?d:void 0,R=null!==(f=e._redirectEventId)&&void 0!==f?f:void 0,B=null!==(g=e.createdAt)&&void 0!==g?g:void 0,H=null!==(y=e.lastLoginAt)&&void 0!==y?y:void 0,{uid:G,emailVerified:Y,isAnonymous:Q,providerData:Z,stsTokenManager:V}=e;fe(G&&V,t,"internal-error");const k=yu.fromJSON(this.name,V);fe("string"==typeof G,t,"internal-error"),wl(b,t.name),wl(C,t.name),fe("boolean"==typeof Y,t,"internal-error"),fe("boolean"==typeof Q,t,"internal-error"),wl(x,t.name),wl(S,t.name),wl(M,t.name),wl(R,t.name),wl(B,t.name),wl(H,t.name);const L=new ao({uid:G,auth:t,email:C,emailVerified:Y,displayName:b,isAnonymous:Q,photoURL:S,phoneNumber:x,tenantId:M,stsTokenManager:k,createdAt:B,lastLoginAt:H});return Z&&Array.isArray(Z)&&(L.providerData=Z.map(z=>Object.assign({},z))),R&&(L._redirectEventId=R),L}static _fromIdTokenResponse(t,e,r=!1){return(0,j.A)(function*(){const i=new yu;i.updateFromServerResponse(e);const s=new ao({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Yg(s),s})()}static _fromGetAccountInfoResponse(t,e,r){return(0,j.A)(function*(){const i=e.users[0];fe(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?bl(i.providerUserInfo):[],c=!(i.email&&i.passwordHash||s?.length),d=new yu;d.updateFromIdToken(r);const f=new ao({uid:i.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||s?.length)};return Object.assign(f,g),f})()}}const mS=new Map;function vs(n){oa(n instanceof Function,"Expected a class definition");let t=mS.get(n);return t?(oa(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,mS.set(n,t),t)}const Ow=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,j.A)(function*(){return!0})()}_set(e,r){var i=this;return(0,j.A)(function*(){i.storage[e]=r})()}_get(e){var r=this;return(0,j.A)(function*(){const i=r.storage[e];return void 0===i?null:i})()}_remove(e){var r=this;return(0,j.A)(function*(){delete r.storage[e]})()}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})();function Jg(n,t,e){return`firebase:${n}:${t}:${e}`}class El{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jg("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,j.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);if(!e)return null;if("string"==typeof e){const r=yield Mw(t.auth,{idToken:e}).catch(()=>{});return r?ao._fromGetAccountInfoResponse(t.auth,r,e):null}return ao._fromJSON(t.auth,e)})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,j.A)(function*(){if(e.persistence===t)return;const r=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,r?e.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return(0,j.A)(function*(){if(!e.length)return new El(vs(Ow),t,r);const i=(yield Promise.all(e.map(function(){var g=(0,j.A)(function*(y){if(yield y._isAvailable())return y});return function(y){return g.apply(this,arguments)}}()))).filter(g=>g);let s=i[0]||vs(Ow);const c=Jg(r,t.config.apiKey,t.name);let d=null;for(const g of e)try{const y=yield g._get(c);if(y){let b;if("string"==typeof y){const C=yield Mw(t,{idToken:y}).catch(()=>{});if(!C)break;b=yield ao._fromGetAccountInfoResponse(t,C,y)}else b=ao._fromJSON(t,y);g!==s&&(d=b),s=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return s._shouldAllowMigration&&f.length?(s=f[0],d&&(yield s._set(c,d.toJSON())),yield Promise.all(e.map(function(){var g=(0,j.A)(function*(y){if(y!==s)try{yield y._remove(c)}catch{}});return function(y){return g.apply(this,arguments)}}())),new El(s,t,r)):new El(s,t,r)})()}}function Nw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yL(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vL(t))return"Blackberry";if(e_(t))return"Webos";if(_S(t))return"Safari";if((t.includes("chrome/")||aa(t))&&!t.includes("edge/"))return"Chrome";if(yS(t))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function yL(n=In()){return/firefox\//i.test(n)}function _S(n=In()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aa(n=In()){return/crios\//i.test(n)}function Fw(n=In()){return/iemobile/i.test(n)}function yS(n=In()){return/android/i.test(n)}function vL(n=In()){return/blackberry/i.test(n)}function e_(n=In()){return/webos/i.test(n)}function qh(n=In()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bS(n=In()){return qh(n)||yS(n)||e_(n)||vL(n)||/windows phone/i.test(n)||Fw(n)}function Vw(n,t=[]){let e;switch(n){case"Browser":e=Nw(In());break;case"Worker":e=`${Nw(In())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ys}/${r}`}class bL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=s=>new Promise((c,d)=>{try{c(t(s))}catch(f){d(f)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,j.A)(function*(){if(e.auth.currentUser===t)return;const r=[];try{for(const i of e.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Kh(){return(Kh=(0,j.A)(function*(n,t={}){return zt(n,"GET","/v2/passwordPolicy",Nt(n,t))})).apply(this,arguments)}class CL{constructor(t){var e,r,i,s;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=c.minPasswordLength)&&void 0!==e?e:6,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),void 0!==c.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),void 0!==c.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),void 0!==c.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),void 0!==c.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,s,c,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=null===(e=f.meetsMinPasswordLength)||void 0===e||e),f.isValid&&(f.isValid=null===(r=f.meetsMaxPasswordLength)||void 0===r||r),f.isValid&&(f.isValid=null===(i=f.containsLowercaseLetter)||void 0===i||i),f.isValid&&(f.isValid=null===(s=f.containsUppercaseLetter)||void 0===s||s),f.isValid&&(f.isValid=null===(c=f.containsNumericCharacter)||void 0===c||c),f.isValid&&(f.isValid=null===(d=f.containsNonAlphanumericCharacter)||void 0===d||d),f}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let r;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class wS{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new bL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){var r=this;return e&&(this._popupRedirectResolver=vs(e)),this._initializationPromise=this.queue((0,j.A)(function*(){var i,s,c;if(!r._deleted&&(r.persistenceManager=yield El.create(r,t),null===(i=r._resolvePersistenceManagerAvailable)||void 0===i||i.call(r),!r._deleted)){if(null!==(s=r._popupRedirectResolver)&&void 0!==s&&s._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(e),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,j.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,j.A)(function*(){try{const r=yield Mw(e,{idToken:t}),i=yield ao._fromGetAccountInfoResponse(e,r,t);yield e.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,j.A)(function*(){var r;if(vi(e.app)){const d=e.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(d).then(f,f))}):e.directlySetCurrentUser(null)}const i=yield e.assertedPersistence.getCurrentUser();let s=i,c=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const d=null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId,f=s?._redirectEventId,g=yield e.tryRedirectSignIn(t);(!d||d===f)&&g?.user&&(s=g.user,c=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(c)try{yield e.beforeStateQueue.runMiddleware(s)}catch(d){s=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(d))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return fe(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return(0,j.A)(function*(){let r=null;try{r=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,j.A)(function*(){try{yield Yg(t)}catch(r){if("auth/network-request-failed"!==r?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function fL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,j.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,j.A)(function*(){if(vi(e.app))return Promise.reject(nr(e));const r=t?Xt(t):null;return r&&fe(r.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(r&&r._clone(e))})()}_updateCurrentUser(t,e=!1){var r=this;return(0,j.A)(function*(){if(!r._deleted)return t&&fe(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),e||(yield r.beforeStateQueue.runMiddleware(t)),r.queue((0,j.A)(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,j.A)(function*(){return vi(t.app)?Promise.reject(nr(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return vi(this.app)?Promise.reject(nr(this)):this.queue((0,j.A)(function*(){yield e.assertedPersistence.setPersistence(vs(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,j.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const r=e._getPasswordPolicyInternal();return r.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,j.A)(function*(){const e=yield function wL(n){return Kh.apply(this,arguments)}(t),r=new CL(e);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,j.A)(function*(){if(e.currentUser){const r=yield e.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};null!=e.tenantId&&(i.tenantId=e.tenantId),yield function g4(n,t){return Zg.apply(this,arguments)}(e,i)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var r=this;return(0,j.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,j.A)(function*(){if(!e.redirectPersistenceManager){const r=t&&vs(t)||e._popupRedirectResolver;fe(r,e,"argument-error"),e.redirectPersistenceManager=yield El.create(e,[vs(r._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,j.A)(function*(){var r,i;return e._isInitialized&&(yield e.queue((0,j.A)(function*(){}))),(null===(r=e._currentUser)||void 0===r?void 0:r._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,j.A)(function*(){if(t===e.currentUser)return e.queue((0,j.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(d,this,"internal-error"),d.then(()=>{c||s(this.currentUser)}),"function"==typeof e){const f=t.addObserver(e,r,i);return()=>{c=!0,f()}}{const f=t.addObserver(e);return()=>{c=!0,f()}}}directlySetCurrentUser(t){var e=this;return(0,j.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,j.A)(function*(){var e;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield t._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var t=this;return(0,j.A)(function*(){var e;if(vi(t.app)&&t.app.settings.appCheckToken)return t.app.settings.appCheckToken;const r=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return r?.error&&function Bh(n,...t){Ug.logLevel<=it.WARN&&Ug.warn(`Auth (${Ys}): ${n}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function mn(n){return Xt(n)}class Bw{constructor(t){this.auth=t,this.observer=null,this.addObserver=function VW(n,t){const e=new BW(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vu={loadJS:()=>(0,j.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jw(n){return vu.loadJS(n)}function CS(n){return`__${n}${Math.floor(1e6*Math.random())}`}class DL{constructor(){this.enterprise=new AL}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class AL{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const bu="NO_RECAPTCHA";class zw{constructor(t){this.type="recaptcha-enterprise",this.auth=mn(t)}verify(t="verify",e=!1){var r=this;return(0,j.A)(function*(){function s(){return s=(0,j.A)(function*(d){if(!e){if(null==d.tenantId&&null!=d._agentRecaptchaConfig)return d._agentRecaptchaConfig.siteKey;if(null!=d.tenantId&&void 0!==d._tenantRecaptchaConfigs[d.tenantId])return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(function(){var f=(0,j.A)(function*(g,y){(function Sw(n,t){return Kg.apply(this,arguments)})(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(void 0!==b.recaptchaKey){const C=new qg(b);return null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,g(C.siteKey)}y(new Error("recaptcha Enterprise site key undefined"))}).catch(b=>{y(b)})});return function(g,y){return f.apply(this,arguments)}}())}),s.apply(this,arguments)}function c(d,f,g){const y=window.grecaptcha;oS(y)?y.enterprise.ready(()=>{y.enterprise.execute(d,{action:t}).then(b=>{f(b)}).catch(()=>{f(bu)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return r.auth.settings.appVerificationDisabledForTesting?(new DL).execute("siteKey",{action:"verify"}):new Promise((d,f)=>{(function i(d){return s.apply(this,arguments)})(r.auth).then(g=>{if(!e&&oS(window.grecaptcha))c(g,d,f);else{if(typeof window>"u")return void f(new Error("RecaptchaVerifier is only supported in browser"));let y=function ES(){return vu.recaptchaEnterpriseScript}();0!==y.length&&(y+=g),jw(y).then(()=>{c(g,d,f)}).catch(b=>{f(b)})}}).catch(g=>{f(g)})})})()}}function Cl(n,t,e){return r_.apply(this,arguments)}function r_(){return(r_=(0,j.A)(function*(n,t,e,r=!1,i=!1){const s=new zw(n);let c;if(i)c=bu;else try{c=yield s.verify(e)}catch{c=yield s.verify(e,!0)}const d=Object.assign({},t);return"mfaSmsEnrollment"===e||"mfaSmsSignIn"===e?("phoneEnrollmentInfo"in d?Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:d.phoneEnrollmentInfo.phoneNumber,recaptchaToken:d.phoneEnrollmentInfo.recaptchaToken,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}):"phoneSignInInfo"in d&&Object.assign(d,{phoneSignInInfo:{recaptchaToken:d.phoneSignInInfo.recaptchaToken,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}}),d):(Object.assign(d,r?{captchaResp:c}:{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d)})).apply(this,arguments)}function la(n,t,e,r,i){return xS.apply(this,arguments)}function xS(){return xS=(0,j.A)(function*(n,t,e,r,i){var s,c;if("EMAIL_PASSWORD_PROVIDER"===i){if(null!==(s=n._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=yield Cl(n,t,e,"getOobCode"===e);return r(n,d)}return r(n,t).catch(function(){var d=(0,j.A)(function*(f){if("auth/missing-recaptcha-token"===f.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=yield Cl(n,t,e,"getOobCode"===e);return r(n,g)}return Promise.reject(f)});return function(f){return d.apply(this,arguments)}}())}if("PHONE_PROVIDER"===i){if(null!==(c=n._getRecaptchaConfig())&&void 0!==c&&c.isProviderEnabled("PHONE_PROVIDER")){const d=yield Cl(n,t,e);return r(n,d).catch(function(){var f=(0,j.A)(function*(g){var y;if("AUDIT"===(null===(y=n._getRecaptchaConfig())||void 0===y?void 0:y.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===g.code||"auth/invalid-app-credential"===g.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);const b=yield Cl(n,t,e,!1,!0);return r(n,b)}return Promise.reject(g)});return function(g){return f.apply(this,arguments)}}())}{const d=yield Cl(n,t,e,!1,!0);return r(n,d)}}return Promise.reject(i+" provider is not supported.")}),xS.apply(this,arguments)}function TS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Eu(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class lo{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return so("not implemented")}_getIdTokenResponse(t){return so("not implemented")}_linkToIdToken(t,e){return so("not implemented")}_getReauthenticationResolver(t){return so("not implemented")}}function Il(){return(Il=(0,j.A)(function*(n,t){return zt(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Gw(n,t){return i_.apply(this,arguments)}function i_(){return(i_=(0,j.A)(function*(n,t){return zt(n,"POST","/v1/accounts:signUp",t)})).apply(this,arguments)}function OL(n,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,j.A)(function*(n,t){return Lo(n,"POST","/v1/accounts:signInWithPassword",Nt(n,t))})).apply(this,arguments)}function Bo(){return(Bo=(0,j.A)(function*(n,t){return Lo(n,"POST","/v1/accounts:signInWithEmailLink",Nt(n,t))})).apply(this,arguments)}function s_(){return(s_=(0,j.A)(function*(n,t){return Lo(n,"POST","/v1/accounts:signInWithEmailLink",Nt(n,t))})).apply(this,arguments)}class Yh extends lo{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Yh(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Yh(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,j.A)(function*(){switch(e.signInMethod){case"password":return la(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",OL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function VL(n,t){return Bo.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:Kr(t,"internal-error")}})()}_linkToIdToken(t,e){var r=this;return(0,j.A)(function*(){switch(r.signInMethod){case"password":return la(t,{idToken:e,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gw,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return function BL(n,t){return s_.apply(this,arguments)}(t,{idToken:e,email:r._email,oobCode:r._password});default:Kr(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function jo(n,t){return a_.apply(this,arguments)}function a_(){return(a_=(0,j.A)(function*(n,t){return Lo(n,"POST","/v1/accounts:signInWithIdp",Nt(n,t))})).apply(this,arguments)}class Zh{constructor(t){var e,r,i,s,c,d;const f=sl(ig(t)),g=null!==(e=f.apiKey)&&void 0!==e?e:null,y=null!==(r=f.oobCode)&&void 0!==r?r:null,b=function HL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=f.mode)&&void 0!==i?i:null);fe(g&&y&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=y,this.continueUrl=null!==(s=f.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(c=f.languageCode)&&void 0!==c?c:null,this.tenantId=null!==(d=f.tenantId)&&void 0!==d?d:null}static parseLink(t){const e=function zL(n){const t=sl(ig(n)).link,e=t?sl(ig(t)).deep_link_id:null,r=sl(ig(n)).deep_link_id;return(r?sl(ig(r)).link:null)||r||e||t||n}(t);try{return new Zh(e)}catch{return null}}}let RS=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return Yh._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=Zh.parseLink(r);return fe(i,"argument-error"),Yh._fromEmailAndCode(e,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ws{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $L extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function kS(n,t){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,j.A)(function*(n,t){return Lo(n,"POST","/v1/accounts:signUp",Nt(n,t))})).apply(this,arguments)}class ji{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return(0,j.A)(function*(){const s=yield ao._fromIdTokenResponse(t,r,i),c=OS(r);return new ji({user:s,providerId:c,_tokenResponse:r,operationType:e})})()}static _forOperation(t,e,r){return(0,j.A)(function*(){yield t._updateTokensIfNecessary(r,!0);const i=OS(r);return new ji({user:t,providerId:i,_tokenResponse:r,operationType:e})})()}}function OS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class f_ extends fs{constructor(t,e,r,i){var s;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,f_.prototype),this.customData={appName:t.name,tenantId:null!==(s=t.tenantId)&&void 0!==s?s:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new f_(t,e,r,i)}}function NS(n,t,e,r){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?f_._fromErrorAndOperation(n,s,t,r):s})}function p_(){return(p_=(0,j.A)(function*(n,t,e=!1){const r=yield sa(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return ji._forOperation(n,"link",r)})).apply(this,arguments)}function rE(){return(rE=(0,j.A)(function*(n,t,e=!1){const{auth:r}=n;if(vi(r.app))return Promise.reject(nr(r));const i="reauthenticate";try{const s=yield sa(n,NS(r,i,t,n),e);fe(s.idToken,r,"internal-error");const c=Wh(s.idToken);fe(c,r,"internal-error");const{sub:d}=c;return fe(n.uid===d,r,"user-mismatch"),ji._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Kr(r,"user-mismatch"),s}})).apply(this,arguments)}function VS(n,t){return iE.apply(this,arguments)}function iE(){return(iE=(0,j.A)(function*(n,t,e=!1){if(vi(n.app))return Promise.reject(nr(n));const r="signIn",i=yield NS(n,r,t),s=yield ji._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function sE(){return(sE=(0,j.A)(function*(n,t){return VS(mn(n),t)})).apply(this,arguments)}function g_(n){return uE.apply(this,arguments)}function uE(){return(uE=(0,j.A)(function*(n){const t=mn(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function rf(n,t,e){return WS.apply(this,arguments)}function WS(){return(WS=(0,j.A)(function*(n,t,e){if(vi(n.app))return Promise.reject(nr(n));const r=mn(n),c=yield la(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kS,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw"auth/password-does-not-meet-requirements"===f.code&&g_(n),f}),d=yield ji._fromIdTokenResponse(r,"signIn",c);return yield r._updateCurrentUser(d.user),d})).apply(this,arguments)}function GS(n,t,e){return vi(n.app)?Promise.reject(nr(n)):function oE(n,t){return sE.apply(this,arguments)}(Xt(n),RS.credential(t,e)).catch(function(){var r=(0,j.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&g_(n),i});return function(i){return r.apply(this,arguments)}}())}function hE(n,t){return function XS(n,t,e){return fE.apply(this,arguments)}(Xt(n),null,t)}function fE(){return fE=(0,j.A)(function*(n,t,e){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};t&&(s.email=t),e&&(s.password=e);const c=yield sa(n,function kL(n,t){return Il.apply(this,arguments)}(r,s));yield n._updateTokensIfNecessary(c,!0)}),fE.apply(this,arguments)}function ZS(n,t,e,r){return Xt(n).onIdTokenChanged(t,e,r)}function iV(n){return Xt(n).signOut()}function oV(n){return gE.apply(this,arguments)}function gE(){return(gE=(0,j.A)(function*(n){return Xt(n).delete()})).apply(this,arguments)}const E_="__sak";class eM{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(E_,"1"),this.storage.removeItem(E_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dV=(()=>{class n extends eM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&e(r,s,i)}}onStorageEvent(e,r=!1){if(!e.key)return void this.forAllChangedKeys((d,f,g)=>{this.notifyListeners(d,g)});const i=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const d=this.storage.getItem(i);!r&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);!function Lw(){return function BN(){const n=In();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||c===e.newValue||e.newValue===e.oldValue?s():setTimeout(s,10)}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,r){var i=()=>super._set,s=this;return(0,j.A)(function*(){yield i().call(s,e,r),s.localCache[e]=JSON.stringify(r)})()}_get(e){var r=()=>super._get,i=this;return(0,j.A)(function*(){const s=yield r().call(i,e);return i.localCache[e]=JSON.stringify(s),s})()}_remove(e){var r=()=>super._remove,i=this;return(0,j.A)(function*(){yield r().call(i,e),delete i.localCache[e]})()}}return n.type="LOCAL",n})(),Sl=(()=>{class n extends eM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})();let Ru=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){var r=this;return(0,j.A)(function*(){const i=e,{eventId:s,eventType:c,data:d}=i.data,f=r.handlersMap[c];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:c});const g=Array.from(f).map(function(){var b=(0,j.A)(function*(C){return C(i.origin,d)});return function(C){return b.apply(this,arguments)}}()),y=yield function Mu(n){return Promise.all(n.map(function(){var t=(0,j.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(r){return{fulfilled:!1,reason:r}}});return function(e){return t.apply(this,arguments)}}()))}(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:c,response:y})})()}_subscribe(e,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ua(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(10*Math.random());return n+e}class Pu{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){var i=this;return(0,j.A)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let c,d;return new Promise((f,g)=>{const y=ua("",20);s.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:s,onMessage(C){const x=C;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(x.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"))}}},i.handlers.add(d),s.port1.addEventListener("message",d.onMessage),i.target.postMessage({eventType:t,eventId:y,data:e},[s.port2])}).finally(()=>{d&&i.removeMessageHandler(d)})})()}}function xn(){return window}function C_(){return typeof xn().WorkerGlobalScope<"u"&&"function"==typeof xn().importScripts}function I_(){return(I_=(0,j.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bE="firebaseLocalStorageDb",Ml="firebaseLocalStorage",da="fbase_key";class hf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function x_(n,t){return n.transaction([Ml],t?"readwrite":"readonly").objectStore(Ml)}function ha(){const n=indexedDB.open(bE,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ml,{keyPath:da})}catch(i){e(i)}}),n.addEventListener("success",(0,j.A)(function*(){const r=n.result;r.objectStoreNames.contains(Ml)?t(r):(r.close(),yield function wE(){const n=indexedDB.deleteDatabase(bE);return new hf(n).toPromise()}(),t(yield ha()))}))})}function T_(n,t,e){return EE.apply(this,arguments)}function EE(){return(EE=(0,j.A)(function*(n,t,e){const r=x_(n,!0).put({[da]:t,value:e});return new hf(r).toPromise()})).apply(this,arguments)}function IE(){return(IE=(0,j.A)(function*(n,t){const e=x_(n,!1).get(t),r=yield new hf(e).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function aM(n,t){const e=x_(n,!0).delete(t);return new hf(e).toPromise()}const cM=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,j.A)(function*(){return e.db||(e.db=yield ha()),e.db})()}_withRetries(e){var r=this;return(0,j.A)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield e(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,j.A)(function*(){return C_()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,j.A)(function*(){e.receiver=Ru._getInstance(function oM(){return C_()?self:null}()),e.receiver._subscribe("keyChanged",function(){var r=(0,j.A)(function*(i,s){return{keyProcessed:(yield e._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var r=(0,j.A)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,j.A)(function*(){var r,i;if(e.activeServiceWorker=yield function rM(){return I_.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Pu(e.activeServiceWorker);const s=yield e.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var r=this;return(0,j.A)(function*(){if(r.sender&&r.activeServiceWorker&&function iM(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:e},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,j.A)(function*(){try{if(!indexedDB)return!1;const e=yield ha();return yield T_(e,E_,"1"),yield aM(e,E_),!0}catch{}return!1})()}_withPendingWrite(e){var r=this;return(0,j.A)(function*(){r.pendingWrites++;try{yield e()}finally{r.pendingWrites--}})()}_set(e,r){var i=this;return(0,j.A)(function*(){return i._withPendingWrite((0,j.A)(function*(){return yield i._withRetries(s=>T_(s,e,r)),i.localCache[e]=r,i.notifyServiceWorker(e)}))})()}_get(e){var r=this;return(0,j.A)(function*(){const i=yield r._withRetries(s=>function CE(n,t){return IE.apply(this,arguments)}(s,e));return r.localCache[e]=i,i})()}_remove(e){var r=this;return(0,j.A)(function*(){return r._withPendingWrite((0,j.A)(function*(){return yield r._withRetries(i=>aM(i,e)),delete r.localCache[e],r.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,j.A)(function*(){const r=yield e._withRetries(c=>{const d=x_(c,!1).getAll();return new hf(d).toPromise()});if(!r)return[];if(0!==e.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:c,value:d}of r)s.add(c),JSON.stringify(e.localCache[c])!==JSON.stringify(d)&&(e.notifyListeners(c,d),i.push(c));for(const c of Object.keys(e.localCache))e.localCache[c]&&!s.has(c)&&(e.notifyListeners(c,null),i.push(c));return i})()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(r)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,j.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();CS("rcb"),new Uh(3e4,6e4);class DE extends lo{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return jo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mV(n){return VS(n.auth,new DE(n),n.bypassAuthState)}function AE(n){const{auth:t,user:e}=n;return fe(e,t,"internal-error"),function LS(n,t){return rE.apply(this,arguments)}(e,new DE(n),n.bypassAuthState)}function gf(n){return SE.apply(this,arguments)}function SE(){return(SE=(0,j.A)(function*(n){const{auth:t,user:e}=n;return fe(e,t,"internal-error"),function tE(n,t){return p_.apply(this,arguments)}(e,new DE(n),n.bypassAuthState)})).apply(this,arguments)}class vM{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,j.A)(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(s){t.reject(s)}});return function(r,i){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,j.A)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:c,error:d,type:f}=t;if(d)return void e.reject(d);const g={auth:e.auth,requestUri:r,sessionId:i,tenantId:c||void 0,postBody:s||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(f)(g))}catch(y){e.reject(y)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mV;case"linkViaPopup":case"linkViaRedirect":return gf;case"reauthViaPopup":case"reauthViaRedirect":return AE;default:Kr(this.auth,"internal-error")}}resolve(t){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Uh(2e3,1e4);const _f=new Map;class yV extends vM{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,j.A)(function*(){let r=_f.get(e.auth._key());if(!r){try{const s=(yield function vV(n,t){return RE.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}_f.set(e.auth._key(),r)}return e.bypassAuthState||_f.set(e.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,r=this;return(0,j.A)(function*(){if("signInViaRedirect"===t.type)return e().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,e().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,j.A)(function*(){})()}cleanUp(){}}function RE(){return(RE=(0,j.A)(function*(n,t){const e=function P_(n){return Jg("pendingRedirect",n.config.apiKey,n.name)}(t),r=function bM(n){return vs(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(e));return yield r._remove(e),i})).apply(this,arguments)}function bV(n,t){_f.set(n._key(),t)}function NE(n,t){return EM.apply(this,arguments)}function EM(){return(EM=(0,j.A)(function*(n,t,e=!1){if(vi(n.app))return Promise.reject(nr(n));const r=mn(n),i=function Rl(n,t){return t?vs(t):(fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,t),c=yield new yV(r,i,e).execute();return c&&!e&&(delete c.user._redirectEventId,yield r._persistUserIfCurrent(c.user),yield r._setRedirectUser(null,t)),c})).apply(this,arguments)}class N_{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function LE(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xM(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!xM(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";e.onError(Or(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(IM(t))}saveEventToCache(t){this.cachedEventUids.add(IM(t)),this.lastProcessedEventTime=Date.now()}}function IM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function xM({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function Nu(){return(Nu=(0,j.A)(function*(n,t={}){return zt(n,"GET","/v1/projects",t)})).apply(this,arguments)}const VE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TM=/^https?/;function BE(){return BE=(0,j.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function F_(n){return Nu.apply(this,arguments)}(n);for(const e of t)try{if(DV(e))return}catch{}Kr(n,"unauthorized-domain")}),BE.apply(this,arguments)}function DV(n){const t=_u(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return""===c.hostname&&""===r?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&c.hostname===r}if(!TM.test(e))return!1;if(VE.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const L_=new Uh(3e4,6e4);function vf(){const n=xn().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let bf=null;const SV=new Uh(5e3,15e3),HE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MV(n){const t=n.config;fe(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Cw(t,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:n.name,v:Ys},i=Pl.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${rg(r).slice(1)}`}function fa(){return fa=(0,j.A)(function*(n){const t=yield function AV(n){return bf=bf||function jE(n){return new Promise((t,e)=>{var r,i,s;function c(){vf(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vf(),e(Or(n,"network-request-failed"))},timeout:L_.get()})}if(null!==(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(s=xn().gapi)||void 0===s||!s.load){const d=CS("iframefcb");return xn()[d]=()=>{gapi.load?c():e(Or(n,"network-request-failed"))},jw(`${function Uw(){return vu.gapiScript}()}?onload=${d}`).catch(f=>e(f))}c()}}).catch(t=>{throw bf=null,t})}(n),bf}(n),e=xn().gapi;return fe(e,n,"internal-error"),t.open({where:document.body,url:MV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HE,dontclear:!0},r=>new Promise(function(){var i=(0,j.A)(function*(s,c){yield r.restyle({setHideOnLeave:!1});const d=Or(n,"network-request-failed"),f=xn().setTimeout(()=>{c(d)},SV.get());function g(){xn().clearTimeout(f),s(r)}r.ping(g).then(g,()=>{c(d)})});return function(s,c){return i.apply(this,arguments)}}()))}),fa.apply(this,arguments)}const PV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class kV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const V_=encodeURIComponent("fac");function MM(n,t,e,r,i,s){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,j.A)(function*(n,t,e,r,i,s){fe(n.config.authDomain,n,"auth-domain-config-required"),fe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ys,eventId:i};if(t instanceof ws){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",function $N(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries(s||{}))c[y]=b}if(t instanceof $L){const y=t.getScopes().filter(b=>""!==b);y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const y of Object.keys(d))void 0===d[y]&&delete d[y];const f=yield n._getAppCheckToken(),g=f?`#${V_}=${encodeURIComponent(f)}`:"";return`${function B_({config:n}){return n.emulator?Cw(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${rg(d).slice(1)}${g}`})).apply(this,arguments)}const Cr="webStorageSupport",LV=class RM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sl,this._completeRedirectFn=NE,this._overrideRedirectResult=bV}_openPopup(t,e,r,i){var s=this;return(0,j.A)(function*(){var c;oa(null===(c=s.eventManagers[t._key()])||void 0===c?void 0:c.manager,"_initialize() not called before _openPopup()");const d=yield MM(t,e,r,_u(),i);return function Fu(n,t,e,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},PV),{width:r.toString(),height:i.toString(),top:s,left:c}),g=In().toLowerCase();e&&(d=aa(g)?"_blank":e),yL(g)&&(t=t||"http://localhost",f.scrollbars="yes");const y=Object.entries(f).reduce((C,[x,S])=>`${C}${x}=${S},`,"");if(function vS(n=In()){var t;return qh(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(g)&&"_self"!==d)return function OV(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}(t||"",d),new kV(null);const b=window.open(t||"",d,y);fe(b,n,"popup-blocked");try{b.focus()}catch{}return new kV(b)}(t,d,ua())})()}_openRedirect(t,e,r,i){var s=this;return(0,j.A)(function*(){return yield s._originValidation(t),function nM(n){xn().location.href=n}(yield MM(t,e,r,_u(),i)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(oa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){var e=this;return(0,j.A)(function*(){const r=yield function RV(n){return fa.apply(this,arguments)}(t),i=new N_(t);return r.register("authEvent",s=>(fe(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Cr,{type:Cr},i=>{var s;const c=null===(s=i?.[0])||void 0===s?void 0:s[Cr];void 0!==c&&e(!!c),Kr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function TV(n){return BE.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return bS()||_S()||qh()}};var kM="@firebase/auth";class VV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,j.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const BV=HD("authIdTokenMaxAge")||300;let GE=null;const jV=n=>function(){var t=(0,j.A)(function*(e){const r=e&&(yield e.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>BV)return;const s=r?.token;GE!==s&&(GE=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function K4(n=mg()){const t=_s(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function RL(n,t){const e=_s(n,"auth");if(e.isInitialized()){const i=e.getImmediate();if(ps(e.getOptions(),t??{}))return i;Kr(i,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:LV,persistence:[cM,dV,Sl]}),r=HD("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=jV(s.toString());(function nV(n,t,e){Xt(n).beforeAuthStateChanged(t,e)})(e,c,()=>c(e.currentUser)),ZS(e,d=>c(d))}}const i=FN("auth");return i&&function Ww(n,t,e){const r=mn(n);fe(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!e?.disableWarnings,s=TS(t),{host:c,port:d}=function Vo(n){const t=TS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Eu(r.substr(s.length+1))}}{const[s,c]=r.split(":");return{host:s,port:Eu(c)}}}(t),g={url:`${s}//${c}${null===d?"":`:${d}`}/`},y=Object.freeze({host:c,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void fe(ps(g,r.config.emulator)&&ps(y,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,i||function gn(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${i}`),e}function UV(n){return new kt.c(function(t){return{unsubscribe:ZS(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t))}})}(function t_(n){vu=n})({loadJS:n=>new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const s=Or("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",function X4(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function FM(n){kr(new No("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;fe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vw(n)},g=new wS(r,i,s,f);return function PL(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(vs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),kr(new No("auth-internal",t=>{const e=mn(t.getProvider("auth").getImmediate());return new VV(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(kM,"1.10.0",function NM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),tr(kM,"1.10.0","esm2017")}("Browser");class U_{constructor(t){return t}}class VM{constructor(){return Dh("auth")}}const kl=new h.nKC("angularfire2.auth-instances");function WV(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new U_(r)}}const GV={provide:VM,deps:[[new h.Xx1,kl]]},qV={provide:U_,useFactory:function $V(n,t){const e=uu("auth",n,t);return e&&new U_(e)},deps:[[new h.Xx1,kl],ea]},QV=hr(UV,!0),BM=hr(rf,!0,2),JV=hr(oV,!0,2),UM=hr(K4,!0),zM=hr(GS,!0,2),qE=hr(iV,!0,2),WM=hr(hE,!0,2);let Ho=(()=>{class n{auth=(0,h.WQX)(U_);user$=QV(this.auth);currentUserSig=(0,h.vPA)(void 0);register(e){return et(BM(this.auth,e.email,e.password).then(i=>{this.currentUserSig.set({email:i.user.email})}))}login(e){return et(zM(this.auth,e.email,e.password).then(i=>{this.currentUserSig.set({email:i.user.email})}))}logout(){const e=qE(this.auth);return this.currentUserSig.set(null),et(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ef=(n,t)=>{const e=(0,h.WQX)(Ho),r=(0,h.WQX)(er);return new Promise(s=>{const c=()=>{const d=e.currentUserSig();void 0!==d?d?s(!0):(r.navigate(["/connect"]),s(!1)):setTimeout(c,100)};c()})};function KE(...n){const t=Hd(n),{args:e,keys:r}=CT(n),i=new kt.c(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let f=c,g=c;for(let y=0;y<c;y++){let b=!1;Pr(e[y]).subscribe((0,Ht._)(s,C=>{b||(b=!0,g--),d[y]=C},()=>f--,void 0,()=>{(!f||!b)&&(g||s.next(r?xT(r,d):d),s.complete())}))}});return t?i.pipe(Tb(t)):i}let XE=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,r){this._renderer=e,this._elementRef=r}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(r){return new(r||n)(h.rXU(h.sFG),h.rXU(h.aKT))};static \u0275dir=h.FsC({type:n})}return n})(),ma=(()=>{class n extends XE{static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,features:[h.Vt3]})}return n})();const co=new h.nKC(""),XM={provide:co,useExisting:(0,h.Rfq)(()=>zo),multi:!0},QM=new h.nKC("");let zo=(()=>{class n extends XE{_compositionMode;_composing=!1;constructor(e,r,i){super(e,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function g2(){const n=Ee()?Ee().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(r){return new(r||n)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(QM,8))};static \u0275dir=h.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&h.bIt("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},standalone:!1,features:[h.Jv_([XM]),h.Vt3]})}return n})();function z_(n){return null==n||0===YE(n)}function YE(n){return null==n?null:Array.isArray(n)||"string"==typeof n?n.length:n instanceof Set?n.size:null}const Ir=new h.nKC(""),ga=new h.nKC(""),_2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rn{static min(t){return YM(t)}static max(t){return ZM(t)}static required(t){return JM(t)}static requiredTrue(t){return function eR(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ZE(n){return z_(n.value)||_2.test(n.value)?null:{email:!0}}(t)}static minLength(t){return JE(t)}static maxLength(t){return eC(t)}static pattern(t){return function tC(n){if(!n)return Cf;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(z_(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return nR(t)}static composeAsync(t){return $_(t)}}function YM(n){return t=>{if(null==t.value||null==n)return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function ZM(n){return t=>{if(null==t.value||null==n)return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function JM(n){return z_(n.value)?{required:!0}:null}function JE(n){return t=>{const e=t.value?.length??YE(t.value);return null===e||0===e?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function eC(n){return t=>{const e=t.value?.length??YE(t.value);return null!==e&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function Cf(n){return null}function nC(n){return null!=n}function rC(n){return(0,h.jNT)(n)?et(n):n}function iC(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function oC(n,t){return t.map(e=>e(n))}function sC(n){return n.map(t=>function tR(n){return!n.validate}(t)?t:e=>t.validate(e))}function nR(n){if(!n)return null;const t=n.filter(nC);return 0==t.length?null:function(e){return iC(oC(e,t))}}function aC(n){return null!=n?nR(sC(n)):null}function $_(n){if(!n)return null;const t=n.filter(nC);return 0==t.length?null:function(e){return KE(oC(e,t).map(rC)).pipe((0,ve.T)(iC))}}function Bu(n){return null!=n?$_(sC(n)):null}function W_(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function lC(n){return n._rawValidators}function cC(n){return n._rawAsyncValidators}function G_(n){return n?Array.isArray(n)?n:[n]:[]}function If(n,t){return Array.isArray(n)?n.includes(t):n===t}function uC(n,t){const e=G_(t);return G_(n).forEach(i=>{If(e,i)||e.push(i)}),e}function dC(n,t){return G_(t).filter(e=>!If(n,e))}class hC{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class sn extends hC{name;get formDirective(){return null}get path(){return null}}class uo extends hC{_parent=null;name=null;valueAccessor=null}class fC{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let _a=(()=>{class n extends fC{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(h.rXU(uo,2))};static \u0275dir=h.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&h.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[h.Vt3]})}return n})(),ju=(()=>{class n extends fC{constructor(e){super(e)}static \u0275fac=function(r){return new(r||n)(h.rXU(sn,10))};static \u0275dir=h.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&h.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[h.Vt3]})}return n})();const Uu="VALID",K_="INVALID",Hu="PENDING",Tf="DISABLED";class zu{}class aR extends zu{value;source;constructor(t,e){super(),this.value=t,this.source=e}}class yC extends zu{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}}class vC extends zu{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}}class X_ extends zu{status;source;constructor(t,e){super(),this.status=t,this.source=e}}class Df extends zu{source;constructor(t){super(),this.source=t}}class lR extends zu{source;constructor(t){super(),this.source=t}}function Q_(n){return(Z_(n)?n.validators:n)||null}function Y_(n,t){return(Z_(t)?t.asyncValidators:n)||null}function Z_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function dR(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.wOt(1e3,"");if(!r[e])throw new h.wOt(1001,"")}function I2(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.wOt(1002,"")})}class bC{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,h.O8t)(this.statusReactive)}set status(t){(0,h.O8t)(()=>this.statusReactive.set(t))}_status=(0,h.EWP)(()=>this.statusReactive());statusReactive=(0,h.vPA)(void 0);get valid(){return this.status===Uu}get invalid(){return this.status===K_}get pending(){return this.status==Hu}get disabled(){return this.status===Tf}get enabled(){return this.status!==Tf}errors;get pristine(){return(0,h.O8t)(this.pristineReactive)}set pristine(t){(0,h.O8t)(()=>this.pristineReactive.set(t))}_pristine=(0,h.EWP)(()=>this.pristineReactive());pristineReactive=(0,h.vPA)(!0);get dirty(){return!this.pristine}get touched(){return(0,h.O8t)(this.touchedReactive)}set touched(t){(0,h.O8t)(()=>this.touchedReactive.set(t))}_touched=(0,h.EWP)(()=>this.touchedReactive());touchedReactive=(0,h.vPA)(!1);get untouched(){return!this.touched}_events=new oe.B;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(uC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(dC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(dC(t,this._rawAsyncValidators))}hasValidator(t){return If(this._rawValidators,t)}hasAsyncValidator(t){return If(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new vC(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&!1!==t.emitEvent&&this._events.next(new vC(!1,r))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new yC(!1,r))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&!1!==t.emitEvent&&this._events.next(new yC(!0,r))}markAsPending(t={}){this.status=Hu;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new X_(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tf,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new aR(this.value,r)),this._events.next(new X_(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Uu,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uu||this.status===Hu)&&this._runAsyncValidator(r,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new aR(this.value,e)),this._events.next(new X_(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tf:Uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Hu,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=rC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new X_(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?Tf:this.errors?K_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hu)?Hu:this._anyControlsHaveStatus(K_)?K_:Uu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new yC(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new vC(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Z_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function cR(n){return Array.isArray(n)?aC(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function uR(n){return Array.isArray(n)?Bu(n):n||null}(this._rawAsyncValidators)}}class Af extends bC{constructor(t,e,r){super(Q_(e),Y_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){I2(this,0,t),Object.keys(t).forEach(r=>{dR(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class hR extends Af{}const ya=new h.nKC("",{providedIn:"root",factory:()=>Sf}),Sf="always";function ey(n,t){return[...t.path,n]}function Mf(n,t,e=Sf){wC(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function T2(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xr(n,t)})}(n,t),function $u(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function D2(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xr(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function x2(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ty(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Rf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ol(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wC(n,t){const e=lC(n);null!==t.validator?n.setValidators(W_(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=cC(n);null!==t.asyncValidator?n.setAsyncValidators(W_(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ol(t._rawValidators,i),Ol(t._rawAsyncValidators,i)}function Rf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=lC(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==t.validator);s.length!==i.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const i=cC(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(c=>c!==t.asyncValidator);s.length!==i.length&&(e=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Ol(t._rawValidators,r),Ol(t._rawAsyncValidators,r),e}function xr(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function fR(n,t){wC(n,t)}function ny(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function mR(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function CC(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(s=>{s.constructor===zo?e=s:function S2(n){return Object.getPrototypeOf(n.constructor)===ma}(s)?r=s:i=s}),i||r||e||null}const R2={provide:sn,useExisting:(0,h.Rfq)(()=>Is)},va=Promise.resolve();let Is=(()=>{class n extends sn{callSetDisabledState;get submitted(){return(0,h.O8t)(this.submittedReactive)}_submitted=(0,h.EWP)(()=>this.submittedReactive());submittedReactive=(0,h.vPA)(!1);_directives=new Set;form;ngSubmit=new h.bkB;options;constructor(e,r,i){super(),this.callSetDisabledState=i,this.form=new Af({},aC(e),Bu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){va.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Mf(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){va.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){va.then(()=>{const r=this._findContainer(e.path),i=new Af({});fR(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){va.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){va.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),mR(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(r){return new(r||n)(h.rXU(Ir,10),h.rXU(ga,10),h.rXU(ya,8))};static \u0275dir=h.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&h.bIt("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[h.Jv_([R2]),h.Vt3]})}return n})();function P2(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function xC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const kf=class extends bC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,r){super(Q_(e),Y_(r,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Z_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=xC(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){P2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){P2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){xC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},_R={provide:uo,useExisting:(0,h.Rfq)(()=>Ff)},yR=Promise.resolve();let Ff=(()=>{class n extends uo{_changeDetectorRef;callSetDisabledState;control=new kf;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new h.bkB;constructor(e,r,i,s,c,d){super(),this._changeDetectorRef=c,this.callSetDisabledState=d,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CC(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ny(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=0!==r&&(0,h.L39)(r);yR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ey(e,this._parent):[e]}static \u0275fac=function(r){return new(r||n)(h.rXU(sn,9),h.rXU(Ir,10),h.rXU(ga,10),h.rXU(co,10),h.rXU(h.gRc,8),h.rXU(ya,8))};static \u0275dir=h.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[h.Jv_([_R]),h.Vt3,h.OA$]})}return n})(),Wu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();const F2={provide:co,useExisting:(0,h.Rfq)(()=>ry),multi:!0};let ry=(()=>{class n extends ma{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&h.bIt("input",function(c){return i.onChange(c.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[h.Jv_([F2]),h.Vt3]})}return n})();const AC=new h.nKC(""),PG={provide:sn,useExisting:(0,h.Rfq)(()=>Nl)};let Nl=(()=>{class n extends sn{callSetDisabledState;get submitted(){return(0,h.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=(0,h.EWP)(()=>this._submittedReactive());_submittedReactive=(0,h.vPA)(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new h.bkB;constructor(e,r,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Mf(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){ty(e.control||null,e,!1),function IC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),mR(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Df(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new lR(this.form))}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(ty(r||null,e),(n=>n instanceof kf)(i)&&(Mf(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);fR(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function A2(n,t){return Rf(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wC(this.form,this),this._oldForm&&Rf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(h.rXU(Ir,10),h.rXU(ga,10),h.rXU(ya,8))};static \u0275dir=h.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&h.bIt("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[h.Jv_([PG]),h.Vt3,h.OA$]})}return n})();const NG={provide:uo,useExisting:(0,h.Rfq)(()=>Gu)};let Gu=(()=>{class n extends uo{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new h.bkB;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,r,i,s,c){super(),this._ngModelWarningConfig=c,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CC(0,s)}ngOnChanges(e){this._added||this._setUpControl(),ny(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ey(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(h.rXU(sn,13),h.rXU(Ir,10),h.rXU(ga,10),h.rXU(co,10),h.rXU(AC,8))};static \u0275dir=h.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[h.Jv_([NG]),h.Vt3,h.OA$]})}return n})();function oy(n){return"number"==typeof n?n:parseInt(n,10)}function TR(n){return"number"==typeof n?n:parseFloat(n)}let ba=(()=>{class n{_validator=Cf;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,features:[h.OA$]})}return n})();const RC={provide:Ir,useExisting:(0,h.Rfq)(()=>sy),multi:!0};let sy=(()=>{class n extends ba{max;inputName="max";normalizeInput=e=>TR(e);createValidator=e=>ZM(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&h.BMQ("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[h.Jv_([RC]),h.Vt3]})}return n})();const LG={provide:Ir,useExisting:(0,h.Rfq)(()=>Fl),multi:!0};let Fl=(()=>{class n extends ba{min;inputName="min";normalizeInput=e=>TR(e);createValidator=e=>YM(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&h.BMQ("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[h.Jv_([LG]),h.Vt3]})}return n})();const VG={provide:Ir,useExisting:(0,h.Rfq)(()=>Ll),multi:!0};let Ll=(()=>{class n extends ba{required;inputName="required";normalizeInput=h.L39;createValidator=e=>JM;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&h.BMQ("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[h.Jv_([VG]),h.Vt3]})}return n})();const q2={provide:Ir,useExisting:(0,h.Rfq)(()=>PC),multi:!0};let PC=(()=>{class n extends ba{minlength;inputName="minlength";normalizeInput=e=>oy(e);createValidator=e=>JE(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&h.BMQ("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[h.Jv_([q2]),h.Vt3]})}return n})();const AR={provide:Ir,useExisting:(0,h.Rfq)(()=>SR),multi:!0};let SR=(()=>{class n extends ba{maxlength;inputName="maxlength";normalizeInput=e=>oy(e);createValidator=e=>eC(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275dir=h.FsC({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&h.BMQ("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[h.Jv_([AR]),h.Vt3]})}return n})(),OC=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({})}return n})();class RR extends bC{constructor(t,e,r){super(Q_(e),Y_(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){I2(this,0,t),t.forEach((r,i)=>{dR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function xs(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let PR,ly=(()=>{class n{useNonNullable=!1;get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let s={};return xs(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Af(i,s)}record(e,r=null){const i=this._reduceControls(e);return new hR(i,r)}control(e,r,i){let s={};return this.useNonNullable?(xs(r)?s=r:(s.validators=r,s.asyncValidators=i),new kf(e,{...s,nonNullable:!0})):new kf(e,r,i)}array(e,r,i){const s=e.map(c=>this._createControl(c));return new RR(s,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof kf||e instanceof bC?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ya,useValue:e.callSetDisabledState??Sf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[OC]})}return n})(),Vf=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:AC,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ya,useValue:e.callSetDisabledState??Sf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[OC]})}return n})(),Y2=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zG=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({providers:[Y2]})}return n})();try{PR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{PR=!1}let Qr=(()=>{class n{_platformId=(0,h.WQX)(h.Agw);isBrowser=this._platformId?function gr(n){return n===Rt}(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!PR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cy=new WeakMap;let Bf=(()=>{class n{_appRef;_injector=(0,h.WQX)(h.zZn);_environmentInjector=(0,h.WQX)(h.uvJ);load(e){const r=this._appRef=this._appRef||this._injector.get(h.o8S);let i=cy.get(r);i||(i={loaders:new Set,refs:[]},cy.set(r,i),r.onDestroy(()=>{cy.get(r)?.refs.forEach(s=>s.destroy()),cy.delete(r)})),i.loaders.has(e)||(i.loaders.add(e),i.refs.push((0,h.a0P)(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$G=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}\n"],encapsulation:2,changeDetection:0})}return n})();function J2(n){return fn((t,e)=>n<=e)}function jf(n){return Array.isArray(n)?n:[n]}const OR=new Set;let Vl,WG=(()=>{class n{_platform=(0,h.WQX)(Qr);_nonce=(0,h.WQX)(h.BIS,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qG}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function GG(n,t){if(!OR.has(n))try{Vl||(Vl=document.createElement("style"),t&&Vl.setAttribute("nonce",t),Vl.setAttribute("type","text/css"),document.head.appendChild(Vl)),Vl.sheet&&(Vl.sheet.insertRule(`@media ${n} {body{ }}`,0),OR.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KG=(()=>{class n{_mediaMatcher=(0,h.WQX)(WG);_zone=(0,h.WQX)(h.SKi);_queries=new Map;_destroySubject=new oe.B;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return FC(jf(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let s=$a(FC(jf(e)).map(c=>this._registerQuery(c).observable));return s=$d(s.pipe(zr(1)),s.pipe(J2(1),function kR(n,t=Js){return(0,on.N)((e,r)=>{let i=null,s=null,c=null;const d=()=>{if(i){i.unsubscribe(),i=null;const g=s;s=null,r.next(g)}};function f(){const g=c+n,y=t.now();if(y<g)return i=this.schedule(void 0,g-y),void r.add(i);d()}e.subscribe((0,Ht._)(r,g=>{s=g,c=t.now(),i||(i=t.schedule(f,n),r.add(i))},()=>{d(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe((0,ve.T)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:f,query:g})=>{d.matches=d.matches||f,d.breakpoints[g]=f}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),s={observable:new kt.c(c=>{const d=f=>this._zone.run(()=>c.next(f));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Gd(r),(0,ve.T)(({matches:c})=>({query:e,matches:c})),bt(this._destroySubject)),mql:r};return this._queries.set(e,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FC(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let NR=(()=>{class n{_platform=(0,h.WQX)(Qr);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function FR(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function eB(n){try{return n.frameElement}catch{return null}}(function rB(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===Uf(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),s=Uf(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function VR(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function nB(n){return!function LR(n){return function BC(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Bl(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function VC(n){return function tB(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||uy(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uy(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Uf(n){if(!uy(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class iB{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,r,i,s=!1,c){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._injector=c,s||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,h.mal)(t,{injector:this._injector}):setTimeout(t)}}let oB=(()=>{class n{_checker=(0,h.WQX)(NR);_ngZone=(0,h.WQX)(h.SKi);_document=(0,h.WQX)(he);_injector=(0,h.WQX)(h.zZn);constructor(){(0,h.WQX)(Bf).load($G)}create(e,r=!1){return new iB(e,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qu=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(qu||{});const jC="cdk-high-contrast-black-on-white",dy="cdk-high-contrast-white-on-black",UC="cdk-high-contrast-active";let jl,cB=(()=>{class n{_platform=(0,h.WQX)(Qr);_hasCheckedHighContrastMode;_document=(0,h.WQX)(he);_breakpointSubscription;constructor(){this._breakpointSubscription=(0,h.WQX)(KG).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qu.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qu.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qu.BLACK_ON_WHITE}return qu.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(UC,jC,dy),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===qu.BLACK_ON_WHITE?e.add(UC,jC):r===qu.WHITE_ON_BLACK&&e.add(UC,dy)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({})}return n})(),ho=(()=>{class n{constructor(){(0,h.WQX)(cB)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[uB,uB]})}return n})(),fo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[ho,zG,ho]})}return n})();function Hf(n){return null!=n&&"false"!=`${n}`}const UR=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function HR(){if(jl)return jl;if("object"!=typeof document||!document)return jl=new Set(UR),jl;let n=document.createElement("input");return jl=new Set(UR.filter(t=>(n.setAttribute("type",t),n.type===t))),jl}function zR(n,t=0){return function dB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?t:0}function wa(n){return n instanceof h.aKT?n.nativeElement:n}function Ts(n,t,e,r,i){const s=parseInt(h.xvI.major),c=parseInt(h.xvI.minor);return s>19||19===s&&c>0||0===s&&0===c?n.listen(t,e,r,i):(t.addEventListener(e,r,i),()=>{t.removeEventListener(e,r,i)})}let hB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}\n"],encapsulation:2,changeDetection:0})}return n})();const fB={passive:!0};let $R=(()=>{class n{_platform=(0,h.WQX)(Qr);_ngZone=(0,h.WQX)(h.SKi);_renderer=(0,h.WQX)(h._9s).createRenderer(null,null);_styleLoader=(0,h.WQX)(Bf);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return dr;this._styleLoader.load(hB);const r=wa(e),i=this._monitoredElements.get(r);if(i)return i.subject;const s=new oe.B,c="cdk-text-field-autofilled",d=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))},f=this._ngZone.runOutsideAngular(()=>(r.classList.add("cdk-text-field-autofill-monitored"),Ts(this._renderer,r,"animationstart",d,fB)));return this._monitoredElements.set(r,{subject:s,unlisten:f}),s}stopMonitoring(e){const r=wa(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({})}return n})();const hy={};let Ul=(()=>{class n{_appId=(0,h.WQX)(h.sZ2);getId(e){return"ng"!==this._appId&&(e+=this._appId),hy.hasOwnProperty(e)||(hy[e]=0),`${e}${hy[e]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mB=new h.nKC("MAT_INPUT_VALUE_ACCESSOR"),gB=new h.nKC("cdk-dir-doc",{providedIn:"root",factory:function zf(){return(0,h.WQX)(he)}}),zC=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $f=(()=>{class n{value="ltr";change=new h.bkB;constructor(){const e=(0,h.WQX)(gB,{optional:!0});e&&(this.value=function GR(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?zC.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $C(...n){const t=zd(n),e=function vT(n,t){return"number"==typeof Ud(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?Pr(r[0]):ns(e)(et(r,t)):dr}class qR extends oe.B{constructor(t=1/0,e=1/0,r=dl){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:c}=this;e||(r.push(t),!i&&r.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let c=0;c<s.length&&!t.closed;c+=r?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const c=e.now();let d=0;for(let f=1;f<r.length&&r[f]<=c;f+=2)d=f;d&&r.splice(0,d+1)}}}var KR=ce(707);function XR(n={}){const{connector:t=()=>new oe.B,resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let c,d,f,g=0,y=!1,b=!1;const C=()=>{d?.unsubscribe(),d=void 0},x=()=>{C(),c=f=void 0,y=b=!1},S=()=>{const M=c;x(),M?.unsubscribe()};return(0,on.N)((M,R)=>{g++,!b&&!y&&C();const B=f=f??t();R.add(()=>{g--,0===g&&!b&&!y&&(d=WC(S,i))}),B.subscribe(R),!c&&g>0&&(c=new KR.Ms({next:H=>B.next(H),error:H=>{b=!0,C(),d=WC(x,e,H),B.error(H)},complete:()=>{y=!0,C(),d=WC(x,r),B.complete()}}),Pr(M).subscribe(c))})(s)}}function WC(n,t,...e){if(!0===t)return void n();if(!1===t)return;const r=new KR.Ms({next:()=>{r.unsubscribe(),n()}});return Pr(t(...e)).subscribe(r)}class YR{_box;_destroyed=new oe.B;_resizeSubject=new oe.B;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new kt.c(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe(fn(e=>e.some(r=>r.target===t)),function QR(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=n??1/0,XR({connector:()=>new qR(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}),bt(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let ZG=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=(0,h.WQX)(h.SKi);constructor(){}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new YR(i)),this._observers.get(i).observe(e)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yB=["notch"],vB=["matFormFieldNotchedOutline",""],bB=["*"],JG=["textField"],wB=["iconPrefixContainer"],EB=["textPrefixContainer"],e3=["iconSuffixContainer"],t3=["textSuffixContainer"],n3=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],r3=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function i3(n,t){1&n&&h.nrm(0,"span",20)}function CB(n,t){if(1&n&&(h.j41(0,"label",19),h.SdG(1,1),h.DNE(2,i3,1,0,"span",20),h.k0s()),2&n){const e=h.XpG(2);h.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),h.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),h.R7$(2),h.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function IB(n,t){if(1&n&&h.DNE(0,CB,3,5,"label",19),2&n){const e=h.XpG();h.vxM(e._hasFloatingLabel()?0:-1)}}function xB(n,t){1&n&&h.nrm(0,"div",7)}function py(n,t){}function o3(n,t){if(1&n&&h.DNE(0,py,0,0,"ng-template",13),2&n){h.XpG(2);const e=h.sdS(1);h.Y8G("ngTemplateOutlet",e)}}function s3(n,t){if(1&n&&(h.j41(0,"div",9),h.DNE(1,o3,1,1,null,13),h.k0s()),2&n){const e=h.XpG();h.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),h.R7$(),h.vxM(e._forceDisplayInfixLabel()?-1:1)}}function ZR(n,t){1&n&&(h.j41(0,"div",10,2),h.SdG(2,2),h.k0s())}function JR(n,t){1&n&&(h.j41(0,"div",11,3),h.SdG(2,3),h.k0s())}function a3(n,t){}function l3(n,t){if(1&n&&h.DNE(0,a3,0,0,"ng-template",13),2&n){h.XpG();const e=h.sdS(1);h.Y8G("ngTemplateOutlet",e)}}function po(n,t){1&n&&(h.j41(0,"div",14,4),h.SdG(2,4),h.k0s())}function Wf(n,t){1&n&&(h.j41(0,"div",15,5),h.SdG(2,5),h.k0s())}function TB(n,t){1&n&&h.nrm(0,"div",16)}function DB(n,t){1&n&&h.SdG(0,6)}function AB(n,t){if(1&n&&(h.j41(0,"mat-hint",21),h.EFF(1),h.k0s()),2&n){const e=h.XpG(2);h.Y8G("id",e._hintLabelId),h.R7$(),h.JRh(e.hintLabel)}}function c3(n,t){if(1&n&&(h.DNE(0,AB,2,2,"mat-hint",21),h.SdG(1,7),h.nrm(2,"div",22),h.SdG(3,8)),2&n){const e=h.XpG();h.vxM(e.hintLabel?0:-1)}}let Hl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["mat-label"]]})}return n})();const my=new h.nKC("MatError");let gy=(()=>{class n{id=(0,h.WQX)(Ul).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){2&r&&h.Mr5("id",i.id)},inputs:{id:"id"},features:[h.Jv_([{provide:my,useExisting:n}])]})}return n})(),eP=(()=>{class n{align="start";id=(0,h.WQX)(Ul).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(h.Mr5("id",i.id),h.BMQ("align",null),h.AVh("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}})}return n})();const SB=new h.nKC("MatPrefix"),tP=new h.nKC("MatSuffix");let Ft=(()=>{class n{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[h.Jv_([{provide:tP,useExisting:n}])]})}return n})();const nP=new h.nKC("FloatingLabelParent");let GC=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=(0,h.WQX)(ZG);_ngZone=(0,h.WQX)(h.SKi);_parent=(0,h.WQX)(nP);_resizeSubscription=new rs.yU;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function rP(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&h.AVh("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const iP="mdc-line-ripple--active",_y="mdc-line-ripple--deactivating";let oP=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_cleanupTransitionEnd;constructor(){const e=(0,h.WQX)(h.SKi),r=(0,h.WQX)(h.sFG);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(_y),e.add(iP)}deactivate(){this._elementRef.nativeElement.classList.add(_y)}_handleTransitionEnd=e=>{const r=this._elementRef.nativeElement.classList,i=r.contains(_y);"opacity"===e.propertyName&&i&&r.remove(iP,_y)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),sP=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_ngZone=(0,h.WQX)(h.SKi);open=!1;_notch;constructor(){}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&h.GBs(yB,5),2&r){let s;h.mGM(s=h.lsd())&&(i._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&h.AVh("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:vB,ngContentSelectors:bB,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(h.NAR(),h.nrm(0,"div",1),h.j41(1,"div",2,0),h.SdG(3),h.k0s(),h.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),aP=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n})}return n})();const RB=new h.nKC("MatFormField"),h3=new h.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Gf=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_changeDetectorRef=(0,h.WQX)(h.gRc);_dir=(0,h.WQX)($f);_platform=(0,h.WQX)(Qr);_idGenerator=(0,h.WQX)(Ul);_ngZone=(0,h.WQX)(h.SKi);_injector=(0,h.WQX)(h.zZn);_defaults=(0,h.WQX)(h3,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=(0,h.sbv)(Hl);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Hf(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance="fill";get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new oe.B;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){const e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled="NoopAnimations"===(0,h.WQX)(h.bc$,{optional:!0})}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=(0,h.EWP)(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){const r=this._control,i="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(i+e.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Gd([void 0,void 0]),(0,ve.T)(()=>[r.errorState,r.userAriaDescribedBy]),function fy(){return(0,on.N)((n,t)=>{let e,r=!1;n.subscribe((0,Ht._)(t,i=>{const s=e;e=i,r&&t.next([s,i]),r=!0}))})}(),fn(([[s,c],[d,f]])=>s!==d||c!==f)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(bt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),$C(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,h.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(bt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=(0,h.EWP)(()=>!!this._labelChild());_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getSubscriptMessageType()){const r=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,i=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,c=this._textSuffixContainer?.nativeElement,d=r?.getBoundingClientRect().width??0,f=i?.getBoundingClientRect().width??0,g=s?.getBoundingClientRect().width??0,y=c?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${d+f}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`,this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${d+f+g+y}px)`)}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,s){if(1&r&&(h.C6U(s,i._labelChild,Hl,5),h.wni(s,aP,5),h.wni(s,SB,5),h.wni(s,tP,5),h.wni(s,my,5),h.wni(s,eP,5)),2&r){let c;h.NyB(),h.mGM(c=h.lsd())&&(i._formFieldControl=c.first),h.mGM(c=h.lsd())&&(i._prefixChildren=c),h.mGM(c=h.lsd())&&(i._suffixChildren=c),h.mGM(c=h.lsd())&&(i._errorChildren=c),h.mGM(c=h.lsd())&&(i._hintChildren=c)}},viewQuery:function(r,i){if(1&r&&(h.GBs(JG,5),h.GBs(wB,5),h.GBs(EB,5),h.GBs(e3,5),h.GBs(t3,5),h.GBs(GC,5),h.GBs(sP,5),h.GBs(oP,5)),2&r){let s;h.mGM(s=h.lsd())&&(i._textField=s.first),h.mGM(s=h.lsd())&&(i._iconPrefixContainer=s.first),h.mGM(s=h.lsd())&&(i._textPrefixContainer=s.first),h.mGM(s=h.lsd())&&(i._iconSuffixContainer=s.first),h.mGM(s=h.lsd())&&(i._textSuffixContainer=s.first),h.mGM(s=h.lsd())&&(i._floatingLabel=s.first),h.mGM(s=h.lsd())&&(i._notchedOutline=s.first),h.mGM(s=h.lsd())&&(i._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(r,i){2&r&&h.AVh("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[h.Jv_([{provide:RB,useExisting:n},{provide:nP,useExisting:n}])],ngContentSelectors:r3,decls:20,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r){const s=h.RV6();h.NAR(n3),h.DNE(0,IB,1,1,"ng-template",null,0,h.C5r),h.j41(2,"div",6,1),h.bIt("click",function(d){return h.eBV(s),h.Njj(i._control.onContainerClick(d))}),h.DNE(4,xB,1,0,"div",7),h.j41(5,"div",8),h.DNE(6,s3,2,2,"div",9)(7,ZR,3,0,"div",10)(8,JR,3,0,"div",11),h.j41(9,"div",12),h.DNE(10,l3,1,1,null,13),h.SdG(11),h.k0s(),h.DNE(12,po,3,0,"div",14)(13,Wf,3,0,"div",15),h.k0s(),h.DNE(14,TB,1,0,"div",16),h.k0s(),h.j41(15,"div",17),h.SS7(16),h.j41(17,"div",18),h.DNE(18,DB,1,0)(19,c3,4,1),h.k0s()()}if(2&r){let s;h.R7$(2),h.AVh("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),h.R7$(2),h.vxM(i._hasOutline()||i._control.disabled?-1:4),h.R7$(2),h.vxM(i._hasOutline()?6:-1),h.R7$(),h.vxM(i._hasIconPrefix?7:-1),h.R7$(),h.vxM(i._hasTextPrefix?8:-1),h.R7$(2),h.vxM(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),h.R7$(2),h.vxM(i._hasTextSuffix?12:-1),h.R7$(),h.vxM(i._hasIconSuffix?13:-1),h.R7$(),h.vxM(i._hasOutline()?-1:14),h.R7$(),h.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing);const c=i._getSubscriptMessageType();h.R7$(2),h.AVh("mat-mdc-form-field-error-wrapper","error"===c)("mat-mdc-form-field-hint-wrapper","hint"===c),h.R7$(),h.vxM("error"===(s=c)?18:"hint"===s?19:-1)}},dependencies:[GC,sP,fi,oP,eP],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}\n'],encapsulation:2,changeDetection:0})}return n})(),m3=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class g3{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,r,i,s){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,e)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}}const qC=["button","checkbox","file","hidden","image","radio","range","reset","submit"],cP=new h.nKC("MAT_INPUT_CONFIG");let qf=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_platform=(0,h.WQX)(Qr);ngControl=(0,h.WQX)(uo,{optional:!0,self:!0});_autofillMonitor=(0,h.WQX)($R);_ngZone=(0,h.WQX)(h.SKi);_formField=(0,h.WQX)(RB,{optional:!0});_renderer=(0,h.WQX)(h.sFG);_uid=(0,h.WQX)(Ul).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=(0,h.WQX)(cP,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new oe.B;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=Hf(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Rn.required)??!1}set required(e){this._required=Hf(e)}_required;get type(){return this._type}set type(e){const r=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&HR().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==r&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Hf(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>HR().has(e));constructor(){const e=(0,h.WQX)(Is,{optional:!0}),r=(0,h.WQX)(Nl,{optional:!0}),i=(0,h.WQX)(m3),s=(0,h.WQX)(mB,{optional:!0,self:!0}),c=this._elementRef.nativeElement,d=c.nodeName.toLowerCase();s?(0,h.Hps)(s.value)?this._signalBasedValueAccessor=s:this._inputValueAccessor=s:this._inputValueAccessor=c,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(c,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new g3(i,this.ngControl,r,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===d,this._isTextarea="textarea"===d,this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&(0,h.QZP)(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){const r=this._elementRef.nativeElement;"number"===r.type?(r.type="text",r.setSelectionRange(0,0),r.type="number"):r.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){qC.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){const r=this._elementRef.nativeElement,i=r.getAttribute("aria-describedby");let s;if(i){const c=this._formFieldDescribedBy||e;s=e.concat(i.split(" ").filter(d=>d&&!c.includes(d)))}else s=e;this._formFieldDescribedBy=e,s.length?r.setAttribute("aria-describedby",s.join(" ")):r.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{const r=e.target;!r.value&&0===r.selectionStart&&0===r.selectionEnd&&(r.setSelectionRange(1,1),r.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(r,i){1&r&&h.bIt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(h.Mr5("id",i.id)("disabled",i.disabled&&!i.disabledInteractive)("required",i.required),h.BMQ("name",i.name||null)("readonly",i._getReadonlyAttribute())("aria-disabled",i.disabled&&i.disabledInteractive?"true":null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),h.AVh("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mat-mdc-input-disabled-interactive",i.disabledInteractive)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",h.L39]},exportAs:["matInput"],features:[h.Jv_([{provide:aP,useExisting:n}]),h.OA$]})}return n})(),Ku=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[ho,fo,fo,WR,ho]})}return n})(),OB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[ho,ho]})}return n})(),P=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[ho,OB,ho]})}return n})();class F{}class N{}class ${headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),s=e.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.addHeaderEntry(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}addHeaderEntry(t,e){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(e):this.headers.set(r,[e])}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ue{encodeKey(t){return vt(t)}encodeValue(t){return vt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const re=/%(\d[a-f0-9])/gi,$e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vt(n){return encodeURIComponent(n).replace(re,(t,e)=>$e[e]??t)}function ot(n){return`${n}`}class Yr{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new ue,t.fromString){if(t.fromObject)throw new h.wOt(2805,!1);this.map=function de(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[c,d]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],f=e.get(c)||[];f.push(d),e.set(c,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(ot):[ot(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{e.push({param:r,value:s,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ot(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(ot(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class uP{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function b3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function w3(n){return typeof Blob<"u"&&n instanceof Blob}function E3(n){return typeof FormData<"u"&&n instanceof FormData}const KC="Content-Type",NB="X-Request-URL",C3="text/plain",I3="application/json",x3=`${I3}, ${C3}, */*`;class XC{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,r,i){let s;if(this.url=e,this.method=t.toUpperCase(),function v3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new $,this.context??=new uP,this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Yr,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||b3(this.body)||w3(this.body)||E3(this.body)||function tY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Yr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||E3(this.body)?null:w3(this.body)?this.body.type||null:b3(this.body)?null:"string"==typeof this.body?C3:this.body instanceof Yr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?I3:null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=t.transferCache??this.transferCache,c=void 0!==t.body?t.body:this.body,d=t.withCredentials??this.withCredentials,f=t.reportProgress??this.reportProgress;let g=t.headers||this.headers,y=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((C,x)=>C.set(x,t.setHeaders[x]),g)),t.setParams&&(y=Object.keys(t.setParams).reduce((C,x)=>C.set(x,t.setParams[x]),y)),new XC(e,r,c,{params:y,headers:g,context:b,reportProgress:f,responseType:i,withCredentials:d,transferCache:s})}}var Qu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qu||{});class FB{headers;status;statusText;url;ok;type;constructor(t,e=200,r="OK"){this.headers=t.headers||new $,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class hP extends FB{constructor(t={}){super(t)}type=Qu.ResponseHeader;clone(t={}){return new hP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class QC extends FB{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Qu.Response;clone(t={}){return new QC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yy extends FB{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function LB(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let VB=(()=>{class n{handler;constructor(e){this.handler=e}request(e,r,i={}){let s;if(e instanceof XC)s=e;else{let f,g;f=i.headers instanceof $?i.headers:new $(i.headers),i.params&&(g=i.params instanceof Yr?i.params:new Yr({fromObject:i.params})),s=new XC(e,r,void 0!==i.body?i.body:null,{headers:f,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const c=Me(s).pipe(So(f=>this.handler.handle(f)));if(e instanceof XC||"events"===i.observe)return c;const d=c.pipe(fn(f=>f instanceof QC));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,ve.T)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new h.wOt(2806,!1);return f.body}));case"blob":return d.pipe((0,ve.T)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new h.wOt(2807,!1);return f.body}));case"text":return d.pipe((0,ve.T)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new h.wOt(2808,!1);return f.body}));default:return d.pipe((0,ve.T)(f=>f.body))}case"response":return d;default:throw new h.wOt(2809,!1)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Yr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,LB(i,r))}post(e,r,i={}){return this.request("POST",e,LB(i,r))}put(e,r,i={}){return this.request("PUT",e,LB(i,r))}static \u0275fac=function(r){return new(r||n)(h.KVO(F))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();const A3=new h.nKC("");function S3(n,t){return t(n)}const YC=new h.nKC(""),uY=new h.nKC(""),M3=new h.nKC("",{providedIn:"root",factory:()=>!0});let R3=(()=>{class n extends F{backend;injector;chain=null;pendingTasks=(0,h.WQX)(h.Ua0);contributeToStability=(0,h.WQX)(M3);constructor(e,r){super(),this.backend=e,this.injector=r}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(YC),...this.injector.get(uY,[])]));this.chain=r.reduceRight((i,s)=>function lY(n,t,e){return(r,i)=>(0,h.N4e)(e,()=>t(r,s=>n(s,i)))}(i,s,this.injector),S3)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Dc(()=>this.pendingTasks.remove(r)))}return this.chain(e,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(h.KVO(N),h.KVO(h.uvJ))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();const mY=/^\)\]\}',?\n/,gY=RegExp(`^${NB}:`,"m");let k3=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new h.wOt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?et(r.\u0275loadImpl()):Me(null)).pipe(Qn(()=>new kt.c(s=>{const c=r.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((M,R)=>c.setRequestHeader(M,R.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept",x3),!e.headers.has(KC)){const M=e.detectContentTypeHeader();null!==M&&c.setRequestHeader(KC,M)}if(e.responseType){const M=e.responseType.toLowerCase();c.responseType="json"!==M?M:"text"}const d=e.serializeBody();let f=null;const g=()=>{if(null!==f)return f;const M=c.statusText||"OK",R=new $(c.getAllResponseHeaders()),B=function _Y(n){return"responseURL"in n&&n.responseURL?n.responseURL:gY.test(n.getAllResponseHeaders())?n.getResponseHeader(NB):null}(c)||e.url;return f=new hP({headers:R,status:c.status,statusText:M,url:B}),f},y=()=>{let{headers:M,status:R,statusText:B,url:H}=g(),G=null;204!==R&&(G=typeof c.response>"u"?c.responseText:c.response),0===R&&(R=G?200:0);let Y=R>=200&&R<300;if("json"===e.responseType&&"string"==typeof G){const Q=G;G=G.replace(mY,"");try{G=""!==G?JSON.parse(G):null}catch(Z){G=Q,Y&&(Y=!1,G={error:Z,text:G})}}Y?(s.next(new QC({body:G,headers:M,status:R,statusText:B,url:H||void 0})),s.complete()):s.error(new yy({error:G,headers:M,status:R,statusText:B,url:H||void 0}))},b=M=>{const{url:R}=g(),B=new yy({error:M,status:c.status||0,statusText:c.statusText||"Unknown Error",url:R||void 0});s.error(B)};let C=!1;const x=M=>{C||(s.next(g()),C=!0);let R={type:Qu.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),"text"===e.responseType&&c.responseText&&(R.partialText=c.responseText),s.next(R)},S=M=>{let R={type:Qu.UploadProgress,loaded:M.loaded};M.lengthComputable&&(R.total=M.total),s.next(R)};return c.addEventListener("load",y),c.addEventListener("error",b),c.addEventListener("timeout",b),c.addEventListener("abort",b),e.reportProgress&&(c.addEventListener("progress",x),null!==d&&c.upload&&c.upload.addEventListener("progress",S)),c.send(d),s.next({type:Qu.Sent}),()=>{c.removeEventListener("error",b),c.removeEventListener("abort",b),c.removeEventListener("load",y),c.removeEventListener("timeout",b),e.reportProgress&&(c.removeEventListener("progress",x),null!==d&&c.upload&&c.upload.removeEventListener("progress",S)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(r){return new(r||n)(h.KVO(Dv))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();const UB=new h.nKC(""),O3=new h.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),N3=new h.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class F3{}let fP,bY=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ae(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(r){return new(r||n)(h.KVO(he),h.KVO(h.Agw),h.KVO(O3))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();function wY(n,t){const e=n.url.toLowerCase();if(!(0,h.WQX)(UB)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const r=(0,h.WQX)(F3).getToken(),i=(0,h.WQX)(N3);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),t(n)}function ZC(n){return function CY(){if(void 0===fP&&(fP=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(fP=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return fP}()?.createHTML(n)||n}function V3(n){return Error(`Unable to find icon with the name "${n}"`)}function B3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function j3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Xf{url;svgText;options;svgElement;constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let pP=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,r,i,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,s){return this._addSvgIconConfig(e,r,new Xf(i,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,s){const c=this._sanitizer.sanitize(h.WPN.HTML,i);if(!c)throw j3(i);const d=ZC(c);return this._addSvgIconConfig(e,r,new Xf("",d,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Xf(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const s=this._sanitizer.sanitize(h.WPN.HTML,r);if(!s)throw j3(r);const c=ZC(s);return this._addSvgIconSetConfig(e,new Xf("",c,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(h.WPN.RESOURCE_URL,e);if(!r)throw B3(e);const i=this._cachedIconsByUrl.get(r);return i?Me(mP(i)):this._loadSvgIconFromConfig(new Xf(e,null)).pipe(Yn(s=>this._cachedIconsByUrl.set(r,s)),(0,ve.T)(s=>mP(s)))}getNamedSvgIcon(e,r=""){const i=U3(r,e);let s=this._svgIconConfigs.get(i);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(i,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(e,c):Ao(V3(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Me(mP(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ve.T)(r=>mP(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Me(i):KE(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(gi(d=>{const g=`Loading icon set URL: ${this._sanitizer.sanitize(h.WPN.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(g)),Me(null)})))).pipe((0,ve.T)(()=>{const c=this._extractIconWithNameFromAnySet(e,r);if(!c)throw V3(e);return c}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const s=r[i];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Yn(r=>e.svgText=r),(0,ve.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Me(null):this._fetchIcon(e).pipe(Yn(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const s=e.querySelector(`[id="${r}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const d=this._svgElementFromString(ZC("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(ZC("<svg></svg>")),i=e.attributes;for(let s=0;s<i.length;s++){const{name:c,value:d}=i[s];"id"!==c&&r.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,s=i?.withCredentials??!1;if(!this._httpClient)throw function IY(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(h.WPN.RESOURCE_URL,r);if(!c)throw B3(r);const d=this._inProgressUrlFetches.get(c);if(d)return d;const f=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ve.T)(g=>ZC(g)),Dc(()=>this._inProgressUrlFetches.delete(c)),XR());return this._inProgressUrlFetches.set(c,f),f}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(U3(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const s=this._resolvers[i](r,e);if(s)return TY(s)?new Xf(s.url,null,s.options):new Xf(s,null)}}static \u0275fac=function(r){return new(r||n)(h.KVO(VB,8),h.KVO(Ji),h.KVO(he,8),h.KVO(h.zcH))};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mP(n){return n.cloneNode(!0)}function U3(n,t){return n+":"+t}function TY(n){return!(!n.url||!n.options)}const DY=["*"],AY=new h.nKC("MAT_ICON_DEFAULT_OPTIONS"),SY=new h.nKC("mat-icon-location",{providedIn:"root",factory:function MY(){const n=(0,h.WQX)(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),H3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],RY=H3.map(n=>`[${n}]`).join(", "),PY=/^url\(['"]?#(.*?)['"]?\)$/;let HB=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_iconRegistry=(0,h.WQX)(pP);_location=(0,h.WQX)(SY);_errorHandler=(0,h.WQX)(h.zcH);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=rs.yU.EMPTY;constructor(){const e=(0,h.WQX)(new h.ES_("aria-hidden"),{optional:!0}),r=(0,h.WQX)(AY,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,s)=>{i.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(RY),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)H3.forEach(c=>{const d=r[s],f=d.getAttribute(c),g=f?f.match(PY):null;if(g){let y=i.get(d);y||(y=[],i.set(d,y)),y.push({name:c,value:g[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(zr(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${s.message}`))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(h.BMQ("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),h.HbH(i.color?"mat-"+i.color:""),h.AVh("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[2,"inline","inline",h.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:DY,decls:1,vars:0,template:function(r,i){1&r&&(h.NAR(),h.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0})}return n})(),zB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[ho,ho]})}return n})();const kY=["determinateSpinner"];function OY(n,t){if(1&n&&(h.qSk(),h.j41(0,"svg",11),h.nrm(1,"circle",12),h.k0s()),2&n){const e=h.XpG();h.BMQ("viewBox",e._viewBox()),h.R7$(),h.xc7("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),h.BMQ("r",e._circleRadius())}}const NY=new h.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function FY(){return{diameter:z3}}}),z3=100;let $B,JC,vy=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){const e=(0,h.WQX)(h.bc$,{optional:!0}),r=(0,h.WQX)(NY);this._noopAnimations="NoopAnimations"===e&&!!r&&!r._forceAnimations,this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",r&&(r.color&&(this.color=this._defaultColor=r.color),r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth))}mode;get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=z3;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-10)/2}_viewBox(){const e=2*this._circleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(1&r&&h.GBs(kY,5),2&r){let s;h.mGM(s=h.lsd())&&(i._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,i){2&r&&(h.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===i.mode?i.value:null)("mode",i.mode),h.HbH("mat-"+i.color),h.xc7("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),h.AVh("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===i.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",h.Udg],diameter:[2,"diameter","diameter",h.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",h.Udg]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(1&r&&(h.DNE(0,OY,2,8,"ng-template",null,0,h.C5r),h.j41(2,"div",2,1),h.qSk(),h.j41(4,"svg",3),h.nrm(5,"circle",4),h.k0s()(),h.joV(),h.j41(6,"div",5)(7,"div",6)(8,"div",7),h.eu8(9,8),h.k0s(),h.j41(10,"div",9),h.eu8(11,8),h.k0s(),h.j41(12,"div",10),h.eu8(13,8),h.k0s()()()),2&r){const s=h.sdS(1);h.R7$(4),h.BMQ("viewBox",i._viewBox()),h.R7$(),h.xc7("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),h.BMQ("r",i._circleRadius()),h.R7$(4),h.Y8G("ngTemplateOutlet",s),h.R7$(2),h.Y8G("ngTemplateOutlet",s),h.R7$(2),h.Y8G("ngTemplateOutlet",s)}},dependencies:[fi],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}\n"],encapsulation:2,changeDetection:0})}return n})(),by=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=h.$C({type:n});static \u0275inj=h.G2t({imports:[ho]})}return n})();function BY(n,t){return n===t}function $3(n){return 0===n.buttons||0===n.detail}function W3(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}function WB(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function zl(n){return n.composedPath?n.composedPath()[0]:n.target}function GB(n){return function qY(){if(null==JC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>JC=!0}))}finally{JC=JC||!1}return JC}()?n:!!n.capture}const KY=new h.nKC("cdk-input-modality-detector-options"),XY={ignoreKeys:[18,17,224,91,16]},qB={passive:!0,capture:!0};let QY=(()=>{class n{_platform=(0,h.WQX)(Qr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new pi.t(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(r=>r===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zl(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next($3(e)?"keyboard":"mouse"),this._mostRecentTarget=zl(e))};_onTouchstart=e=>{W3(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zl(e))};constructor(){const e=(0,h.WQX)(h.SKi),r=(0,h.WQX)(he),i=(0,h.WQX)(KY,{optional:!0});if(this._options={...XY,...i},this.modalityDetected=this._modality.pipe(J2(1)),this.modalityChanged=this.modalityDetected.pipe(function VY(n,t=mi.D){return n=n??BY,(0,on.N)((e,r)=>{let i,s=!0;e.subscribe((0,Ht._)(r,c=>{const d=t(c);(s||!n(i,d))&&(s=!1,i=d,r.next(c))}))})}()),this._platform.isBrowser){const s=(0,h.WQX)(h._9s).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[Ts(s,r,"keydown",this._onKeydown,qB),Ts(s,r,"mousedown",this._onMousedown,qB),Ts(s,r,"touchstart",this._onTouchstart,qB)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gP=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(gP||{});const YY=new h.nKC("cdk-focus-monitor-default-options"),_P=GB({passive:!0,capture:!0});let K3=(()=>{class n{_ngZone=(0,h.WQX)(h.SKi);_platform=(0,h.WQX)(Qr);_inputModalityDetector=(0,h.WQX)(QY);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=(0,h.WQX)(he,{optional:!0});_stopInputModalityDetector=new oe.B;constructor(){const e=(0,h.WQX)(YY,{optional:!0});this._detectionMode=e?.detectionMode||gP.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{for(let i=zl(e);i;i=i.parentElement)"focus"===e.type?this._onFocus(e,i):this._onBlur(e,i)};monitor(e,r=!1){const i=wa(e);if(!this._platform.isBrowser||1!==i.nodeType)return Me();const s=function GY(n){if(function WY(){if(null==$B){const n=typeof document<"u"?document.head:null;$B=!(!n||!n.createShadowRoot&&!n.attachShadow)}return $B}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const d={checkChildren:r,subject:new oe.B,rootNode:s};return this._elementInfo.set(i,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const r=wa(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const s=wa(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,f])=>this._originChanged(d,r,f)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===gP.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,this._detectionMode===gP.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),s=zl(e);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,_P),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,_P)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_P),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_P),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,s)=>{(s===e||i.checkChildren&&s.contains(e))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0;return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $o=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}($o||{});class ZY{_renderer;element;config;_animationForciblyDisabledThroughCss;state=$o.HIDDEN;constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}}const X3=GB({passive:!0,capture:!0});class JY{_events=new Map;addHandler(t,e,r,i){const s=this._events.get(e);if(s){const c=s.get(r);c?c.add(i):s.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,X3)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const s=i.get(e);s&&(s.delete(r),0===s.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,X3)))}_delegateEventHandler=t=>{const e=zl(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(s=>s.handleEvent(t))})}}const yP={enterDuration:225,exitDuration:150},Q3=GB({passive:!0,capture:!0}),Y3=["mousedown","touchstart"],Z3=["mouseup","mouseleave","touchend","touchcancel"];let tZ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}\n"],encapsulation:2,changeDetection:0})}return n})();class vP{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new JY;constructor(t,e,r,i,s){this._target=t,this._ngZone=e,this._platform=i,i.isBrowser&&(this._containerElement=wa(r)),s&&s.get(Bf).load(tZ)}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...yP,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const c=r.radius||function nZ(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),d=t-i.left,f=e-i.top,g=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=d-c+"px",y.style.top=f-c+"px",y.style.height=2*c+"px",y.style.width=2*c+"px",null!=r.color&&(y.style.backgroundColor=r.color),y.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(y);const b=window.getComputedStyle(y),x=b.transitionDuration,S="none"===b.transitionProperty||"0s"===x||"0s, 0s"===x||0===i.width&&0===i.height,M=new ZY(this,y,r,S);y.style.transform="scale3d(1, 1, 1)",M.state=$o.FADING_IN,r.persistent||(this._mostRecentTransientRipple=M);let R=null;return!S&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const B=()=>{R&&(R.fallbackTimer=null),clearTimeout(G),this._finishRippleTransition(M)},H=()=>this._destroyRipple(M),G=setTimeout(H,g+100);y.addEventListener("transitionend",B),y.addEventListener("transitioncancel",H),R={onTransitionEnd:B,onTransitionCancel:H,fallbackTimer:G}}),this._activeRipples.set(M,R),(S||!g)&&this._finishRippleTransition(M),M}fadeOutRipple(t){if(t.state===$o.FADING_OUT||t.state===$o.HIDDEN)return;const e=t.element,r={...yP,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=$o.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=wa(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Y3.forEach(r=>{vP._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Z3.forEach(e=>{this._triggerElement.addEventListener(e,this,Q3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===$o.FADING_IN?this._startFadeOutTransition(t):t.state===$o.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=$o.VISIBLE,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=$o.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=$3(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!W3(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===$o.VISIBLE||t.config.terminateOnPointerUp&&t.state===$o.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(Y3.forEach(e=>vP._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Z3.forEach(e=>t.removeEventListener(e,this,Q3)),this._pointerUpEventsRegistered=!1))}}const rZ=new h.nKC("mat-ripple-global-options"),iZ={capture:!0},oZ=["focus","mousedown","mouseenter","touchstart"],KB="mat-ripple-loader-uninitialized",XB="mat-ripple-loader-class-name",J3="mat-ripple-loader-centered",bP="mat-ripple-loader-disabled";let sZ=(()=>{class n{_document=(0,h.WQX)(he);_animationMode=(0,h.WQX)(h.bc$,{optional:!0});_globalRippleOptions=(0,h.WQX)(rZ,{optional:!0});_platform=(0,h.WQX)(Qr);_ngZone=(0,h.WQX)(h.SKi);_injector=(0,h.WQX)(h.zZn);_eventCleanups;_hosts=new Map;constructor(){const e=(0,h.WQX)(h._9s).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>oZ.map(r=>Ts(e,this._document,r,this._onInteraction,iZ)))}ngOnDestroy(){const e=this._hosts.keys();for(const r of e)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(e,r){e.setAttribute(KB,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(XB))&&e.setAttribute(XB,r.className||""),r.centered&&e.setAttribute(J3,""),r.disabled&&e.setAttribute(bP,"")}setDisabled(e,r){const i=this._hosts.get(e);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(e))):r?e.setAttribute(bP,""):e.removeAttribute(bP)}_onInteraction=e=>{const r=zl(e);if(r instanceof HTMLElement){const i=r.closest(`[${KB}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(XB)),e.append(r);const i="NoopAnimations"===this._animationMode,s=this._globalRippleOptions,c=i?0:s?.animation?.enterDuration??yP.enterDuration,d=i?0:s?.animation?.exitDuration??yP.exitDuration,f={rippleDisabled:i||s?.disabled||e.hasAttribute(bP),rippleConfig:{centered:e.hasAttribute(J3),terminateOnPointerUp:s?.terminateOnPointerUp,animation:{enterDuration:c,exitDuration:d}}},g=new vP(f,this._ngZone,r,this._platform,this._injector),y=!f.rippleDisabled;y&&g.setupTriggerEvents(e),this._hosts.set(e,{target:f,renderer:g,hasSetUpEvents:y}),e.removeAttribute(KB)}destroyRipple(e){const r=this._hosts.get(e);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aZ=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}\n'],encapsulation:2,changeDetection:0})}return n})();const lZ=["mat-icon-button",""],cZ=["*"],uZ=new h.nKC("MAT_BUTTON_CONFIG"),dZ=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let hZ=(()=>{class n{_elementRef=(0,h.WQX)(h.aKT);_ngZone=(0,h.WQX)(h.SKi);_animationMode=(0,h.WQX)(h.bc$,{optional:!0});_focusMonitor=(0,h.WQX)(K3);_rippleLoader=(0,h.WQX)(sZ);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){(0,h.WQX)(Bf).load(aZ);const e=(0,h.WQX)(uZ,{optional:!0}),r=this._elementRef.nativeElement,i=r.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(r,{className:"mat-mdc-button-ripple"});for(const{attribute:s,mdcClasses:c}of dZ)r.hasAttribute(s)&&i.add(...c)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",h.L39],disabled:[2,"disabled","disabled",h.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",h.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",h.L39]}})}return n})(),QB=(()=>{class n extends hZ{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(h.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),h.HbH(i.color?"mat-"+i.color:""),h.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[h.Vt3],attrs:lZ,ngContentSelectors:cZ,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(h.NAR(),h.nrm(0,"span",0),h.SdG(1),h.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}\n',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}\n"],encapsulation:2,changeDetection:0})}return n})();const fZ=n=>({invalidLogin:n});function pZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Email is required"),h.k0s())}function mZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Email is invalid"),h.k0s())}function gZ(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,pZ,2,0,"span")(2,mZ,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.loginForm.get("email").hasError("required")?1:-1),h.R7$(),h.vxM(e.loginForm.get("email").hasError("email")?2:-1)}}function _Z(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is required"),h.k0s())}function yZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too short"),h.k0s())}function vZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too long"),h.k0s())}function bZ(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,_Z,2,0,"span")(2,yZ,2,0,"span")(3,vZ,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.loginForm.get("password").hasError("required")?1:-1),h.R7$(),h.vxM(e.loginForm.get("password").hasError("minlength")?2:-1),h.R7$(),h.vxM(e.loginForm.get("password").hasError("maxlength")?3:-1)}}function wZ(n,t){if(1&n){const e=h.RV6();h.j41(0,"form",0)(1,"mat-form-field")(2,"mat-label"),h.EFF(3,"Email"),h.k0s(),h.nrm(4,"input",1),h.DNE(5,gZ,3,2,"mat-error"),h.k0s(),h.j41(6,"mat-form-field")(7,"mat-label"),h.EFF(8,"Password"),h.k0s(),h.nrm(9,"input",2),h.j41(10,"button",3),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.hide=!i.hide)}),h.j41(11,"mat-icon"),h.EFF(12),h.k0s()(),h.DNE(13,bZ,4,3,"mat-error"),h.k0s(),h.j41(14,"div",4)(15,"a",5),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.login())}),h.nrm(16,"i",6),h.j41(17,"span",7),h.EFF(18,"Login"),h.k0s()()()()}if(2&n){const e=h.XpG();h.Y8G("formGroup",e.loginForm)("ngClass",h.eq3(8,fZ,e.invalidLogin)),h.R7$(5),h.vxM(e.loginForm.get("email").invalid?5:-1),h.R7$(4),h.Y8G("type",e.hide?"password":"text"),h.R7$(),h.BMQ("aria-label","Hide password")("aria-pressed",e.hide),h.R7$(2),h.JRh(e.hide?"visibility_off":"visibility"),h.R7$(),h.vxM(e.loginForm.get("password").invalid?13:-1)}}function EZ(n,t){1&n&&h.nrm(0,"mat-spinner")}let CZ=(()=>{class n{loginForm;toastr=(0,h.WQX)(ko);fb=(0,h.WQX)(ly);userService=(0,h.WQX)(Ho);router=(0,h.WQX)(er);hide=!0;invalidLogin=!1;destroyed$=new oe.B;loading=!1;ngOnInit(){this.loginForm=this.fb.group({email:["",[Rn.required,Rn.email]],password:["",[Rn.required,Rn.minLength(6),Rn.maxLength(40)]]})}login(){this.loginForm.valid?(this.loading=!0,this.userService.login(this.loginForm.value).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/"]),this.toastr.info("Welcome","Performax",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:e=>{this.loading=!1,e.message.includes("auth/invalid-credential")?(this.invalidLogin=!0,this.toastr.error("Wrong email or password","Login",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"}),setTimeout(()=>{this.invalidLogin=!1},2e3)):e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Login",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})):this.loginForm.markAllAsTouched()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-login"]],decls:2,vars:1,consts:[[3,"formGroup","ngClass"],["matInput","","formControlName","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"button-container"],["title","Login",3,"click"],[1,"bx","bxs-log-in"],[1,"text"]],template:function(r,i){1&r&&h.DNE(0,wZ,19,10,"form",0)(1,EZ,1,0,"mat-spinner"),2&r&&h.vxM(i.loading?1:0)},dependencies:[Qi,Ai,Vf,Wu,zo,_a,ju,Nl,Gu,fo,Gf,Hl,gy,Ft,Ku,qf,P,QB,zB,HB,ro,by,vy],styles:["[_nghost-%COMP%]{width:90%;display:flex;justify-content:center;align-items:center;flex-direction:column;max-width:420px}form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;gap:20px}form.invalidLogin[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_invalidLogin;animation-duration:.1s;animation-direction:alternate;animation-iteration-count:8}@keyframes _ngcontent-%COMP%_invalidLogin{0%{transform:translate(-5px)}to{transform:translate(5px)}}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{margin-top:2px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{color:var(--accent)}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;gap:20px;flex-wrap:wrap}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;background-color:var(--background);color:var(--accent);padding:10px;display:flex;align-items:center;justify-content:center;gap:10px;border-radius:var(--light-radius);transition:.5s ease;width:160px;box-shadow:var(--box-shadow)}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;font-weight:500}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--invalid) .mdc-floating-label{color:var(--accent)}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--invalid).mdc-text-field--focused .mdc-floating-label{color:var(--accent)}  .mdc-text-field{border-radius:var(--light-radius)!important}  .mdc-text-field--filled{background-color:var(--background)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--accent)!important}  .mat-mdc-form-field-focus-overlay{display:none}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:red!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:red!important}  .mat-mdc-form-field-error{color:red!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--secondary)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom-color:var(--accent)!important}  mat-form-field.mat-form-field-invalid{--accent: red;--secondary: red}"]})}return n})();function IZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Email is required"),h.k0s())}function xZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Email is invalid"),h.k0s())}function TZ(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,IZ,2,0,"span")(2,xZ,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.registerForm.get("email").hasError("required")?1:-1),h.R7$(),h.vxM(e.registerForm.get("email").hasError("email")?2:-1)}}function DZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is required"),h.k0s())}function AZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too short"),h.k0s())}function SZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too long"),h.k0s())}function MZ(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,DZ,2,0,"span")(2,AZ,2,0,"span")(3,SZ,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.registerForm.get("password").hasError("required")?1:-1),h.R7$(),h.vxM(e.registerForm.get("password").hasError("minlength")?2:-1),h.R7$(),h.vxM(e.registerForm.get("password").hasError("maxlength")?3:-1)}}function RZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is required"),h.k0s())}function PZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too short"),h.k0s())}function kZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too long"),h.k0s())}function OZ(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Passwords do not match"),h.k0s())}function NZ(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,RZ,2,0,"span")(2,PZ,2,0,"span")(3,kZ,2,0,"span")(4,OZ,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.registerForm.get("passwordConfirmation").hasError("required")?1:-1),h.R7$(),h.vxM(e.registerForm.get("passwordConfirmation").hasError("minlength")?2:-1),h.R7$(),h.vxM(e.registerForm.get("passwordConfirmation").hasError("maxlength")?3:-1),h.R7$(),h.vxM(e.registerForm.get("passwordConfirmation").hasError("passwordMismatch")?4:-1)}}function FZ(n,t){if(1&n){const e=h.RV6();h.j41(0,"form",0)(1,"mat-form-field")(2,"mat-label"),h.EFF(3,"Email"),h.k0s(),h.nrm(4,"input",1),h.DNE(5,TZ,3,2,"mat-error"),h.k0s(),h.j41(6,"mat-form-field")(7,"mat-label"),h.EFF(8,"Password"),h.k0s(),h.nrm(9,"input",2),h.j41(10,"button",3),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.hide=!i.hide)}),h.j41(11,"mat-icon"),h.EFF(12),h.k0s()(),h.DNE(13,MZ,4,3,"mat-error"),h.k0s(),h.j41(14,"mat-form-field")(15,"mat-label"),h.EFF(16,"Confirm"),h.k0s(),h.nrm(17,"input",4),h.j41(18,"button",3),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.hideDuplicate=!i.hideDuplicate)}),h.j41(19,"mat-icon"),h.EFF(20),h.k0s()(),h.DNE(21,NZ,5,4,"mat-error"),h.k0s(),h.j41(22,"div",5)(23,"a",6),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.register())}),h.nrm(24,"i",7),h.j41(25,"span",8),h.EFF(26,"Register"),h.k0s()()()()}if(2&n){const e=h.XpG();h.Y8G("formGroup",e.registerForm),h.R7$(5),h.vxM(e.registerForm.get("email").invalid?5:-1),h.R7$(4),h.Y8G("type",e.hide?"password":"text"),h.R7$(),h.BMQ("aria-label","Hide password")("aria-pressed",e.hide),h.R7$(2),h.JRh(e.hide?"visibility_off":"visibility"),h.R7$(),h.vxM(e.registerForm.get("password").invalid?13:-1),h.R7$(4),h.Y8G("type",e.hideDuplicate?"password":"text"),h.R7$(),h.BMQ("aria-label","Hide password")("aria-pressed",e.hideDuplicate),h.R7$(2),h.JRh(e.hideDuplicate?"visibility_off":"visibility"),h.R7$(),h.vxM(e.registerForm.get("passwordConfirmation").invalid?21:-1)}}function LZ(n,t){1&n&&h.nrm(0,"mat-spinner")}let VZ=(()=>{class n{registerForm;toastr=(0,h.WQX)(ko);fb=(0,h.WQX)(ly);userService=(0,h.WQX)(Ho);router=(0,h.WQX)(er);hide=!0;hideDuplicate=!0;destroyed$=new oe.B;loading=!1;ngOnInit(){this.registerForm=this.fb.group({email:["",[Rn.required,Rn.email]],password:["",[Rn.required,Rn.minLength(6),Rn.maxLength(40)]],passwordConfirmation:["",[Rn.required,Rn.minLength(6),Rn.maxLength(40)]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(e){const r=e.get("password")?.value,i=e.get("passwordConfirmation")?.value;e.get("password").valid&&i&&""!==i&&r!==i&&!e.get("passwordConfirmation").hasError("minlength")&&!e.get("passwordConfirmation").hasError("maxlength")&&e.get("passwordConfirmation")?.setErrors({passwordMismatch:!0})}register(){this.registerForm.valid?(this.loading=!0,this.userService.register(this.registerForm.value).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/"]),this.toastr.info("Welcome","Performax",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:e=>{this.loading=!1,e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Performax",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})):this.registerForm.markAllAsTouched()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-register"]],decls:2,vars:1,consts:[[3,"formGroup"],["matInput","","formControlName","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","passwordConfirmation",3,"type"],[1,"button-container"],["title","Register",3,"click"],[1,"bx","bxs-log-in"],[1,"text"]],template:function(r,i){1&r&&h.DNE(0,FZ,27,12,"form",0)(1,LZ,1,0,"mat-spinner"),2&r&&h.vxM(i.loading?1:0)},dependencies:[Qi,Vf,Wu,zo,_a,ju,Nl,Gu,fo,Gf,Hl,gy,Ft,Ku,qf,P,QB,zB,HB,ro,by,vy],styles:["[_nghost-%COMP%]{width:90%;display:flex;justify-content:center;align-items:center;flex-direction:column;max-width:420px}form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%;gap:20px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{margin-top:2px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{color:var(--accent)}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;gap:20px;flex-wrap:wrap}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;background-color:var(--background);color:var(--accent);padding:10px;display:flex;align-items:center;justify-content:center;gap:10px;border-radius:var(--light-radius);transition:.5s ease;width:160px;box-shadow:var(--box-shadow)}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;font-weight:500}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--invalid) .mdc-floating-label{color:var(--accent)}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--invalid).mdc-text-field--focused .mdc-floating-label{color:var(--accent)}  .mdc-text-field{border-radius:var(--light-radius)!important}  .mdc-text-field--filled{background-color:var(--background)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--accent)!important}  .mat-mdc-form-field-focus-overlay{display:none}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:red!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:red!important}  .mat-mdc-form-field-error{color:red!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--secondary)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom-color:var(--accent)!important}  mat-form-field.mat-form-field-invalid{--accent: red;--secondary: red}"]})}return n})();function BZ(n,t){1&n&&h.nrm(0,"app-register")}function jZ(n,t){1&n&&h.nrm(0,"app-login")}let UZ=(()=>{class n{isRegistering=!1;toggleLoginOrRegister(e){("login"===e&&this.isRegistering||"register"===e&&!this.isRegistering)&&(this.isRegistering=!this.isRegistering)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-connect"]],decls:11,vars:3,consts:[[1,"button-container"],["title","Register",3,"click","ngClass"],["title","Login",3,"click","ngClass"],[1,"content"]],template:function(r,i){1&r&&(h.j41(0,"section")(1,"div",0)(2,"a",1),h.bIt("click",function(){return i.toggleLoginOrRegister("register")}),h.j41(3,"h1"),h.EFF(4,"Register"),h.k0s()(),h.j41(5,"a",2),h.bIt("click",function(){return i.toggleLoginOrRegister("login")}),h.j41(6,"h1"),h.EFF(7,"Login"),h.k0s()()(),h.j41(8,"div",3),h.DNE(9,BZ,1,0,"app-register")(10,jZ,1,0,"app-login"),h.k0s()()),2&r&&(h.R7$(2),h.Y8G("ngClass",i.isRegistering?"active":"unactive"),h.R7$(3),h.Y8G("ngClass",i.isRegistering?"unactive":"active"),h.R7$(4),h.vxM(i.isRegistering?9:10))},dependencies:[Qi,Ai,CZ,VZ],styles:["section[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:700px;border-radius:var(--light-radius);box-shadow:var(--box-shadow)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:100%;display:flex;align-items:start;justify-content:center;min-height:370px}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;width:100%;margin:30px 0}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--accent);display:flex;align-items:center;justify-content:center;transition:.5s ease;width:170px;text-transform:uppercase;border-radius:var(--light-radius)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;font-weight:700}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .unactive[_ngcontent-%COMP%]:hover{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .unactive[_ngcontent-%COMP%]{cursor:pointer}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}@media screen and (max-width: 425px){section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{margin:10px;flex-direction:column-reverse;gap:10px}}"]})}return n})();class YB{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ZB extends YB{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,r,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.projectableNodes=s}}class e5 extends YB{templateRef;viewContainerRef;context;injector;constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class HZ extends YB{element;constructor(t){super(),this.element=t instanceof h.aKT?t.nativeElement:t}}class JB{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ZB?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof e5?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof HZ?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zZ extends JB{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,r,i,s){super(),this.outletElement=t,this._appRef=r,this._defaultInjector=i,this._document=s}attachComponentPortal(t){let e;if(t.viewContainerRef){const r=t.injector||t.viewContainerRef.injector,i=r.get(h.Vns,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{const r=this._appRef,i=t.injector||this._defaultInjector||h.zZn.NULL,s=i.get(h.uvJ,r.injector);e=(0,h.a0P)(t.component,{elementInjector:i,environmentInjector:s,projectableNodes:t.projectableNodes||void 0}),r.attachView(e.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}attachDomPortal=t=>{const e=t.element,r=this._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(e,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ej=(()=>{class n extends JB{_moduleRef=(0,h.WQX)(h.Vns,{optional:!0});_document=(0,h.WQX)(he);_viewContainerRef=(0,h.WQX)(h.c1b);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new h.bkB;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,i=r.createComponent(e.component,{index:r.length,injector:e.injector||r.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=e=>{const r=e.element,i=this._document.createComment("dom-portal");e.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(r){return new(r||n)};static \u0275dir=h.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[h.Vt3]})}return n})();function t5(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}const eI={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=eI;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(s=>{e=void 0,n(s)});return new rs.yU(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=eI;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=eI;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class WZ extends xh{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class $Z extends ys{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=eI.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:s}=t;null!=e&&e===t._scheduled&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(eI.cancelAnimationFrame(e),t._scheduled=void 0)}});let tj,qZ=1;const wP={};function n5(n){return n in wP&&(delete wP[n],!0)}const KZ={setImmediate(n){const t=qZ++;return wP[t]=!0,tj||(tj=Promise.resolve()),tj.then(()=>n5(t)&&n()),t},clearImmediate(n){n5(n)}},{setImmediate:XZ,clearImmediate:QZ}=KZ,EP={setImmediate(...n){const{delegate:t}=EP;return(t?.setImmediate||XZ)(...n)},clearImmediate(n){const{delegate:t}=EP;return(t?.clearImmediate||QZ)(n)},delegate:void 0};new class ZZ extends xh{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class YZ extends ys{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=EP.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:s}=t;null!=e&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==e&&(EP.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function r5(n,t=Js){return function eJ(n){return(0,on.N)((t,e)=>{let r=!1,i=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const g=i;i=null,e.next(g)}c&&e.complete()},f=()=>{s=null,c&&e.complete()};t.subscribe((0,Ht._)(e,g=>{r=!0,i=g,s||Pr(n(g)).subscribe(s=(0,Ht._)(e,d,f))},()=>{c=!0,(!r||!s||s.closed)&&e.complete()}))})}(()=>function nJ(n=0,t,e=RF){let r=-1;return null!=t&&(mm(t)?e=t:r=t),new kt.c(i=>{let s=function tJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,t))}let Qf;function i5(){if(null==Qf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Qf=!1,Qf;if("scrollBehavior"in document.documentElement.style)Qf=!0;else{const n=Element.prototype.scrollTo;Qf=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Qf}let o5=(()=>{class n{_ngZone=(0,h.WQX)(h.SKi);_platform=(0,h.WQX)(Qr);_renderer=(0,h.WQX)(h._9s).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new oe.B;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new kt.c(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const i=e>0?this._scrolled.pipe(r5(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Me()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(fn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_scrollableContainsElement(e,r){let i=wa(r),s=e.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s5=(()=>{class n{_platform=(0,h.WQX)(Qr);_listeners;_viewportSize;_change=new oe.B;_document=(0,h.WQX)(he,{optional:!0});constructor(){const e=(0,h.WQX)(h.SKi),r=(0,h.WQX)(h._9s).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){const i=s=>this._change.next(s);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(r5(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const a5=i5();class sJ{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ir(-this._previousScrollPosition.left),t.style.top=ir(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,s=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),a5&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),a5&&(r.scrollBehavior=s,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class aJ{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(fn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}class l5{enable(){}disable(){}attach(){}}function nj(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function c5(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class lJ{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();nj(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cJ=(()=>{class n{_scrollDispatcher=(0,h.WQX)(o5);_viewportRuler=(0,h.WQX)(s5);_ngZone=(0,h.WQX)(h.SKi);_document=(0,h.WQX)(he);constructor(){}noop=()=>new l5;close=e=>new aJ(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new sJ(this._viewportRuler,this._document);reposition=e=>new lJ(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class u5{positionStrategy;scrollStrategy=new l5;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class uJ{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let d5=(()=>{class n{_attachedOverlays=[];_document=(0,h.WQX)(he);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dJ=(()=>{class n extends d5{_ngZone=(0,h.WQX)(h.SKi);_renderer=(0,h.WQX)(h._9s).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{const r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hJ=(()=>{class n extends d5{_platform=(0,h.WQX)(Qr);_ngZone=(0,h.WQX)(h.SKi);_renderer=(0,h.WQX)(h._9s).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){const r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Ts(this._renderer,r,"pointerdown",this._pointerDownListener,i),Ts(this._renderer,r,"click",this._clickListener,i),Ts(this._renderer,r,"auxclick",this._clickListener,i),Ts(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=zl(e)};_clickListener=e=>{const r=zl(e),i="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;const s=this._attachedOverlays.slice();for(let c=s.length-1;c>-1;c--){const d=s[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(h5(d.overlayElement,r)||h5(d.overlayElement,i))break;const f=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(e)):f.next(e)}};static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h5(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let r=t;for(;r;){if(r===n)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let f5=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}\n"],encapsulation:2,changeDetection:0})}return n})(),rj=(()=>{class n{_platform=(0,h.WQX)(Qr);_containerElement;_document=(0,h.WQX)(he);_styleLoader=(0,h.WQX)(Bf);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||t5()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(e),t5()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(f5)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class fJ{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,r,i){this._renderer=e,this._ngZone=r,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{const t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class ij{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new oe.B;_attachments=new oe.B;_detachments=new oe.B;_positionStrategy;_scrollStrategy;_locationChanges=rs.yU.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new oe.B;_outsidePointerEvents=new oe.B;_renders=new oe.B;_afterRenderRef;_afterNextRenderRef;constructor(t,e,r,i,s,c,d,f,g,y=!1,b,C){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=f,this._outsideClickDispatcher=g,this._animationsDisabled=y,this._injector=b,this._renderer=C,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=(0,h.O8t)(()=>(0,h.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=(0,h.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ir(this._config.width),t.height=ir(this._config.height),t.minWidth=ir(this._config.minWidth),t.minHeight=ir(this._config.minHeight),t.maxWidth=ir(this._config.maxWidth),t.maxHeight=ir(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new fJ(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,r){const i=jf(e||[]).filter(s=>!!s);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(bt($C(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t?.disable(),t?.detach?.()}}const p5="cdk-overlay-connected-position-bounding-box",pJ=/([A-Za-z%]+)$/;class mJ{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new oe.B;_resizeSubscription=rs.yU.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(p5),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let f=this._getOriginPoint(t,i,d),g=this._getOverlayPoint(f,e,d),y=this._getOverlayFit(g,e,r,d);if(y.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(y,g,r)?s.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!c||c.overlayFit.visibleArea<y.visibleArea)&&(c={overlayFit:y,overlayPoint:g,originPoint:f,position:d,overlayRect:e})}if(s.length){let d=null,f=-1;for(const g of s){const y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>f&&(f=y,d=g)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(p5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,s;if("center"==r.originX)i=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;i="start"==r.originX?c:d}return e.left<0&&(i-=e.left),s="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:i,y:s}}_getOverlayPoint(t,e,r){let i,s;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+s}}_getOverlayFit(t,e,r,i){const s=g5(e);let{x:c,y:d}=t,f=this._getOffset(i,"x"),g=this._getOffset(i,"y");f&&(c+=f),g&&(d+=g);let C=0-d,x=d+s.height-r.height,S=this._subtractOverflows(s.width,0-c,c+s.width-r.width),M=this._subtractOverflows(s.height,C,x),R=S*M;return{visibleArea:R,isCompletelyWithinViewport:s.width*s.height===R,fitsInViewportVertically:M===s.height,fitsInViewportHorizontally:S==s.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,s=r.right-e.x,c=m5(this._overlayRef.getConfig().minHeight),d=m5(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=i)&&(t.fitsInViewportHorizontally||null!=d&&d<=s)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=g5(e),s=this._viewportRect,c=Math.max(t.x+i.width-s.width,0),d=Math.max(t.y+i.height-s.height,0),f=Math.max(s.top-r.top-t.y,0),g=Math.max(s.left-r.left-t.x,0);let y=0,b=0;return y=i.width<=s.width?g||-c:t.x<this._viewportMargin?s.left-r.left-t.x:0,b=i.height<=s.height?f||-d:t.y<this._viewportMargin?s.top-r.top-t.y:0,this._previousPushAmount={x:y,y:b},{x:t.x+y,y:t.y+b}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function gJ(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new uJ(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let s,c,d,y,b,C;if("top"===e.overlayY)c=t.y,s=r.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=r.height-t.y+2*this._viewportMargin,s=r.height-d+this._viewportMargin;else{const x=Math.min(r.bottom-t.y+r.top,t.y),S=this._lastBoundingBoxSize.height;s=2*x,c=t.y-x,s>S&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-S/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)C=r.width-t.x+2*this._viewportMargin,y=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)b=t.x,y=r.right-t.x;else{const x=Math.min(r.right-t.x+r.left,t.x),S=this._lastBoundingBoxSize.width;y=2*x,b=t.x-x,y>S&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-S/2)}return{top:c,left:b,bottom:d,right:C,width:y,height:s}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=ir(r.height),i.top=ir(r.top),i.bottom=ir(r.bottom),i.width=ir(r.width),i.left=ir(r.left),i.right=ir(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=ir(s)),c&&(i.maxWidth=ir(c))}this._lastBoundingBoxSize=r,Yf(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Yf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const y=this._viewportRuler.getViewportScrollPosition();Yf(r,this._getExactOverlayY(e,t,y)),Yf(r,this._getExactOverlayX(e,t,y))}else r.position="static";let d="",f=this._getOffset(e,"x"),g=this._getOffset(e,"y");f&&(d+=`translateX(${f}px) `),g&&(d+=`translateY(${g}px)`),r.transform=d.trim(),c.maxHeight&&(i?r.maxHeight=ir(c.maxHeight):s&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=ir(c.maxWidth):s&&(r.maxWidth="")),Yf(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=ir(s.y),i}_getExactOverlayX(t,e,r){let c,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ir(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:c5(t,r),isOriginOutsideView:nj(t,r),isOverlayClipped:c5(e,r),isOverlayOutsideView:nj(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&jf(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof h.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Yf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function m5(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(pJ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function g5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _5="cdk-global-overlay-wrapper";class _J{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_5),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:c,maxHeight:d}=r,f=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),g=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),y=this._xPosition,b=this._xOffset,C="rtl"===this._overlayRef.getConfig().direction;let x="",S="",M="";f?M="flex-start":"center"===y?(M="center",C?S=b:x=b):C?"left"===y||"end"===y?(M="flex-end",x=b):("right"===y||"start"===y)&&(M="flex-start",S=b):"left"===y||"start"===y?(M="flex-start",x=b):("right"===y||"end"===y)&&(M="flex-end",S=b),t.position=this._cssPosition,t.marginLeft=f?"0":x,t.marginTop=g?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=f?"0":S,e.justifyContent=M,e.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(_5),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let yJ=(()=>{class n{_viewportRuler=(0,h.WQX)(s5);_document=(0,h.WQX)(he);_platform=(0,h.WQX)(Qr);_overlayContainer=(0,h.WQX)(rj);constructor(){}global(){return new _J}flexibleConnectedTo(e){return new mJ(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zu=(()=>{class n{scrollStrategies=(0,h.WQX)(cJ);_overlayContainer=(0,h.WQX)(rj);_positionBuilder=(0,h.WQX)(yJ);_keyboardDispatcher=(0,h.WQX)(dJ);_injector=(0,h.WQX)(h.zZn);_ngZone=(0,h.WQX)(h.SKi);_document=(0,h.WQX)(he);_directionality=(0,h.WQX)($f);_location=(0,h.WQX)(jt);_outsideClickDispatcher=(0,h.WQX)(hJ);_animationsModuleType=(0,h.WQX)(h.bc$,{optional:!0});_idGenerator=(0,h.WQX)(Ul);_renderer=(0,h.WQX)(h._9s).createRenderer(null,null);_appRef;_styleLoader=(0,h.WQX)(Bf);constructor(){}create(e){this._styleLoader.load(f5);const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),c=new u5(e);return c.direction=c.direction||this._directionality.value,new ij(s,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(h.uvJ),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(h.o8S)),new zZ(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y5(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function wJ(n,t){}class nI{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext}let v5=(()=>{class n extends JB{_elementRef=(0,h.WQX)(h.aKT);_focusTrapFactory=(0,h.WQX)(oB);_config;_interactivityChecker=(0,h.WQX)(NR);_ngZone=(0,h.WQX)(h.SKi);_overlayRef=(0,h.WQX)(ij);_focusMonitor=(0,h.WQX)(K3);_renderer=(0,h.WQX)(h.sFG);_platform=(0,h.WQX)(Qr);_document=(0,h.WQX)(he,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=(0,h.WQX)(h.gRc);_injector=(0,h.WQX)(h.zZn);_isDestroyed=!1;constructor(){super(),this._config=(0,h.WQX)(nI,{optional:!0})||new nI,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}attachDomPortal=e=>{this._portalOutlet.hasAttached();const r=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{s(),c(),e.removeAttribute("tabindex")},s=this._renderer.listen(e,"blur",i),c=this._renderer.listen(e,"mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(e){this._isDestroyed||(0,h.mal)(()=>{const r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=WB(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(e)}_containsFocus(){const e=this._elementRef.nativeElement,r=WB();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=WB()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&h.GBs(ej,7),2&r){let s;h.mGM(s=h.lsd())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&h.BMQ("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[h.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&h.DNE(0,wJ,0,0,"ng-template",0)},dependencies:[ej],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}\n"],encapsulation:2})}return n})();class oj{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new oe.B;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,e){this.overlayRef=t,this.config=e,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!y5(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const b5=new h.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,h.WQX)(Zu);return()=>n.scrollStrategies.block()}}),EJ=new h.nKC("DialogData"),CJ=new h.nKC("DefaultDialogConfig");let xJ=(()=>{class n{_overlay=(0,h.WQX)(Zu);_injector=(0,h.WQX)(h.zZn);_defaultOptions=(0,h.WQX)(CJ,{optional:!0});_parentDialog=(0,h.WQX)(n,{optional:!0,skipSelf:!0});_overlayContainer=(0,h.WQX)(rj);_idGenerator=(0,h.WQX)(Ul);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new oe.B;_afterOpenedAtThisLevel=new oe.B;_ariaHiddenElements=new Map;_scrollStrategy=(0,h.WQX)(b5);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Wd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gd(void 0)));constructor(){}open(e,r){(r={...this._defaultOptions||new nI,...r}).id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),c=this._overlay.create(s),d=new oj(c,r),f=this._attachContainer(c,d,r);return d.containerInstance=f,this._attachDialogContent(e,d,f,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){sj(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){sj(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),sj(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new u5({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const s=i.injector||i.viewContainerRef?.injector,c=[{provide:nI,useValue:i},{provide:oj,useValue:r},{provide:ij,useValue:e}];let d;i.container?"function"==typeof i.container?d=i.container:(d=i.container.type,c.push(...i.container.providers(i))):d=v5;const f=new ZB(d,i.viewContainerRef,h.zZn.create({parent:s||this._injector,providers:c}));return e.attach(f).instance}_attachDialogContent(e,r,i,s){if(e instanceof h.C4Q){const c=this._createInjector(s,r,i,void 0);let d={$implicit:s.data,dialogRef:r};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new e5(e,null,d,c))}else{const c=this._createInjector(s,r,i,this._injector),d=i.attachComponentPortal(new ZB(e,s.viewContainerRef,c));r.componentRef=d,r.componentInstance=d.instance}}_createInjector(e,r,i,s){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:EJ,useValue:e.data},{provide:oj,useValue:r}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(r,e,i)):d.push(...e.providers)),e.direction&&(!c||!c.get($f,null,{optional:!0}))&&d.push({provide:$f,useValue:{value:e.direction,change:Me()}}),h.zZn.create({parent:c||s,providers:d})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sj(n,t){let e=n.length;for(;e--;)t(n[e])}function TJ(n,t){}class w5{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration}const aj="mdc-dialog--open",E5="mdc-dialog--opening",C5="mdc-dialog--closing";let I5=(()=>{class n extends v5{_animationMode=(0,h.WQX)(h.bc$,{optional:!0});_animationStateChanged=new h.bkB;_animationsEnabled="NoopAnimations"!==this._animationMode;_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?T5(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?T5(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(x5,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(E5,aj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(aj),this._animationsEnabled?(this._hostElement.style.setProperty(x5,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(C5)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(E5,C5)}_waitForAnimationToComplete(e,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static \u0275fac=(()=>{let e;return function(i){return(e||(e=h.xGo(n)))(i||n)}})();static \u0275cmp=h.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){2&r&&(h.Mr5("id",i._config.id),h.BMQ("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),h.AVh("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[h.Vt3],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(h.j41(0,"div",0)(1,"div",1),h.DNE(2,TJ,0,0,"ng-template",2),h.k0s()())},dependencies:[ej],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}\n'],encapsulation:2})}return n})();const x5="--mat-dialog-transition-duration";function T5(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?zR(n.substring(0,n.length-2)):n.endsWith("s")?1e3*zR(n.substring(0,n.length-1)):"0"===n?0:null}var IP=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(IP||{});class xP{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new oe.B;_beforeClosed=new oe.B;_result;_closeFallbackTimeout;_state=IP.OPEN;_closeInteractionType;constructor(t,e,r){this._ref=t,this._containerInstance=r,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(fn(i=>"opened"===i.state),zr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(fn(i=>"closed"===i.state),zr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),$C(this.backdropClick(),this.keydownEvents().pipe(fn(i=>27===i.keyCode&&!this.disableClose&&!y5(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function D5(n,t,e){return n._closeInteractionType=t,n.close(e)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(fn(e=>"closing"===e.state),zr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=IP.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=IP.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const A5=new h.nKC("MatMdcDialogData"),SJ=new h.nKC("mat-mdc-dialog-default-options"),S5=new h.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,h.WQX)(Zu);return()=>n.scrollStrategies.block()}});let rI=(()=>{class n{_overlay=(0,h.WQX)(Zu);_defaultOptions=(0,h.WQX)(SJ,{optional:!0});_scrollStrategy=(0,h.WQX)(S5);_parentDialog=(0,h.WQX)(n,{optional:!0,skipSelf:!0});_idGenerator=(0,h.WQX)(Ul);_dialog=(0,h.WQX)(xJ);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new oe.B;_afterOpenedAtThisLevel=new oe.B;dialogConfigClass=w5;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Wd(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gd(void 0)));constructor(){this._dialogRefConstructor=xP,this._dialogContainerType=I5,this._dialogDataToken=A5}open(e,r){let i;(r={...this._defaultOptions||new w5,...r}).id=r.id||this._idGenerator.getId("mat-mdc-dialog-"),r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:nI,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(c,d,f)=>(i=new this._dialogRefConstructor(c,r,f),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:f},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=s.componentRef,i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(i);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NJ=(()=>{class n{userService=(0,h.WQX)(Ho);updateProfile(e){const r=this.userService.auth.currentUser;return et(r?e.password?WM(r,e.password).then(()=>{this.userService.currentUserSig.set({email:e.email})}):Promise.reject("Empty password"):Promise.reject("User not logged in"))}deleteProfile(){const e=this.userService.auth.currentUser;return et(e?JV(e):Promise.reject("User not logged in"))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ju,O5,P5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k5={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(V,k,L){L||(L=0);var z=Array(16);if("string"==typeof k)for(var W=0;16>W;++W)z[W]=k.charCodeAt(L++)|k.charCodeAt(L++)<<8|k.charCodeAt(L++)<<16|k.charCodeAt(L++)<<24;else for(W=0;16>W;++W)z[W]=k[L++]|k[L++]<<8|k[L++]<<16|k[L++]<<24;var q=V.g[3],U=(k=V.g[0])+(q^(L=V.g[1])&((W=V.g[2])^q))+z[0]+3614090360&4294967295;U=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=(L=(W=(q=(k=L+(U<<7&4294967295|U>>>25))+((U=q+(W^k&(L^W))+z[1]+3905402710&4294967295)<<12&4294967295|U>>>20))+((U=W+(L^q&(k^L))+z[2]+606105819&4294967295)<<17&4294967295|U>>>15))+((U=L+(k^W&(q^k))+z[3]+3250441966&4294967295)<<22&4294967295|U>>>10))+((U=k+(q^L&(W^q))+z[4]+4118548399&4294967295)<<7&4294967295|U>>>25))+((U=q+(W^k&(L^W))+z[5]+1200080426&4294967295)<<12&4294967295|U>>>20))+((U=W+(L^q&(k^L))+z[6]+2821735955&4294967295)<<17&4294967295|U>>>15))+((U=L+(k^W&(q^k))+z[7]+4249261313&4294967295)<<22&4294967295|U>>>10))+((U=k+(q^L&(W^q))+z[8]+1770035416&4294967295)<<7&4294967295|U>>>25))+((U=q+(W^k&(L^W))+z[9]+2336552879&4294967295)<<12&4294967295|U>>>20))+((U=W+(L^q&(k^L))+z[10]+4294925233&4294967295)<<17&4294967295|U>>>15))+((U=L+(k^W&(q^k))+z[11]+2304563134&4294967295)<<22&4294967295|U>>>10))+((U=k+(q^L&(W^q))+z[12]+1804603682&4294967295)<<7&4294967295|U>>>25))+((U=q+(W^k&(L^W))+z[13]+4254626195&4294967295)<<12&4294967295|U>>>20))+((U=W+(L^q&(k^L))+z[14]+2792965006&4294967295)<<17&4294967295|U>>>15))+((U=L+(k^W&(q^k))+z[15]+1236535329&4294967295)<<22&4294967295|U>>>10))+((U=k+(W^q&(L^W))+z[1]+4129170786&4294967295)<<5&4294967295|U>>>27))+((U=q+(L^W&(k^L))+z[6]+3225465664&4294967295)<<9&4294967295|U>>>23))+((U=W+(k^L&(q^k))+z[11]+643717713&4294967295)<<14&4294967295|U>>>18))+((U=L+(q^k&(W^q))+z[0]+3921069994&4294967295)<<20&4294967295|U>>>12))+((U=k+(W^q&(L^W))+z[5]+3593408605&4294967295)<<5&4294967295|U>>>27))+((U=q+(L^W&(k^L))+z[10]+38016083&4294967295)<<9&4294967295|U>>>23))+((U=W+(k^L&(q^k))+z[15]+3634488961&4294967295)<<14&4294967295|U>>>18))+((U=L+(q^k&(W^q))+z[4]+3889429448&4294967295)<<20&4294967295|U>>>12))+((U=k+(W^q&(L^W))+z[9]+568446438&4294967295)<<5&4294967295|U>>>27))+((U=q+(L^W&(k^L))+z[14]+3275163606&4294967295)<<9&4294967295|U>>>23))+((U=W+(k^L&(q^k))+z[3]+4107603335&4294967295)<<14&4294967295|U>>>18))+((U=L+(q^k&(W^q))+z[8]+1163531501&4294967295)<<20&4294967295|U>>>12))+((U=k+(W^q&(L^W))+z[13]+2850285829&4294967295)<<5&4294967295|U>>>27))+((U=q+(L^W&(k^L))+z[2]+4243563512&4294967295)<<9&4294967295|U>>>23))+((U=W+(k^L&(q^k))+z[7]+1735328473&4294967295)<<14&4294967295|U>>>18))+((U=L+(q^k&(W^q))+z[12]+2368359562&4294967295)<<20&4294967295|U>>>12))+((U=k+(L^W^q)+z[5]+4294588738&4294967295)<<4&4294967295|U>>>28))+((U=q+(k^L^W)+z[8]+2272392833&4294967295)<<11&4294967295|U>>>21))+((U=W+(q^k^L)+z[11]+1839030562&4294967295)<<16&4294967295|U>>>16))+((U=L+(W^q^k)+z[14]+4259657740&4294967295)<<23&4294967295|U>>>9))+((U=k+(L^W^q)+z[1]+2763975236&4294967295)<<4&4294967295|U>>>28))+((U=q+(k^L^W)+z[4]+1272893353&4294967295)<<11&4294967295|U>>>21))+((U=W+(q^k^L)+z[7]+4139469664&4294967295)<<16&4294967295|U>>>16))+((U=L+(W^q^k)+z[10]+3200236656&4294967295)<<23&4294967295|U>>>9))+((U=k+(L^W^q)+z[13]+681279174&4294967295)<<4&4294967295|U>>>28))+((U=q+(k^L^W)+z[0]+3936430074&4294967295)<<11&4294967295|U>>>21))+((U=W+(q^k^L)+z[3]+3572445317&4294967295)<<16&4294967295|U>>>16))+((U=L+(W^q^k)+z[6]+76029189&4294967295)<<23&4294967295|U>>>9))+((U=k+(L^W^q)+z[9]+3654602809&4294967295)<<4&4294967295|U>>>28))+((U=q+(k^L^W)+z[12]+3873151461&4294967295)<<11&4294967295|U>>>21))+((U=W+(q^k^L)+z[15]+530742520&4294967295)<<16&4294967295|U>>>16))+((U=L+(W^q^k)+z[2]+3299628645&4294967295)<<23&4294967295|U>>>9))+((U=k+(W^(L|~q))+z[0]+4096336452&4294967295)<<6&4294967295|U>>>26))+((U=q+(L^(k|~W))+z[7]+1126891415&4294967295)<<10&4294967295|U>>>22))+((U=W+(k^(q|~L))+z[14]+2878612391&4294967295)<<15&4294967295|U>>>17))+((U=L+(q^(W|~k))+z[5]+4237533241&4294967295)<<21&4294967295|U>>>11))+((U=k+(W^(L|~q))+z[12]+1700485571&4294967295)<<6&4294967295|U>>>26))+((U=q+(L^(k|~W))+z[3]+2399980690&4294967295)<<10&4294967295|U>>>22))+((U=W+(k^(q|~L))+z[10]+4293915773&4294967295)<<15&4294967295|U>>>17))+((U=L+(q^(W|~k))+z[1]+2240044497&4294967295)<<21&4294967295|U>>>11))+((U=k+(W^(L|~q))+z[8]+1873313359&4294967295)<<6&4294967295|U>>>26))+((U=q+(L^(k|~W))+z[15]+4264355552&4294967295)<<10&4294967295|U>>>22))+((U=W+(k^(q|~L))+z[6]+2734768916&4294967295)<<15&4294967295|U>>>17))+((U=L+(q^(W|~k))+z[13]+1309151649&4294967295)<<21&4294967295|U>>>11))+((q=(k=L+((U=k+(W^(L|~q))+z[4]+4149444226&4294967295)<<6&4294967295|U>>>26))+((U=q+(L^(k|~W))+z[11]+3174756917&4294967295)<<10&4294967295|U>>>22))^((W=q+((U=W+(k^(q|~L))+z[2]+718787259&4294967295)<<15&4294967295|U>>>17))|~k))+z[9]+3951481745&4294967295,V.g[0]=V.g[0]+k&4294967295,V.g[1]=V.g[1]+(W+(U<<21&4294967295|U>>>11))&4294967295,V.g[2]=V.g[2]+W&4294967295,V.g[3]=V.g[3]+q&4294967295}function c(V,k){this.h=k;for(var L=[],z=!0,W=V.length-1;0<=W;W--){var q=0|V[W];z&&q==k||(L[W]=q,z=!1)}this.g=L}(function t(V,k){function L(){}L.prototype=k.prototype,V.D=k.prototype,V.prototype=new L,V.prototype.constructor=V,V.C=function(z,W,q){for(var U=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)U[Dn-2]=arguments[Dn];return k.prototype[W].apply(z,U)}})(r,function e(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(V,k){void 0===k&&(k=V.length);for(var L=k-this.blockSize,z=this.B,W=this.h,q=0;q<k;){if(0==W)for(;q<=L;)i(this,V,q),q+=this.blockSize;if("string"==typeof V){for(;q<k;)if(z[W++]=V.charCodeAt(q++),W==this.blockSize){i(this,z),W=0;break}}else for(;q<k;)if(z[W++]=V[q++],W==this.blockSize){i(this,z),W=0;break}}this.h=W,this.o+=k},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var k=1;k<V.length-8;++k)V[k]=0;var L=8*this.o;for(k=V.length-8;k<V.length;++k)V[k]=255&L,L/=256;for(this.u(V),V=Array(16),k=L=0;4>k;++k)for(var z=0;32>z;z+=8)V[L++]=this.g[k]>>>z&255;return V};var d={};function f(V){return-128<=V&&128>V?function s(V,k){var L=d;return Object.prototype.hasOwnProperty.call(L,V)?L[V]:L[V]=k(V)}(V,function(k){return new c([0|k],0>k?-1:0)}):new c([0|V],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return R(g(-V));for(var k=[],L=1,z=0;V>=L;z++)k[z]=V/L|0,L*=4294967296;return new c(k,0)}var b=f(0),C=f(1),x=f(16777216);function S(V){if(0!=V.h)return!1;for(var k=0;k<V.g.length;k++)if(0!=V.g[k])return!1;return!0}function M(V){return-1==V.h}function R(V){for(var k=V.g.length,L=[],z=0;z<k;z++)L[z]=~V.g[z];return new c(L,~V.h).add(C)}function B(V,k){return V.add(R(k))}function H(V,k){for(;(65535&V[k])!=V[k];)V[k+1]+=V[k]>>>16,V[k]&=65535,k++}function G(V,k){this.g=V,this.h=k}function Y(V,k){if(S(k))throw Error("division by zero");if(S(V))return new G(b,b);if(M(V))return k=Y(R(V),k),new G(R(k.g),R(k.h));if(M(k))return k=Y(V,R(k)),new G(R(k.g),k.h);if(30<V.g.length){if(M(V)||M(k))throw Error("slowDivide_ only works with positive integers.");for(var L=C,z=k;0>=z.l(V);)L=Q(L),z=Q(z);var W=Z(L,1),q=Z(z,1);for(z=Z(z,2),L=Z(L,2);!S(z);){var U=q.add(z);0>=U.l(V)&&(W=W.add(L),q=U),z=Z(z,1),L=Z(L,1)}return k=B(V,W.j(k)),new G(W,k)}for(W=b;0<=V.l(k);){for(L=Math.max(1,Math.floor(V.m()/k.m())),z=48>=(z=Math.ceil(Math.log(L)/Math.LN2))?1:Math.pow(2,z-48),U=(q=g(L)).j(k);M(U)||0<U.l(V);)U=(q=g(L-=z)).j(k);S(q)&&(q=C),W=W.add(q),V=B(V,U)}return new G(W,V)}function Q(V){for(var k=V.g.length+1,L=[],z=0;z<k;z++)L[z]=V.i(z)<<1|V.i(z-1)>>>31;return new c(L,V.h)}function Z(V,k){var L=k>>5;k%=32;for(var z=V.g.length-L,W=[],q=0;q<z;q++)W[q]=0<k?V.i(q+L)>>>k|V.i(q+L+1)<<32-k:V.i(q+L);return new c(W,V.h)}(n=c.prototype).m=function(){if(M(this))return-R(this).m();for(var V=0,k=1,L=0;L<this.g.length;L++){var z=this.i(L);V+=(0<=z?z:4294967296+z)*k,k*=4294967296}return V},n.toString=function(V){if(2>(V=V||10)||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(M(this))return"-"+R(this).toString(V);for(var k=g(Math.pow(V,6)),L=this,z="";;){var W=Y(L,k).g,q=((0<(L=B(L,W.j(k))).g.length?L.g[0]:L.h)>>>0).toString(V);if(S(L=W))return q+z;for(;6>q.length;)q="0"+q;z=q+z}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h},n.l=function(V){return M(V=B(this,V))?-1:S(V)?0:1},n.abs=function(){return M(this)?R(this):this},n.add=function(V){for(var k=Math.max(this.g.length,V.g.length),L=[],z=0,W=0;W<=k;W++){var q=z+(65535&this.i(W))+(65535&V.i(W)),U=(q>>>16)+(this.i(W)>>>16)+(V.i(W)>>>16);z=U>>>16,L[W]=(U&=65535)<<16|(q&=65535)}return new c(L,-2147483648&L[L.length-1]?-1:0)},n.j=function(V){if(S(this)||S(V))return b;if(M(this))return M(V)?R(this).j(R(V)):R(R(this).j(V));if(M(V))return R(this.j(R(V)));if(0>this.l(x)&&0>V.l(x))return g(this.m()*V.m());for(var k=this.g.length+V.g.length,L=[],z=0;z<2*k;z++)L[z]=0;for(z=0;z<this.g.length;z++)for(var W=0;W<V.g.length;W++){var q=this.i(z)>>>16,U=65535&this.i(z),Dn=V.i(W)>>>16,yt=65535&V.i(W);L[2*z+2*W]+=U*yt,H(L,2*z+2*W),L[2*z+2*W+1]+=q*yt,H(L,2*z+2*W+1),L[2*z+2*W+1]+=U*Dn,H(L,2*z+2*W+1),L[2*z+2*W+2]+=q*Dn,H(L,2*z+2*W+2)}for(z=0;z<k;z++)L[z]=L[2*z+1]<<16|L[2*z];for(z=k;z<2*k;z++)L[z]=0;return new c(L,0)},n.A=function(V){return Y(this,V).h},n.and=function(V){for(var k=Math.max(this.g.length,V.g.length),L=[],z=0;z<k;z++)L[z]=this.i(z)&V.i(z);return new c(L,this.h&V.h)},n.or=function(V){for(var k=Math.max(this.g.length,V.g.length),L=[],z=0;z<k;z++)L[z]=this.i(z)|V.i(z);return new c(L,this.h|V.h)},n.xor=function(V){for(var k=Math.max(this.g.length,V.g.length),L=[],z=0;z<k;z++)L[z]=this.i(z)^V.i(z);return new c(L,this.h^V.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,O5=k5.Md5=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=function y(V,k){if(0==V.length)throw Error("number format error: empty string");if(2>(k=k||10)||36<k)throw Error("radix out of range: "+k);if("-"==V.charAt(0))return R(y(V.substring(1),k));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=g(Math.pow(k,8)),z=b,W=0;W<V.length;W+=8){var q=Math.min(8,V.length-W),U=parseInt(V.substring(W,W+q),k);8>q?(q=g(Math.pow(k,q)),z=z.j(q).add(g(U))):z=(z=z.j(L)).add(g(U))}return z},Ju=k5.Integer=c}).apply(typeof P5<"u"?P5:typeof self<"u"?self:typeof window<"u"?window:{});var N5,iI,F5,DP,lj,L5,V5,B5,TP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$l={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(v,I,A){return v==Array.prototype||v==Object.prototype||(v[I]=A.value),v},r=function e(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof TP&&TP];for(var I=0;I<v.length;++I){var A=v[I];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}(this);!function i(v,I){if(I)e:{var A=r;v=v.split(".");for(var O=0;O<v.length-1;O++){var K=v[O];if(!(K in A))break e;A=A[K]}(I=I(O=A[v=v[v.length-1]]))!=O&&null!=I&&t(A,v,{configurable:!0,writable:!0,value:I})}}("Array.prototype.values",function(v){return v||function(){return function s(v,I){v instanceof String&&(v+="");var A=0,O=!1,K={next:function(){if(!O&&A<v.length){var ne=A++;return{value:I(ne,v[ne]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}(this,function(I,A){return A})}});var c=c||{},d=this||self;function f(v){var I=typeof v;return"array"==(I="object"!=I?I:v?Array.isArray(v)?"array":I:"null")||"object"==I&&"number"==typeof v.length}function g(v){var I=typeof v;return"object"==I&&null!=v||"function"==I}function y(v,I,A){return v.call.apply(v.bind,arguments)}function b(v,I,A){if(!v)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),v.apply(I,K)}}return function(){return v.apply(I,arguments)}}function C(v,I,A){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function x(v,I){var A=Array.prototype.slice.call(arguments,1);return function(){var O=A.slice();return O.push.apply(O,arguments),v.apply(this,O)}}function S(v,I){function A(){}A.prototype=I.prototype,v.aa=I.prototype,v.prototype=new A,v.prototype.constructor=v,v.Qb=function(O,K,ne){for(var ge=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)ge[Gt-2]=arguments[Gt];return I.prototype[K].apply(O,ge)}}function M(v){const I=v.length;if(0<I){const A=Array(I);for(let O=0;O<I;O++)A[O]=v[O];return A}return[]}function R(v,I){for(let A=1;A<arguments.length;A++){const O=arguments[A];if(f(O)){const K=v.length||0,ne=O.length||0;v.length=K+ne;for(let ge=0;ge<ne;ge++)v[K+ge]=O[ge]}else v.push(O)}}function H(v){return/^[\s\xa0]*$/.test(v)}function G(){var v=d.navigator;return v&&(v=v.userAgent)?v:""}function Y(v){return Y[" "](v),v}Y[" "]=function(){};var Q=!(-1==G().indexOf("Gecko")||-1!=G().toLowerCase().indexOf("webkit")&&-1==G().indexOf("Edge")||-1!=G().indexOf("Trident")||-1!=G().indexOf("MSIE")||-1!=G().indexOf("Edge"));function Z(v,I,A){for(const O in v)I.call(A,v[O],O,v)}function k(v){const I={};for(const A in v)I[A]=v[A];return I}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(v,I){let A,O;for(let K=1;K<arguments.length;K++){for(A in O=arguments[K],O)v[A]=O[A];for(let ne=0;ne<L.length;ne++)A=L[ne],Object.prototype.hasOwnProperty.call(O,A)&&(v[A]=O[A])}}function W(v){var I=1;v=v.split(":");const A=[];for(;0<I&&v.length;)A.push(v.shift()),I--;return v.length&&A.push(v.join(":")),A}function q(v){d.setTimeout(()=>{throw v},0)}function U(){var v=sr;let I=null;return v.g&&(I=v.g,v.g=v.g.next,v.g||(v.h=null),I.next=null),I}var yt=new class B{constructor(I,A){this.i=I,this.j=A,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}(()=>new Zt,v=>v.reset());class Zt{constructor(){this.next=this.g=this.h=null}set(I,A){this.h=I,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Br=!1,sr=new class Dn{constructor(){this.h=this.g=null}add(I,A){const O=yt.get();O.set(I,A),this.h?this.h.next=O:this.g=O,this.h=O}},ac=()=>{const v=d.Promise.resolve(void 0);Wt=()=>{v.then(Ev)}};var Ev=()=>{for(var v;v=U();){try{v.h.call(v.g)}catch(A){q(A)}var I=yt;I.j(v),100>I.h&&(I.h++,v.next=I.g,I.g=v)}Br=!1};function wi(){this.s=this.s,this.C=this.C}function On(v,I){this.type=v,this.g=this.target=I,this.defaultPrevented=!1}wi.prototype.s=!1,wi.prototype.ma=function(){this.s||(this.s=!0,this.N())},wi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},On.prototype.h=function(){this.defaultPrevented=!0};var lc=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var v=!1,I=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const A=()=>{};d.addEventListener("test",A,I),d.removeEventListener("test",A,I)}catch{}return v}();function Ss(v,I){if(On.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var A=this.type=v.type,O=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=I,I=v.relatedTarget){if(Q){e:{try{Y(I.nodeName);var K=!0;break e}catch{}K=!1}K||(I=null)}}else"mouseover"==A?I=v.fromElement:"mouseout"==A&&(I=v.toElement);this.relatedTarget=I,O?(this.clientX=void 0!==O.clientX?O.clientX:O.pageX,this.clientY=void 0!==O.clientY?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:cc[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ss.aa.h.call(this)}}S(Ss,On);var cc={2:"touch",3:"pen",4:"mouse"};Ss.prototype.h=function(){Ss.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var yx="closure_listenable_"+(1e6*Math.random()|0),Jce=0;function eue(v,I,A,O,K){this.listener=v,this.proxy=null,this.src=I,this.type=A,this.capture=!!O,this.ha=K,this.key=++Jce,this.da=this.fa=!1}function mO(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function gO(v){this.src=v,this.g={},this.h=0}function Uz(v,I){var A=I.type;if(A in v.g){var ne,O=v.g[A],K=Array.prototype.indexOf.call(O,I,void 0);(ne=0<=K)&&Array.prototype.splice.call(O,K,1),ne&&(mO(I),0==v.g[A].length&&(delete v.g[A],v.h--))}}function Hz(v,I,A,O){for(var K=0;K<v.length;++K){var ne=v[K];if(!ne.da&&ne.listener==I&&ne.capture==!!A&&ne.ha==O)return K}return-1}gO.prototype.add=function(v,I,A,O,K){var ne=v.toString();(v=this.g[ne])||(v=this.g[ne]=[],this.h++);var ge=Hz(v,I,O,K);return-1<ge?(I=v[ge],A||(I.fa=!1)):((I=new eue(I,this.src,ne,!!O,K)).fa=A,v.push(I)),I};var zz="closure_lm_"+(1e6*Math.random()|0),$z={};function fX(v,I,A,O,K){if(O&&O.once)return mX(v,I,A,O,K);if(Array.isArray(I)){for(var ne=0;ne<I.length;ne++)fX(v,I[ne],A,O,K);return null}return A=Kz(A),v&&v[yx]?v.K(I,A,g(O)?!!O.capture:!!O,K):pX(v,I,A,!1,O,K)}function pX(v,I,A,O,K,ne){if(!I)throw Error("Invalid event type");var ge=g(K)?!!K.capture:!!K,Gt=Gz(v);if(Gt||(v[zz]=Gt=new gO(v)),(A=Gt.add(I,A,O,ge,ne)).proxy)return A;if(O=function tue(){const I=nue;return function v(A){return I.call(v.src,v.listener,A)}}(),A.proxy=O,O.src=v,O.listener=A,v.addEventListener)lc||(K=ge),void 0===K&&(K=!1),v.addEventListener(I.toString(),O,K);else if(v.attachEvent)v.attachEvent(_X(I.toString()),O);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(O)}return A}function mX(v,I,A,O,K){if(Array.isArray(I)){for(var ne=0;ne<I.length;ne++)mX(v,I[ne],A,O,K);return null}return A=Kz(A),v&&v[yx]?v.L(I,A,g(O)?!!O.capture:!!O,K):pX(v,I,A,!0,O,K)}function gX(v,I,A,O,K){if(Array.isArray(I))for(var ne=0;ne<I.length;ne++)gX(v,I[ne],A,O,K);else O=g(O)?!!O.capture:!!O,A=Kz(A),v&&v[yx]?(v=v.i,(I=String(I).toString())in v.g&&-1<(A=Hz(ne=v.g[I],A,O,K))&&(mO(ne[A]),Array.prototype.splice.call(ne,A,1),0==ne.length&&(delete v.g[I],v.h--))):v&&(v=Gz(v))&&(I=v.g[I.toString()],v=-1,I&&(v=Hz(I,A,O,K)),(A=-1<v?I[v]:null)&&Wz(A))}function Wz(v){if("number"!=typeof v&&v&&!v.da){var I=v.src;if(I&&I[yx])Uz(I.i,v);else{var A=v.type,O=v.proxy;I.removeEventListener?I.removeEventListener(A,O,v.capture):I.detachEvent?I.detachEvent(_X(A),O):I.addListener&&I.removeListener&&I.removeListener(O),(A=Gz(I))?(Uz(A,v),0==A.h&&(A.src=null,I[zz]=null)):mO(v)}}}function _X(v){return v in $z?$z[v]:$z[v]="on"+v}function nue(v,I){if(v.da)v=!0;else{I=new Ss(I,this);var A=v.listener,O=v.ha||v.src;v.fa&&Wz(v),v=A.call(O,I)}return v}function Gz(v){return(v=v[zz])instanceof gO?v:null}var qz="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kz(v){return"function"==typeof v?v:(v[qz]||(v[qz]=function(I){return v.handleEvent(I)}),v[qz])}function oi(){wi.call(this),this.i=new gO(this),this.M=this,this.F=null}function Ei(v,I){var A,O=v.F;if(O)for(A=[];O;O=O.F)A.push(O);if(v=v.M,O=I.type||I,"string"==typeof I)I=new On(I,v);else if(I instanceof On)I.target=I.target||v;else{var K=I;z(I=new On(O,v),K)}if(K=!0,A)for(var ne=A.length-1;0<=ne;ne--){var ge=I.g=A[ne];K=_O(ge,O,!0,I)&&K}if(K=_O(ge=I.g=v,O,!0,I)&&K,K=_O(ge,O,!1,I)&&K,A)for(ne=0;ne<A.length;ne++)K=_O(ge=I.g=A[ne],O,!1,I)&&K}function _O(v,I,A,O){if(!(I=v.i.g[String(I)]))return!0;I=I.concat();for(var K=!0,ne=0;ne<I.length;++ne){var ge=I[ne];if(ge&&!ge.da&&ge.capture==A){var Gt=ge.listener,jr=ge.ha||ge.src;ge.fa&&Uz(v.i,ge),K=!1!==Gt.call(jr,O)&&K}}return K&&!O.defaultPrevented}function yX(v,I,A){if("function"==typeof v)A&&(v=C(v,A));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=C(v.handleEvent,v)}return 2147483647<Number(I)?-1:d.setTimeout(v,I||0)}function vX(v){v.g=yX(()=>{v.g=null,v.i&&(v.i=!1,vX(v))},v.l);const I=v.h;v.h=null,v.m.apply(null,I)}S(oi,wi),oi.prototype[yx]=!0,oi.prototype.removeEventListener=function(v,I,A,O){gX(this,v,I,A,O)},oi.prototype.N=function(){if(oi.aa.N.call(this),this.i){var I,v=this.i;for(I in v.g){for(var A=v.g[I],O=0;O<A.length;O++)mO(A[O]);delete v.g[I],v.h--}}this.F=null},oi.prototype.K=function(v,I,A,O){return this.i.add(String(v),I,!1,A,O)},oi.prototype.L=function(v,I,A,O){return this.i.add(String(v),I,!0,A,O)};class rue extends wi{constructor(I,A){super(),this.m=I,this.l=A,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:vX(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vx(v){wi.call(this),this.h=v,this.g={}}S(vx,wi);var bX=[];function wX(v){Z(v.g,function(I,A){this.g.hasOwnProperty(A)&&Wz(I)},v),v.g={}}vx.prototype.N=function(){vx.aa.N.call(this),wX(this)},vx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xz=d.JSON.stringify,iue=d.JSON.parse,oue=class{stringify(v){return d.JSON.stringify(v,void 0)}parse(v){return d.JSON.parse(v,void 0)}};function Qz(){}function CX(){}Qz.prototype.h=null;var bx={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yz(){On.call(this,"d")}function Zz(){On.call(this,"c")}S(Yz,On),S(Zz,On);var kp={},IX=null;function yO(){return IX=IX||new oi}function xX(v){On.call(this,kp.La,v)}function wx(v){const I=yO();Ei(I,new xX(I))}function TX(v,I){On.call(this,kp.STAT_EVENT,v),this.stat=I}function Ci(v){const I=yO();Ei(I,new TX(I,v))}function DX(v,I){On.call(this,kp.Ma,v),this.size=I}function Ex(v,I){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){v()},I)}function Cx(){this.g=!0}function Cv(v,I,A,O){v.info(function(){return"XMLHTTP TEXT ("+I+"): "+function cue(v,I){if(!v.g)return I;if(!I)return null;try{var A=JSON.parse(I);if(A)for(v=0;v<A.length;v++)if(Array.isArray(A[v])){var O=A[v];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var ne=K[0];if("noop"!=ne&&"stop"!=ne&&"close"!=ne)for(var ge=1;ge<K.length;ge++)K[ge]=""}}}return Xz(A)}catch{return I}}(v,A)+(O?" "+O:"")})}kp.La="serverreachability",S(xX,On),kp.STAT_EVENT="statevent",S(TX,On),kp.Ma="timingevent",S(DX,On),Cx.prototype.xa=function(){this.g=!1},Cx.prototype.info=function(){};var Jz,vO={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},AX={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function bO(){}function Ad(v,I,A,O){this.j=v,this.i=I,this.l=A,this.R=O||1,this.U=new vx(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new SX}function SX(){this.i=null,this.g="",this.h=!1}S(bO,Qz),bO.prototype.g=function(){return new XMLHttpRequest},bO.prototype.i=function(){return{}},Jz=new bO;var MX={},e$={};function t$(v,I,A){v.L=1,v.v=IO(uc(I)),v.m=A,v.P=!0,RX(v,null)}function RX(v,I){v.F=Date.now(),wO(v),v.A=uc(v.v);var A=v.A,O=v.R;Array.isArray(O)||(O=[String(O)]),WX(A.i,"t",O),v.C=0,A=v.j.J,v.h=new SX,v.g=cQ(v.j,A?I:null,!v.m),0<v.O&&(v.M=new rue(C(v.Y,v,v.g),v.O)),I=v.U,A=v.g,O=v.ca;var K="readystatechange";Array.isArray(K)||(K&&(bX[0]=K.toString()),K=bX);for(var ne=0;ne<K.length;ne++){var ge=fX(A,K[ne],O||I.handleEvent,!1,I.h||I);if(!ge)break;I.g[ge.key]=ge}I=v.H?k(v.H):{},v.m?(v.u||(v.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,I)):(v.u="GET",v.g.ea(v.A,v.u,null,I)),wx(),function sue(v,I,A,O,K,ne){v.info(function(){if(v.g)if(ne)for(var ge="",Gt=ne.split("&"),jr=0;jr<Gt.length;jr++){var wt=Gt[jr].split("=");if(1<wt.length){var si=wt[0];wt=wt[1];var ai=si.split("_");ge=2<=ai.length&&"type"==ai[1]?ge+(si+"=")+wt+"&":ge+(si+"=redacted&")}}else ge=null;else ge=ne;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+I+"\n"+A+"\n"+ge})}(v.i,v.u,v.A,v.l,v.R,v.m)}function PX(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function uue(v,I){var A=v.C,O=I.indexOf("\n",A);return-1==O?e$:(A=Number(I.substring(A,O)),isNaN(A)?MX:(O+=1)+A>I.length?e$:(I=I.slice(O,O+A),v.C=O+A,I))}function wO(v){v.S=Date.now()+v.I,kX(v,v.I)}function kX(v,I){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Ex(C(v.ba,v),I)}function n$(v){v.B&&(d.clearTimeout(v.B),v.B=null)}function Ix(v){0==v.j.G||v.J||oQ(v.j,v)}function Op(v){n$(v);var I=v.M;I&&"function"==typeof I.ma&&I.ma(),v.M=null,wX(v.U),v.g&&(I=v.g,v.g=null,I.abort(),I.ma())}function r$(v,I){try{var A=v.j;if(0!=A.G&&(A.g==v||i$(A.h,v)))if(!v.K&&i$(A.h,v)&&3==A.G){try{var O=A.Da.g.parse(I)}catch{O=null}if(Array.isArray(O)&&3==O.length){var K=O;if(0==K[0]){e:if(!A.u){if(A.g){if(!(A.g.F+3e3<v.F))break e;SO(A),DO(A)}l$(A),Ci(18)}}else A.za=K[1],0<A.za-A.T&&37500>K[2]&&A.F&&0==A.v&&!A.C&&(A.C=Ex(C(A.Za,A),6e3));if(1>=FX(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Fp(A,11)}else if((v.K||A.g==v)&&SO(A),!H(I))for(K=A.Da.g.parse(I),I=0;I<K.length;I++){let wt=K[I];if(A.T=wt[0],wt=wt[1],2==A.G)if("c"==wt[0]){A.K=wt[1],A.ia=wt[2];const si=wt[3];null!=si&&(A.la=si,A.j.info("VER="+A.la));const ai=wt[4];null!=ai&&(A.Aa=ai,A.j.info("SVER="+A.Aa));const Tv=wt[5];null!=Tv&&"number"==typeof Tv&&0<Tv&&(A.L=O=1.5*Tv,A.j.info("backChannelRequestTimeoutMs_="+O)),O=A;const Ms=v.g;if(Ms){const RO=Ms.g?Ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(RO){var ne=O.h;ne.g||-1==RO.indexOf("spdy")&&-1==RO.indexOf("quic")&&-1==RO.indexOf("h2")||(ne.j=ne.l,ne.g=new Set,ne.h&&(o$(ne,ne.h),ne.h=null))}if(O.D){const u$=Ms.g?Ms.g.getResponseHeader("X-HTTP-Session-Id"):null;u$&&(O.ya=u$,dn(O.I,O.D,u$))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-v.F,A.j.info("Handshake RTT: "+A.R+"ms"));var ge=v;if((O=A).qa=lQ(O,O.J?O.ia:null,O.W),ge.K){LX(O.h,ge);var Gt=ge,jr=O.L;jr&&(Gt.I=jr),Gt.B&&(n$(Gt),wO(Gt)),O.g=ge}else rQ(O);0<A.i.length&&AO(A)}else"stop"!=wt[0]&&"close"!=wt[0]||Fp(A,7);else 3==A.G&&("stop"==wt[0]||"close"==wt[0]?"stop"==wt[0]?Fp(A,7):a$(A):"noop"!=wt[0]&&A.l&&A.l.ta(wt),A.v=0)}wx()}catch{}}Ad.prototype.ca=function(v){v=v.target;const I=this.M;I&&3==dc(v)?I.j():this.Y(v)},Ad.prototype.Y=function(v){try{if(v==this.g)e:{const ai=dc(this.g);var I=this.g.Ba();if(this.g.Z(),!(3>ai)&&(3!=ai||this.g&&(this.h.h||this.g.oa()||ZX(this.g)))){this.J||4!=ai||7==I||wx(),n$(this);var A=this.g.Z();this.X=A;t:if(PX(this)){var O=ZX(this.g);v="";var K=O.length,ne=4==dc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Op(this),Ix(this);var ge="";break t}this.h.i=new d.TextDecoder}for(I=0;I<K;I++)this.h.h=!0,v+=this.h.i.decode(O[I],{stream:!(ne&&I==K-1)});O.length=0,this.h.g+=v,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=200==A,function aue(v,I,A,O,K,ne,ge){v.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+I+"\n"+A+"\n"+ne+" "+ge})}(this.i,this.u,this.A,this.l,this.R,ai,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,jr=this.g;if((Gt=jr.g?jr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Gt)){var wt=Gt;break t}}wt=null}if(!(A=wt)){this.o=!1,this.s=3,Ci(12),Op(this),Ix(this);break e}Cv(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,r$(this,A)}if(this.P){let Ms;for(A=!0;!this.J&&this.C<ge.length;){if(Ms=uue(this,ge),Ms==e$){4==ai&&(this.s=4,Ci(14),A=!1),Cv(this.i,this.l,null,"[Incomplete Response]");break}if(Ms==MX){this.s=4,Ci(15),Cv(this.i,this.l,ge,"[Invalid Chunk]"),A=!1;break}Cv(this.i,this.l,Ms,null),r$(this,Ms)}if(PX(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ai||0!=ge.length||this.h.h||(this.s=1,Ci(16),A=!1),this.o=this.o&&A,A){if(0<ge.length&&!this.W){this.W=!0;var si=this.j;si.g==this&&si.ba&&!si.M&&(si.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),c$(si),si.M=!0,Ci(11))}}else Cv(this.i,this.l,ge,"[Invalid Chunked Response]"),Op(this),Ix(this)}else Cv(this.i,this.l,ge,null),r$(this,ge);4==ai&&Op(this),this.o&&!this.J&&(4==ai?oQ(this.j,this):(this.o=!1,wO(this)))}else(function Due(v){const I={};v=(v.g&&2<=dc(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let O=0;O<v.length;O++){if(H(v[O]))continue;var A=W(v[O]);const K=A[0];if("string"!=typeof(A=A[1]))continue;A=A.trim();const ne=I[K]||[];I[K]=ne,ne.push(A)}!function V(v,I){for(const A in v)I.call(void 0,v[A],A,v)}(I,function(O){return O.join(", ")})})(this.g),400==A&&0<ge.indexOf("Unknown SID")?(this.s=3,Ci(12)):(this.s=0,Ci(13)),Op(this),Ix(this)}}}catch{}},Ad.prototype.cancel=function(){this.J=!0,Op(this)},Ad.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function lue(v,I){v.info(function(){return"TIMEOUT: "+I})}(this.i,this.A),2!=this.L&&(wx(),Ci(17)),Op(this),this.s=2,Ix(this)):kX(this,this.S-v)};var due=class{constructor(v,I){this.g=v,this.map=I}};function OX(v){this.l=v||10,v=d.PerformanceNavigationTiming?0<(v=d.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NX(v){return!!v.h||!!v.g&&v.g.size>=v.j}function FX(v){return v.h?1:v.g?v.g.size:0}function i$(v,I){return v.h?v.h==I:!!v.g&&v.g.has(I)}function o$(v,I){v.g?v.g.add(I):v.h=I}function LX(v,I){v.h&&v.h==I?v.h=null:v.g&&v.g.has(I)&&v.g.delete(I)}function VX(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let I=v.i;for(const A of v.g.values())I=I.concat(A.D);return I}return M(v.i)}function BX(v,I){if(v.forEach&&"function"==typeof v.forEach)v.forEach(I,void 0);else if(f(v)||"string"==typeof v)Array.prototype.forEach.call(v,I,void 0);else for(var A=function fue(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(f(v)||"string"==typeof v){var I=[];v=v.length;for(var A=0;A<v;A++)I.push(A);return I}I=[],A=0;for(const O in v)I[A++]=O;return I}}}(v),O=function hue(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(f(v)){for(var I=[],A=v.length,O=0;O<A;O++)I.push(v[O]);return I}for(O in I=[],A=0,v)I[A++]=v[O];return I}(v),K=O.length,ne=0;ne<K;ne++)I.call(void 0,O[ne],A&&A[ne],v)}OX.prototype.cancel=function(){if(this.i=VX(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var jX=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Np(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Np){this.h=v.h,EO(this,v.j),this.o=v.o,this.g=v.g,CO(this,v.s),this.l=v.l;var I=v.i,A=new Dx;A.i=I.i,I.g&&(A.g=new Map(I.g),A.h=I.h),UX(this,A),this.m=v.m}else v&&(I=String(v).match(jX))?(this.h=!1,EO(this,I[1]||"",!0),this.o=xx(I[2]||""),this.g=xx(I[3]||"",!0),CO(this,I[4]),this.l=xx(I[5]||"",!0),UX(this,I[6]||"",!0),this.m=xx(I[7]||"")):(this.h=!1,this.i=new Dx(null,this.h))}function uc(v){return new Np(v)}function EO(v,I,A){v.j=A?xx(I,!0):I,v.j&&(v.j=v.j.replace(/:$/,""))}function CO(v,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);v.s=I}else v.s=null}function UX(v,I,A){I instanceof Dx?(v.i=I,function bue(v,I){I&&!v.j&&(Sd(v),v.i=null,v.g.forEach(function(A,O){var K=O.toLowerCase();O!=K&&(zX(this,O),WX(this,K,A))},v)),v.j=I}(v.i,v.h)):(A||(I=Tx(I,yue)),v.i=new Dx(I,v.h))}function dn(v,I,A){v.i.set(I,A)}function IO(v){return dn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function xx(v,I){return v?I?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Tx(v,I,A){return"string"==typeof v?(v=encodeURI(v).replace(I,mue),A&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function mue(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Np.prototype.toString=function(){var v=[],I=this.j;I&&v.push(Tx(I,HX,!0),":");var A=this.g;return(A||"file"==I)&&(v.push("//"),(I=this.o)&&v.push(Tx(I,HX,!0),"@"),v.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(A=this.s)&&v.push(":",String(A))),(A=this.l)&&(this.g&&"/"!=A.charAt(0)&&v.push("/"),v.push(Tx(A,"/"==A.charAt(0)?_ue:gue,!0))),(A=this.i.toString())&&v.push("?",A),(A=this.m)&&v.push("#",Tx(A,vue)),v.join("")};var HX=/[#\/\?@]/g,gue=/[#\?:]/g,_ue=/[#\?]/g,yue=/[#\?@]/g,vue=/#/g;function Dx(v,I){this.h=this.g=null,this.i=v||null,this.j=!!I}function Sd(v){v.g||(v.g=new Map,v.h=0,v.i&&function pue(v,I){if(v){v=v.split("&");for(var A=0;A<v.length;A++){var O=v[A].indexOf("="),K=null;if(0<=O){var ne=v[A].substring(0,O);K=v[A].substring(O+1)}else ne=v[A];I(ne,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}(v.i,function(I,A){v.add(decodeURIComponent(I.replace(/\+/g," ")),A)}))}function zX(v,I){Sd(v),I=Iv(v,I),v.g.has(I)&&(v.i=null,v.h-=v.g.get(I).length,v.g.delete(I))}function $X(v,I){return Sd(v),I=Iv(v,I),v.g.has(I)}function WX(v,I,A){zX(v,I),0<A.length&&(v.i=null,v.g.set(Iv(v,I),M(A)),v.h+=A.length)}function Iv(v,I){return I=String(I),v.j&&(I=I.toLowerCase()),I}function Md(v,I,A,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(A)}catch{}}function Cue(){this.g=new oue}function Iue(v,I,A){const O=A||"";try{BX(v,function(K,ne){let ge=K;g(K)&&(ge=Xz(K)),I.push(O+ne+"="+encodeURIComponent(ge))})}catch(K){throw I.push(O+"type="+encodeURIComponent("_badmap")),K}}function Ax(v){this.l=v.Ub||null,this.j=v.eb||!1}function xO(v,I){oi.call(this),this.D=v,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function GX(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Sx(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Mx(v)}function Mx(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function qX(v){let I="";return Z(v,function(A,O){I+=O,I+=":",I+=A,I+="\r\n"}),I}function s$(v,I,A){e:{for(O in A){var O=!1;break e}O=!0}O||(A=qX(A),"string"==typeof v?null!=A&&encodeURIComponent(String(A)):dn(v,I,A))}function Nn(v){oi.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Dx.prototype).add=function(v,I){Sd(this),this.i=null,v=Iv(this,v);var A=this.g.get(v);return A||this.g.set(v,A=[]),A.push(I),this.h+=1,this},n.forEach=function(v,I){Sd(this),this.g.forEach(function(A,O){A.forEach(function(K){v.call(I,K,O,this)},this)},this)},n.na=function(){Sd(this);const v=Array.from(this.g.values()),I=Array.from(this.g.keys()),A=[];for(let O=0;O<I.length;O++){const K=v[O];for(let ne=0;ne<K.length;ne++)A.push(I[O])}return A},n.V=function(v){Sd(this);let I=[];if("string"==typeof v)$X(this,v)&&(I=I.concat(this.g.get(Iv(this,v))));else{v=Array.from(this.g.values());for(let A=0;A<v.length;A++)I=I.concat(v[A])}return I},n.set=function(v,I){return Sd(this),this.i=null,$X(this,v=Iv(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[I]),this.h+=1,this},n.get=function(v,I){return v&&0<(v=this.V(v)).length?String(v[0]):I},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],I=Array.from(this.g.keys());for(var A=0;A<I.length;A++){var O=I[A];const ne=encodeURIComponent(String(O)),ge=this.V(O);for(O=0;O<ge.length;O++){var K=ne;""!==ge[O]&&(K+="="+encodeURIComponent(String(ge[O]))),v.push(K)}}return this.i=v.join("&")},S(Ax,Qz),Ax.prototype.g=function(){return new xO(this.l,this.j)},Ax.prototype.i=function(v){return function(){return v}}({}),S(xO,oi),(n=xO.prototype).open=function(v,I){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=I,this.readyState=1,Mx(this)},n.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(I.body=v),(this.D||d).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sx(this)),this.readyState=0},n.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Mx(this)),this.g&&(this.readyState=3,Mx(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GX(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var I=v.value?v.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!v.done}))&&(this.response=this.responseText+=I)}v.done?Sx(this):Mx(this),3==this.readyState&&GX(this)}},n.Ra=function(v){this.g&&(this.response=this.responseText=v,Sx(this))},n.Qa=function(v){this.g&&(this.response=v,Sx(this))},n.ga=function(){this.g&&Sx(this)},n.setRequestHeader=function(v,I){this.u.append(v,I)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],I=this.h.entries();for(var A=I.next();!A.done;)v.push((A=A.value)[0]+": "+A[1]),A=I.next();return v.join("\r\n")},Object.defineProperty(xO.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),S(Nn,oi);var xue=/^https?$/i,Tue=["POST","PUT"];function KX(v,I){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=I,v.m=5,XX(v),TO(v)}function XX(v){v.A||(v.A=!0,Ei(v,"complete"),Ei(v,"error"))}function QX(v){if(v.h&&typeof c<"u"&&(!v.v[1]||4!=dc(v)||2!=v.Z()))if(v.u&&4==dc(v))yX(v.Ea,0,v);else if(Ei(v,"readystatechange"),4==dc(v)){v.h=!1;try{const ge=v.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var A;if(!(A=I)){var O;if(O=0===ge){var K=String(v.D).match(jX)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),O=!xue.test(K?K.toLowerCase():"")}A=O}if(A)Ei(v,"complete"),Ei(v,"success");else{v.m=6;try{var ne=2<dc(v)?v.g.statusText:""}catch{ne=""}v.l=ne+" ["+v.Z()+"]",XX(v)}}finally{TO(v)}}}function TO(v,I){if(v.g){YX(v);const A=v.g,O=v.v[0]?()=>{}:null;v.g=null,v.v=null,I||Ei(v,"ready");try{A.onreadystatechange=O}catch{}}}function YX(v){v.I&&(d.clearTimeout(v.I),v.I=null)}function dc(v){return v.g?v.g.readyState:0}function ZX(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Rx(v,I,A){return A&&A.internalChannelParams&&A.internalChannelParams[v]||I}function JX(v){this.Aa=0,this.i=[],this.j=new Cx,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rx("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rx("baseRetryDelayMs",5e3,v),this.cb=Rx("retryDelaySeedMs",1e4,v),this.Wa=Rx("forwardChannelMaxRetries",2,v),this.wa=Rx("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new OX(v&&v.concurrentRequestLimit),this.Da=new Cue,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function a$(v){if(eQ(v),3==v.G){var I=v.U++,A=uc(v.I);if(dn(A,"SID",v.K),dn(A,"RID",I),dn(A,"TYPE","terminate"),Px(v,A),(I=new Ad(v,v.j,I)).L=2,I.v=IO(uc(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(I.v.toString(),"")}catch{}!A&&d.Image&&((new Image).src=I.v,A=!0),A||(I.g=cQ(I.j,null),I.g.ea(I.v)),I.F=Date.now(),wO(I)}aQ(v)}function DO(v){v.g&&(c$(v),v.g.cancel(),v.g=null)}function eQ(v){DO(v),v.u&&(d.clearTimeout(v.u),v.u=null),SO(v),v.h.cancel(),v.s&&("number"==typeof v.s&&d.clearTimeout(v.s),v.s=null)}function AO(v){if(!NX(v.h)&&!v.s){v.s=!0;var I=v.Ga;Wt||ac(),Br||(Wt(),Br=!0),sr.add(I,v),v.B=0}}function tQ(v,I){var A;A=I?I.l:v.U++;const O=uc(v.I);dn(O,"SID",v.K),dn(O,"RID",A),dn(O,"AID",v.T),Px(v,O),v.m&&v.o&&s$(O,v.m,v.o),A=new Ad(v,v.j,A,v.B+1),null===v.m&&(A.H=v.o),I&&(v.i=I.D.concat(v.i)),I=nQ(v,A,1e3),A.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),o$(v.h,A),t$(A,O,I)}function Px(v,I){v.H&&Z(v.H,function(A,O){dn(I,O,A)}),v.l&&BX({},function(A,O){dn(I,O,A)})}function nQ(v,I,A){A=Math.min(v.i.length,A);var O=v.l?C(v.l.Na,v.l,v):null;e:{var K=v.i;let ne=-1;for(;;){const ge=["count="+A];-1==ne?0<A?(ne=K[0].g,ge.push("ofs="+ne)):ne=0:ge.push("ofs="+ne);let Gt=!0;for(let jr=0;jr<A;jr++){let wt=K[jr].g;const si=K[jr].map;if(wt-=ne,0>wt)ne=Math.max(0,K[jr].g-100),Gt=!1;else try{Iue(si,ge,"req"+wt+"_")}catch{O&&O(si)}}if(Gt){O=ge.join("&");break e}}}return v=v.i.splice(0,A),I.D=v,O}function rQ(v){if(!v.g&&!v.u){v.Y=1;var I=v.Fa;Wt||ac(),Br||(Wt(),Br=!0),sr.add(I,v),v.v=0}}function l$(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Ex(C(v.Fa,v),sQ(v,v.v)),v.v++,0))}function c$(v){null!=v.A&&(d.clearTimeout(v.A),v.A=null)}function iQ(v){v.g=new Ad(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var I=uc(v.qa);dn(I,"RID","rpc"),dn(I,"SID",v.K),dn(I,"AID",v.T),dn(I,"CI",v.F?"0":"1"),!v.F&&v.ja&&dn(I,"TO",v.ja),dn(I,"TYPE","xmlhttp"),Px(v,I),v.m&&v.o&&s$(I,v.m,v.o),v.L&&(v.g.I=v.L);var A=v.g;v=v.ia,A.L=1,A.v=IO(uc(I)),A.m=null,A.P=!0,RX(A,v)}function SO(v){null!=v.C&&(d.clearTimeout(v.C),v.C=null)}function oQ(v,I){var A=null;if(v.g==I){SO(v),c$(v),v.g=null;var O=2}else{if(!i$(v.h,I))return;A=I.D,LX(v.h,I),O=1}if(0!=v.G)if(I.o)if(1==O){A=I.m?I.m.length:0,I=Date.now()-I.F;var K=v.B;Ei(O=yO(),new DX(O,A)),AO(v)}else rQ(v);else if(3==(K=I.s)||0==K&&0<I.X||!(1==O&&function Aue(v,I){return!(FX(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=I.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Ex(C(v.Ga,v,I),sQ(v,v.B)),v.B++,0)))}(v,I)||2==O&&l$(v)))switch(A&&0<A.length&&(I=v.h,I.i=I.i.concat(A)),K){case 1:Fp(v,5);break;case 4:Fp(v,10);break;case 3:Fp(v,6);break;default:Fp(v,2)}}function sQ(v,I){let A=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(A*=2),A*I}function Fp(v,I){if(v.j.info("Error code "+I),2==I){var A=C(v.fb,v),O=v.Xa;const K=!O;O=new Np(O||"//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||EO(O,"https"),IO(O),K?function wue(v,I){const A=new Cx;if(d.Image){const O=new Image;O.onload=x(Md,A,"TestLoadImage: loaded",!0,I,O),O.onerror=x(Md,A,"TestLoadImage: error",!1,I,O),O.onabort=x(Md,A,"TestLoadImage: abort",!1,I,O),O.ontimeout=x(Md,A,"TestLoadImage: timeout",!1,I,O),d.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=v}else I(!1)}(O.toString(),A):function Eue(v,I){new Cx;const O=new AbortController,K=setTimeout(()=>{O.abort(),Md(0,0,!1,I)},1e4);fetch(v,{signal:O.signal}).then(ne=>{clearTimeout(K),Md(0,0,!!ne.ok,I)}).catch(()=>{clearTimeout(K),Md(0,0,!1,I)})}(O.toString(),A)}else Ci(2);v.G=0,v.l&&v.l.sa(I),aQ(v),eQ(v)}function aQ(v){if(v.G=0,v.ka=[],v.l){const I=VX(v.h);(0!=I.length||0!=v.i.length)&&(R(v.ka,I),R(v.ka,v.i),v.h.i.length=0,M(v.i),v.i.length=0),v.l.ra()}}function lQ(v,I,A){var O=A instanceof Np?uc(A):new Np(A);if(""!=O.g)I&&(O.g=I+"."+O.g),CO(O,O.s);else{var K=d.location;O=K.protocol,I=I?I+"."+K.hostname:K.hostname,K=+K.port;var ne=new Np(null);O&&EO(ne,O),I&&(ne.g=I),K&&CO(ne,K),A&&(ne.l=A),O=ne}return I=v.ya,(A=v.D)&&I&&dn(O,A,I),dn(O,"VER",v.la),Px(v,O),O}function cQ(v,I,A){if(I&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(I=new Nn(v.Ca&&!v.pa?new Ax({eb:A}):v.pa)).Ha(v.J),I}function uQ(){}function MO(){}function bo(v,I){oi.call(this),this.g=new JX(I),this.l=v,this.h=I&&I.messageUrlParams||null,v=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(v?v["X-WebChannel-Content-Type"]=I.messageContentType:v={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(v?v["X-WebChannel-Client-Profile"]=I.va:v={"X-WebChannel-Client-Profile":I.va}),this.g.S=v,(v=I&&I.Sb)&&!H(v)&&(this.g.m=v),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!H(I)&&(this.g.D=I,null!==(v=this.h)&&I in v&&I in(v=this.h)&&delete v[I]),this.j=new xv(this)}function dQ(v){Yz.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var I=v.__sm__;if(I){e:{for(const A in I){v=A;break e}v=void 0}(this.i=v)&&(v=this.i,I=null!==I&&v in I?I[v]:void 0),this.data=I}else this.data=v}function hQ(){Zz.call(this),this.status=1}function xv(v){this.g=v}(n=Nn.prototype).Ha=function(v){this.J=v},n.ea=function(v,I,A,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);I=I?I.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jz.g(),this.v=function EX(v){return v.h||(v.h=v.i())}(this.o?this.o:Jz),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(I,String(v),!0),this.B=!1}catch(ne){return void KX(this,ne)}if(v=A||"",A=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)A.set(K,O[K]);else{if("function"!=typeof O.keys||"function"!=typeof O.get)throw Error("Unknown input type for opt_headers: "+String(O));for(const ne of O.keys())A.set(ne,O.get(ne))}O=Array.from(A.keys()).find(ne=>"content-type"==ne.toLowerCase()),K=d.FormData&&v instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Tue,I,void 0))||O||K||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ge]of A)this.g.setRequestHeader(ne,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{YX(this),this.u=!0,this.g.send(v),this.u=!1}catch(ne){KX(this,ne)}},n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ei(this,"complete"),Ei(this,"abort"),TO(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),TO(this,!0)),Nn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?QX(this):this.bb())},n.bb=function(){QX(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<dc(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(v){if(this.g){var I=this.g.responseText;return v&&0==I.indexOf(v)&&(I=I.substring(v.length)),iue(I)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=JX.prototype).la=8,n.G=1,n.connect=function(v,I,A,O){Ci(0),this.W=v,this.H=I||{},A&&void 0!==O&&(this.H.OSID=A,this.H.OAID=O),this.F=this.X,this.I=lQ(this,null,this.W),AO(this)},n.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const K=new Ad(this,this.j,v);let ne=this.o;if(this.S&&(ne?(ne=k(ne),z(ne,this.S)):ne=this.S),null!==this.m||this.O||(K.H=ne,ne=null),this.P)e:{for(var I=0,A=0;A<this.i.length;A++){var O=this.i[A];if(void 0===(O="__data__"in O.map&&"string"==typeof(O=O.map.__data__)?O.length:void 0))break;if(4096<(I+=O)){I=A;break e}if(4096===I||A===this.i.length-1){I=A+1;break e}}I=1e3}else I=1e3;I=nQ(this,K,I),dn(A=uc(this.I),"RID",v),dn(A,"CVER",22),this.D&&dn(A,"X-HTTP-Session-Id",this.D),Px(this,A),ne&&(this.O?I="headers="+encodeURIComponent(String(qX(ne)))+"&"+I:this.m&&s$(A,this.m,ne)),o$(this.h,K),this.Ua&&dn(A,"TYPE","init"),this.P?(dn(A,"$req",I),dn(A,"SID","null"),K.T=!0,t$(K,A,null)):t$(K,A,I),this.G=2}}else 3==this.G&&(v?tQ(this,v):0==this.i.length||NX(this.h)||tQ(this))},n.Fa=function(){if(this.u=null,iQ(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ex(C(this.ab,this),v)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ci(10),DO(this),iQ(this))},n.Za=function(){null!=this.C&&(this.C=null,DO(this),l$(this),Ci(19))},n.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ci(2)):(this.j.info("Failed to ping google.com"),Ci(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=uQ.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},MO.prototype.g=function(v,I){return new bo(v,I)},S(bo,oi),bo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bo.prototype.close=function(){a$(this.g)},bo.prototype.o=function(v){var I=this.g;if("string"==typeof v){var A={};A.__data__=v,v=A}else this.u&&((A={}).__data__=Xz(v),v=A);I.i.push(new due(I.Ya++,v)),3==I.G&&AO(I)},bo.prototype.N=function(){this.g.l=null,delete this.j,a$(this.g),delete this.g,bo.aa.N.call(this)},S(dQ,Yz),S(hQ,Zz),S(xv,uQ),xv.prototype.ua=function(){Ei(this.g,"a")},xv.prototype.ta=function(v){Ei(this.g,new dQ(v))},xv.prototype.sa=function(v){Ei(this.g,new hQ)},xv.prototype.ra=function(){Ei(this.g,"b")},MO.prototype.createWebChannel=MO.prototype.g,bo.prototype.send=bo.prototype.o,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,B5=$l.createWebChannelTransport=function(){return new MO},V5=$l.getStatEventTarget=function(){return yO()},L5=$l.Event=kp,lj=$l.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vO.NO_ERROR=0,vO.TIMEOUT=8,vO.HTTP_ERROR=6,DP=$l.ErrorCode=vO,AX.COMPLETE="complete",F5=$l.EventType=AX,CX.EventType=bx,bx.OPEN="a",bx.CLOSE="b",bx.ERROR="c",bx.MESSAGE="d",oi.prototype.listen=oi.prototype.K,iI=$l.WebChannel=CX,$l.FetchXmlHttpFactory=Ax,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,N5=$l.XhrIo=Nn}).apply(typeof TP<"u"?TP:typeof self<"u"?self:typeof window<"u"?window:{});const j5="@firebase/firestore";class Tr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let wy="11.5.0";const ed=new sg("@firebase/firestore");function Ey(){return ed.logLevel}function ae(n,...t){if(ed.logLevel<=it.DEBUG){const e=t.map(cj);ed.debug(`Firestore (${wy}): ${n}`,...e)}}function Un(n,...t){if(ed.logLevel<=it.ERROR){const e=t.map(cj);ed.error(`Firestore (${wy}): ${n}`,...e)}}function Wo(n,...t){if(ed.logLevel<=it.WARN){const e=t.map(cj);ed.warn(`Firestore (${wy}): ${n}`,...e)}}function cj(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function xe(n="Unexpected state"){const t=`FIRESTORE (${wy}) INTERNAL ASSERTION FAILED: `+n;throw Un(t),new Error(t)}function Re(n,t){n||xe()}function me(n,t){return n}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends fs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class H5{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Tr.UNAUTHENTICATED))}shutdown(){}}class VJ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BJ{constructor(t){this.t=t,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;Re(void 0===this.o);let i=this.i;const s=g=>this.i!==i?(i=this.i,e(g)):Promise.resolve();let c=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Dr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=c;t.enqueueRetryable((0,j.A)(function*(){yield g.promise,yield s(r.currentUser)}))},f=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Dr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re("string"==typeof r.accessToken),new H5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Re(null===t||"string"==typeof t),new Tr(t)}}class jJ{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UJ{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new jJ(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uj{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HJ{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vi(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Re(void 0===this.o);const r=s=>{null!=s.error&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new uj(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Re("string"==typeof e.token),this.R=e.token,new uj(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function zJ(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}function dj(){return new TextEncoder}class z5{static newId(){const e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=zJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function je(n,t){return n<t?-1:n>t?1:0}function hj(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=n.codePointAt(e),i=t.codePointAt(e);if(r!==i){if(r<128&&i<128)return je(r,i);{const s=dj(),c=$J(s.encode($5(n,e)),s.encode($5(t,e)));return 0!==c?c:je(r,i)}}e+=r>65535?2:1}return je(n.length,t.length)}function $5(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function $J(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return je(n[e],t[e]);return je(n.length,t.length)}function Cy(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}const G5=-62135596800;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(t){return yn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new yn(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new le(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<G5)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new le(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?je(this.nanoseconds,t.nanoseconds):je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds-G5).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pe{static fromTimestamp(t){return new Pe(t)}static min(){return new Pe(new yn(0,0))}static max(){return new Pe(new yn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const fj="__name__";class Ca{constructor(t,e,r){void 0===e?e=0:e>t.length&&xe(),void 0===r?r=t.length-e:r>t.length-e&&xe(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===Ca.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ca?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=Ca.compareSegments(t.get(i),e.get(i));if(0!==s)return s}return je(t.length,e.length)}static compareSegments(t,e){const r=Ca.isNumericId(t),i=Ca.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?Ca.extractNumericId(t).compare(Ca.extractNumericId(e)):hj(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ju.fromString(t.substring(4,t.length-2))}}class ct extends Ca{construct(t,e,r){return new ct(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new le(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new ct(e)}static emptyPath(){return new ct([])}}const WJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends Ca{construct(t,e,r){return new vn(t,e,r)}static isValidIdentifier(t){return WJ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===fj}static keyField(){return new vn([fj])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(0===r.length)throw new le(te.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let c=!1;for(;i<t.length;){const d=t[i];if("\\"===d){if(i+1===t.length)throw new le(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[i+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new le(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=f,i+=2}else"`"===d?(c=!c,i++):"."!==d||c?(r+=d,i++):(s(),i++)}if(s(),c)throw new le(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new vn(e)}static emptyPath(){return new vn([])}}class _e{constructor(t){this.path=t}static fromPath(t){return new _e(ct.fromString(t))}static fromName(t){return new _e(ct.fromString(t).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ct.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ct.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _e(new ct(t.slice()))}}class mo{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new mo(Pe.min(),_e.empty(),-1)}static max(){return new mo(Pe.max(),_e.empty(),-1)}}function mj(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=_e.comparator(n.documentKey,t.documentKey),0!==e?e:je(n.largestBatchId,t.largestBatchId))}class Y5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function td(n){return gj.apply(this,arguments)}function gj(){return(gj=(0,j.A)(function*(n){if(n.code!==te.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==n.message)throw n;ae("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new X((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof X?e:X.resolve(e)}catch(e){return X.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):X.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):X.reject(e)}static resolve(t){return new X((e,r)=>{e(t)})}static reject(t){return new X((e,r)=>{r(t)})}static waitFor(t){return new X((e,r)=>{let i=0,s=0,c=!1;t.forEach(d=>{++i,d.next(()=>{++s,c&&s===i&&e()},f=>r(f))}),c=!0,s===i&&e()})}static or(t){let e=X.resolve(!1);for(const r of t)e=e.next(i=>i?X.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new X((r,i)=>{const s=t.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;e(t[g]).next(y=>{c[g]=y,++d,d===s&&r(c)},y=>i(y))}})}static doWhile(t,e){return new X((r,i)=>{const s=()=>{!0===t()?e().next(()=>{s()},i):r()};s()})}}function nd(n){return"IndexedDbTransactionError"===n.name}let _o=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}return n.ae=-1,n})();function aI(n){return null==n}function lI(n){return 0===n&&1/n==-1/0}function ZJ(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function tq(n){return n+"\x01\x01"}const uI="mutationQueues",Ds="mutations",Ay="documentMutations",dI="remoteDocumentGlobal",Sy="targets",My="targetDocuments",rp="targetGlobal",hI="collectionParents",Ry="clientMetadata",OP="bundles",NP="namedQueries";function fq(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function id(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function mq(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Qt{constructor(t,e){this.comparator=t,this.root=e||Fr.EMPTY}insert(t,e){return new Qt(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fr.BLACK,null,null))}remove(t){return new Qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new BP(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new BP(this.root,t,this.comparator,!1)}getReverseIterator(){return new BP(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new BP(this.root,t,this.comparator,!0)}}class BP{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fr{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??Fr.RED,this.left=i??Fr.EMPTY,this.right=s??Fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new Fr(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Fr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const t=this.left.check();if(t!==this.right.check())throw xe();return t+(this.isRed()?0:1)}}Fr.EMPTY=null,Fr.RED=!0,Fr.BLACK=!1,Fr.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(t,e,r,i,s){return this}insert(t,e,r){return new Fr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new gq(this.data.getIterator())}getIteratorFrom(t){return new gq(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Lt)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Lt(this.comparator);return e.data=t,e}}class gq{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hi{constructor(t){this.fields=t,t.sort(vn.comparator)}static empty(){return new Hi([])}unionWith(t){let e=new Lt(vn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Hi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Cy(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class _q extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _q("Invalid base64 string: "+s):s}}(t);return new Pn(e)}static fromUint8Array(t){const e=function(i){let s="";for(let c=0;c<i.length;++c)s+=String.fromCharCode(i[c]);return s}(t);return new Pn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Iee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(n){if(Re(!!n),"string"==typeof n){let t=0;const e=Iee.exec(n);if(Re(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bn(n.seconds),nanos:bn(n.nanos)}}function bn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gl(n){return"string"==typeof n?Pn.fromBase64String(n):Pn.fromUint8Array(n)}const yq="server_timestamp",vq="__type__",bq="__previous_value__",wq="__local_write_time__";function jP(n){var t,e;return(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{})[vq])||void 0===e?void 0:e.stringValue)===yq}function UP(n){const t=n.mapValue.fields[bq];return jP(t)?UP(t):t}function fI(n){const t=Wl(n.mapValue.fields[wq].timestampValue);return new yn(t.seconds,t.nanos)}class xee{constructor(t,e,r,i,s,c,d,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}const pI="(default)";class ip{constructor(t,e){this.projectId=t,this.database=e||pI}static empty(){return new ip("","")}get isDefaultDatabase(){return this.database===pI}isEqual(t){return t instanceof ip&&t.projectId===this.projectId&&t.database===this.database}}const Tj="__type__",Eq="__max__",od_mapValue={fields:{__type__:{stringValue:Eq}}},Dj="__vector__",ky="value";function sd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jP(n)?4:Dq(n)?9007199254740991:WP(n)?10:11:xe()}function Ta(n,t){if(n===t)return!0;const e=sd(n);if(e!==sd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return fI(n).isEqual(fI(t));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const c=Wl(i.timestampValue),d=Wl(s.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Gl(n.bytesValue).isEqual(Gl(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return bn(i.geoPointValue.latitude)===bn(s.geoPointValue.latitude)&&bn(i.geoPointValue.longitude)===bn(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return bn(i.integerValue)===bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const c=bn(i.doubleValue),d=bn(s.doubleValue);return c===d?lI(c)===lI(d):isNaN(c)&&isNaN(d)}return!1}(n,t);case 9:return Cy(n.arrayValue.values||[],t.arrayValue.values||[],Ta);case 10:case 11:return function(i,s){const c=i.mapValue.fields||{},d=s.mapValue.fields||{};if(fq(c)!==fq(d))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(void 0===d[f]||!Ta(c[f],d[f])))return!1;return!0}(n,t);default:return xe()}var s}function mI(n,t){return void 0!==(n.values||[]).find(e=>Ta(e,t))}function ad(n,t){if(n===t)return 0;const e=sd(n),r=sd(t);if(e!==r)return je(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,t.booleanValue);case 2:return function(s,c){const d=bn(s.integerValue||s.doubleValue),f=bn(c.integerValue||c.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,t);case 3:return Cq(n.timestampValue,t.timestampValue);case 4:return Cq(fI(n),fI(t));case 5:return hj(n.stringValue,t.stringValue);case 6:return function(s,c){const d=Gl(s),f=Gl(c);return d.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(s,c){const d=s.split("/"),f=c.split("/");for(let g=0;g<d.length&&g<f.length;g++){const y=je(d[g],f[g]);if(0!==y)return y}return je(d.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,c){const d=je(bn(s.latitude),bn(c.latitude));return 0!==d?d:je(bn(s.longitude),bn(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Iq(n.arrayValue,t.arrayValue);case 10:return function(s,c){var d,f,g,y;const x=null===(d=(s.fields||{})[ky])||void 0===d?void 0:d.arrayValue,S=null===(f=(c.fields||{})[ky])||void 0===f?void 0:f.arrayValue,M=je((null===(g=x?.values)||void 0===g?void 0:g.length)||0,(null===(y=S?.values)||void 0===y?void 0:y.length)||0);return 0!==M?M:Iq(x,S)}(n.mapValue,t.mapValue);case 11:return function(s,c){if(s===od_mapValue&&c===od_mapValue)return 0;if(s===od_mapValue)return 1;if(c===od_mapValue)return-1;const d=s.fields||{},f=Object.keys(d),g=c.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const C=hj(f[b],y[b]);if(0!==C)return C;const x=ad(d[f[b]],g[y[b]]);if(0!==x)return x}return je(f.length,y.length)}(n.mapValue,t.mapValue);default:throw xe()}}function Cq(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return je(n,t);const e=Wl(n),r=Wl(t),i=je(e.seconds,r.seconds);return 0!==i?i:je(e.nanos,r.nanos)}function Iq(n,t){const e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){const s=ad(e[i],r[i]);if(s)return s}return je(e.length,r.length)}function Oy(n){return Aj(n)}function Aj(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=Wl(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gl(n.bytesValue).toBase64():"referenceValue"in n?_e.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(const s of e.values||[])i?i=!1:r+=",",r+=Aj(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const c of r)s?s=!1:i+=",",i+=`${c}:${Aj(e.fields[c])}`;return i+"}"}(n.mapValue):xe()}function zP(n){switch(sd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=UP(n);return t?16+zP(t):16;case 5:return 2*n.stringValue.length;case 6:return Gl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(n.arrayValue.values||[]).reduce((i,s)=>i+zP(s),0);case 10:case 11:return function(r){let i=0;return id(r.fields,(s,c)=>{i+=s.length+zP(c)}),i}(n.mapValue);default:throw xe()}}function op(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Sj(n){return!!n&&"integerValue"in n}function gI(n){return!!n&&"arrayValue"in n}function xq(n){return!!n&&"nullValue"in n}function Tq(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $P(n){return!!n&&"mapValue"in n}function WP(n){var t,e;return(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{})[Tj])||void 0===e?void 0:e.stringValue)===Dj}function _I(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return id(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=_I(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=_I(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Dq(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Eq}class Lr{constructor(t){this.value=t}static empty(){return new Lr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!$P(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_I(e)}setAll(t){let e=vn.emptyPath(),r={},i=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,r,i),r={},i=[],e=d.popLast()}c?r[d.lastSegment()]=_I(c):i.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());$P(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ta(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];$P(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){id(e,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Lr(_I(this.value))}}function Rq(n){const t=[];return id(n.fields,(e,r)=>{const i=new vn([e]);if($P(r)){const s=Rq(r.mapValue).fields;if(0===s.length)t.push(i);else for(const c of s)t.push(i.child(c))}else t.push(i)}),new Hi(t)}class an{constructor(t,e,r,i,s,c,d){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=c,this.documentState=d}static newInvalidDocument(t){return new an(t,0,Pe.min(),Pe.min(),Pe.min(),Lr.empty(),0)}static newFoundDocument(t,e,r,i){return new an(t,1,e,Pe.min(),r,i,0)}static newNoDocument(t,e){return new an(t,2,e,Pe.min(),Pe.min(),Lr.empty(),0)}static newUnknownDocument(t,e){return new an(t,3,e,Pe.min(),Pe.min(),Lr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Pe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ld{constructor(t,e){this.position=t,this.inclusive=e}}function Pq(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],c=n.position[i];if(r=s.field.isKeyField()?_e.comparator(_e.fromName(c.referenceValue),e.key):ad(c,e.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function kq(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ta(n.position[e],t.position[e]))return!1;return!0}class yI{constructor(t,e="asc"){this.field=t,this.dir=e}}function Aee(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Oq{}class ut extends Oq{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new See(t,e,r):"array-contains"===e?new Pee(t,r):"in"===e?new jq(t,r):"not-in"===e?new kee(t,r):"array-contains-any"===e?new Oee(t,r):new ut(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new Mee(t,r):new Ree(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ad(e,this.value)):null!==e&&sd(this.value)===sd(e)&&this.matchesComparison(ad(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vt extends Oq{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new Vt(t,e)}matches(t){return Ny(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ny(n){return"and"===n.op}function Rj(n){return function Nq(n){for(const t of n.filters)if(t instanceof Vt)return!1;return!0}(n)&&Ny(n)}function Pj(n){if(n instanceof ut)return n.field.canonicalString()+n.op.toString()+Oy(n.value);if(Rj(n))return n.filters.map(t=>Pj(t)).join(",");{const t=n.filters.map(e=>Pj(e)).join(",");return`${n.op}(${t})`}}function Fq(n,t){return n instanceof ut?(r=n,(i=t)instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&Ta(r.value,i.value)):n instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,c,d)=>s&&Fq(c,i.filters[d]),!0)}(n,t):void xe();var r,i}function Vq(n){return n instanceof ut?`${(e=n).field.canonicalString()} ${e.op} ${Oy(e.value)}`:n instanceof Vt?function(e){return e.op.toString()+" {"+e.getFilters().map(Vq).join(" ,")+"}"}(n):"Filter";var e}class See extends ut{constructor(t,e,r){super(t,e,r),this.key=_e.fromName(r.referenceValue)}matches(t){const e=_e.comparator(t.key,this.key);return this.matchesComparison(e)}}class Mee extends ut{constructor(t,e){super(t,"in",e),this.keys=Bq(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ree extends ut{constructor(t,e){super(t,"not-in",e),this.keys=Bq(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Bq(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Pee extends ut{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gI(e)&&mI(e.arrayValue,this.value)}}class jq extends ut{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&mI(this.value.arrayValue,e)}}class kee extends ut{constructor(t,e){super(t,"not-in",e)}matches(t){if(mI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!mI(this.value.arrayValue,e)}}class Oee extends ut{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gI(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>mI(this.value.arrayValue,r))}}class Nee{constructor(t,e=null,r=[],i=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=c,this.endAt=d,this.le=null}}function kj(n,t=null,e=[],r=[],i=null,s=null,c=null){return new Nee(n,t,e,r,i,s,c)}function sp(n){const t=me(n);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Pj(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),aI(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Oy(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Oy(r)).join(",")),t.le=e}return t.le}function vI(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Aee(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Fq(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!kq(n.startAt,t.startAt)&&kq(n.endAt,t.endAt)}function GP(n){return _e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ql{constructor(t,e=null,r=[],i=[],s=null,c="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null}}function Fy(n){return new ql(n)}function $q(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Oj(n){return null!==n.collectionGroup}function Ly(n){const t=me(n);if(null===t.he){t.he=[];const e=new Set;for(const s of t.explicitOrderBy)t.he.push(s),e.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Lt(vn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.he.push(new yI(s,r))}),e.has(vn.keyField().canonicalString())||t.he.push(new yI(vn.keyField(),r))}return t.he}function Jr(n){const t=me(n);return t.Pe||(t.Pe=function Gq(n,t){if("F"===n.limitType)return kj(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>new yI(i.field,"desc"===i.dir?"asc":"desc"));const e=n.endAt?new ld(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ld(n.startAt.position,n.startAt.inclusive):null;return kj(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}(t,Ly(n))),t.Pe}function Nj(n,t){const e=n.filters.concat([t]);return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function KP(n,t,e){return new ql(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function bI(n,t){return vI(Jr(n),Jr(t))&&n.limitType===t.limitType}function qq(n){return`${sp(Jr(n))}|lt:${n.limitType}`}function Vy(n){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>Vq(i)).join(", ")}]`),aI(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>{return`${(c=i).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Oy(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Oy(i)).join(",")),`Target(${r})`}(Jr(n))}; limitType=${n.limitType})`}function wI(n,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,t)&&function(r,i){for(const s of Ly(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,t)&&(i=t,!((r=n).startAt&&!function(c,d,f){const g=Pq(c,d,f);return c.inclusive?g<=0:g<0}(r.startAt,Ly(r),i)||r.endAt&&!function(c,d,f){const g=Pq(c,d,f);return c.inclusive?g>=0:g>0}(r.endAt,Ly(r),i)));var r,i}function Xq(n){return(t,e)=>{let r=!1;for(const i of Ly(n)){const s=Fee(i,t,e);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fee(n,t,e){const r=n.field.isKeyField()?_e.comparator(t.key,e.key):function(s,c,d){const f=c.data.field(s),g=d.data.field(s);return null!==f&&null!==g?ad(f,g):xe()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}class Kl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){id(this.inner,(e,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return mq(this.inner)}size(){return this.innerSize}}const Lee=new Qt(_e.comparator);function zi(){return Lee}const Qq=new Qt(_e.comparator);function EI(...n){let t=Qq;for(const e of n)t=t.insert(e.key,e);return t}function Yq(n){let t=Qq;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function Da(){return CI()}function Zq(){return CI()}function CI(){return new Kl(n=>n.toString(),(n,t)=>n.isEqual(t))}const Vee=new Qt(_e.comparator),Bee=new Lt(_e.comparator);function Qe(...n){let t=Bee;for(const e of n)t=t.add(e);return t}const jee=new Lt(je);function Lj(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lI(t)?"-0":t}}function Jq(n){return{integerValue:""+n}}function e8(n,t){return function eq(n){return"number"==typeof n&&Number.isInteger(n)&&!lI(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?Jq(t):Lj(n,t)}class XP{constructor(){this._=void 0}}function Uee(n,t,e){return n instanceof By?function(i,s){const c={fields:{[vq]:{stringValue:yq},[wq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jP(s)&&(s=UP(s)),s&&(c.fields[bq]=s),{mapValue:c}}(e,t):n instanceof ap?n8(n,t):n instanceof lp?r8(n,t):function(i,s){const c=t8(i,s),d=i8(c)+i8(i.Ie);return Sj(c)&&Sj(i.Ie)?Jq(d):Lj(i.serializer,d)}(n,t)}function Hee(n,t,e){return n instanceof ap?n8(n,t):n instanceof lp?r8(n,t):e}function t8(n,t){return n instanceof jy?Sj(r=t)||(s=r)&&"doubleValue"in s?t:{integerValue:0}:null;var r,s}class By extends XP{}class ap extends XP{constructor(t){super(),this.elements=t}}function n8(n,t){const e=o8(t);for(const r of n.elements)e.some(i=>Ta(i,r))||e.push(r);return{arrayValue:{values:e}}}class lp extends XP{constructor(t){super(),this.elements=t}}function r8(n,t){let e=o8(t);for(const r of n.elements)e=e.filter(i=>!Ta(i,r));return{arrayValue:{values:e}}}class jy extends XP{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function i8(n){return bn(n.integerValue||n.doubleValue)}function o8(n){return gI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $ee{constructor(t,e){this.version=t,this.transformResults=e}}class wn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new wn}static exists(t){return new wn(void 0,t)}static updateTime(t){return new wn(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function QP(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class YP{}function s8(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Hy(n.key,wn.none()):new Uy(n.key,n.data,wn.none());{const e=n.data,r=Lr.empty();let i=new Lt(vn.comparator);for(let s of t.fields)if(!i.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?r.delete(s):r.set(s,c),i=i.add(s)}return new Xl(n.key,r,new Hi(i.toArray()),wn.none())}}function Wee(n,t,e){n instanceof Uy?function(i,s,c){const d=i.value.clone(),f=c8(i.fieldTransforms,s,c.transformResults);d.setAll(f),s.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,t,e):n instanceof Xl?function(i,s,c){if(!QP(i.precondition,s))return void s.convertToUnknownDocument(c.version);const d=c8(i.fieldTransforms,s,c.transformResults),f=s.data;f.setAll(l8(i)),f.setAll(d),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function xI(n,t,e,r){return n instanceof Uy?function(s,c,d,f){if(!QP(s.precondition,c))return d;const g=s.value.clone(),y=u8(s.fieldTransforms,f,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,r):n instanceof Xl?function(s,c,d,f){if(!QP(s.precondition,c))return d;const g=u8(s.fieldTransforms,f,c),y=c.data;return y.setAll(l8(s)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(n,t,e,r):(d=e,QP(n.precondition,c=t)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function Gee(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),s=t8(r.transform,i||null);null!=s&&(null===e&&(e=Lr.empty()),e.set(r.field,s))}return e||null}function a8(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Cy(r,i,(s,c)=>function zee(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(r=n.transform)instanceof ap&&i instanceof ap||r instanceof lp&&i instanceof lp?Cy(r.elements,i.elements,Ta):r instanceof jy&&i instanceof jy?Ta(r.Ie,i.Ie):r instanceof By&&i instanceof By);var r,i}(s,c))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var r,i}class Uy extends YP{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xl extends YP{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function l8(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function c8(n,t,e){const r=new Map;Re(n.length===e.length);for(let i=0;i<e.length;i++){const s=n[i],c=s.transform,d=t.data.field(s.field);r.set(s.field,Hee(c,d,e[i]))}return r}function u8(n,t,e){const r=new Map;for(const i of n){const s=i.transform,c=e.data.field(i.field);r.set(i.field,Uee(s,c,t))}return r}class Hy extends YP{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vj extends YP{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bj{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Wee(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=xI(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=xI(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Zq();return this.mutations.forEach(i=>{const s=t.get(i.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(i.key)?null:d;const f=s8(c,d);null!==f&&r.set(i.key,f),c.isValidDocument()||c.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Qe())}isEqual(t){return this.batchId===t.batchId&&Cy(this.mutations,t.mutations,(e,r)=>a8(e,r))&&Cy(this.baseMutations,t.baseMutations,(e,r)=>a8(e,r))}}class jj{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Re(t.mutations.length===r.length);let i=function(){return Vee}();const s=t.mutations;for(let c=0;c<s.length;c++)i=i.insert(s[c].key,r[c].version);return new jj(t,e,r,i)}}class Uj{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qee{constructor(t,e){this.count=t,this.unchangedNames=e}}var or,_t;function f8(n){if(void 0===n)return Un("GRPC error has no .code"),te.UNKNOWN;switch(n){case or.OK:return te.OK;case or.CANCELLED:return te.CANCELLED;case or.UNKNOWN:return te.UNKNOWN;case or.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case or.INTERNAL:return te.INTERNAL;case or.UNAVAILABLE:return te.UNAVAILABLE;case or.UNAUTHENTICATED:return te.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case or.NOT_FOUND:return te.NOT_FOUND;case or.ALREADY_EXISTS:return te.ALREADY_EXISTS;case or.PERMISSION_DENIED:return te.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case or.ABORTED:return te.ABORTED;case or.OUT_OF_RANGE:return te.OUT_OF_RANGE;case or.UNIMPLEMENTED:return te.UNIMPLEMENTED;case or.DATA_LOSS:return te.DATA_LOSS;default:return xe()}}(_t=or||(or={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";const Kee=new Ju([4294967295,4294967295],0);function p8(n){const t=dj().encode(n),e=new O5;return e.update(t),new Uint8Array(e.digest())}function m8(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ju([e,r],0),new Ju([i,s],0)]}class Hj{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new TI(`Invalid padding: ${e}`);if(r<0)throw new TI(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new TI(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new TI(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=Ju.fromNumber(this.Ee)}Ae(t,e,r){let i=t.add(e.multiply(Ju.fromNumber(r)));return 1===i.compare(Kee)&&(i=new Ju([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ee)return!1;const e=p8(t),[r,i]=m8(e);for(let s=0;s<this.hashCount;s++){const c=this.Ae(r,i,s);if(!this.Re(c))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),c=new Hj(s,i,e);return r.forEach(d=>c.insert(d)),c}insert(t){if(0===this.Ee)return;const e=p8(t),[r,i]=m8(e);for(let s=0;s<this.hashCount;s++){const c=this.Ae(r,i,s);this.Ve(c)}}Ve(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class TI extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class DI{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,AI.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new DI(Pe.min(),i,new Qt(je),zi(),Qe())}}class AI{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new AI(r,e,Qe(),Qe(),Qe())}}class JP{constructor(t,e,r,i){this.me=t,this.removedTargetIds=e,this.key=r,this.fe=i}}class g8{constructor(t,e){this.targetId=t,this.ge=e}}class _8{constructor(t,e,r=Pn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class y8{constructor(){this.pe=0,this.ye=v8(),this.we=Pn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Qe(),e=Qe(),r=Qe();return this.ye.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new AI(this.we,this.Se,t,e,r)}Me(){this.be=!1,this.ye=v8()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Xee{constructor(t){this.ke=t,this.qe=new Map,this.Qe=zi(),this.$e=ek(),this.Ue=ek(),this.Ke=new Qt(je)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const r=this.He(e);switch(t.state){case 0:this.Je(e)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(e);break;case 3:this.Je(e)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),r.Ce(t.resumeToken));break;default:xe()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((r,i)=>{this.Je(i)&&e(i)})}Ze(t){const e=t.targetId,r=t.ge.count,i=this.Xe(e);if(i){const s=i.target;if(GP(s))if(0===r){const c=new _e(s.path);this.ze(e,c,an.newNoDocument(c,Pe.min()))}else Re(1===r);else{const c=this.et(e);if(c!==r){const d=this.tt(t),f=d?this.nt(d,t,c):1;0!==f&&(this.Ye(e),this.Ke=this.Ke.insert(e,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e;let c,d;try{c=Gl(r).toUint8Array()}catch(f){if(f instanceof _q)return Wo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Hj(c,i,s)}catch(f){return Wo(f instanceof TI?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return 0===d.Ee?null:d}nt(t,e,r){return e.ge.count===r-this.st(t,e.targetId)?0:2}st(t,e){const r=this.ke.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;t.mightContain(d)||(this.ze(e,s,null),i++)}),i}ot(t){const e=new Map;this.qe.forEach((s,c)=>{const d=this.Xe(c);if(d){if(s.current&&GP(d.target)){const f=new _e(d.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,an.newNoDocument(f,t))}s.ve&&(e.set(c,s.Fe()),s.Me())}});let r=Qe();this.Ue.forEach((s,c)=>{let d=!0;c.forEachWhile(f=>{const g=this.Xe(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(r=r.add(s))}),this.Qe.forEach((s,c)=>c.setReadTime(t));const i=new DI(t,e,this.Ke,this.Qe,r);return this.Qe=zi(),this.$e=ek(),this.Ue=ek(),this.Ke=new Qt(je),i}Ge(t,e){if(!this.Je(t))return;const r=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,r),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,r){if(!this.Je(t))return;const i=this.He(t);this.ut(t,e)?i.xe(e,1):i.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),r&&(this.Qe=this.Qe.insert(e,r))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new y8,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new Lt(je),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Lt(je),this.$e=this.$e.insert(t,e)),e}Je(t){const e=null!==this.Xe(t);return e||ae("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new y8),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function ek(){return new Qt(_e.comparator)}function v8(){return new Qt(_e.comparator)}const Qee={asc:"ASCENDING",desc:"DESCENDING"},Yee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zee={and:"AND",or:"OR"};class Jee{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zj(n,t){return n.useProto3Json||aI(t)?t:{value:t}}function zy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function b8(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function ete(n,t){return zy(n,t.toTimestamp())}function Hn(n){return Re(!!n),Pe.fromTimestamp(function(e){const r=Wl(e);return new yn(r.seconds,r.nanos)}(n))}function $j(n,t){return Wj(n,t).canonicalString()}function Wj(n,t){const e=(i=n,new ct(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===t?e:e.child(t)}function w8(n){const t=ct.fromString(n);return Re(P8(t)),t}function SI(n,t){return $j(n.databaseId,t.path)}function Aa(n,t){const e=w8(t);if(e.get(1)!==n.databaseId.projectId)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new le(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _e(I8(e))}function E8(n,t){return $j(n.databaseId,t)}function Gj(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I8(n){return Re(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function x8(n,t,e){return{name:SI(n,t),fields:e.value.mapValue.fields}}function D8(n,t){return{documents:[E8(n,t.path)]}}function tk(n,t){const e={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=E8(n,i);const s=function(g){if(0!==g.length)return R8(Vt.create(g,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const c=function(g){if(0!==g.length)return g.map(y=>{return{field:cd((C=y).field),direction:ote(C.dir)};var C})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const d=zj(n,t.limit);return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt={before:(g=t.startAt).inclusive,values:g.position}),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:e,parent:i};var g}function S8(n){let t=function C8(n){const t=w8(n);return 4===t.length?ct.emptyPath():I8(t)}(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Re(1===r);const y=e.from[0];y.allDescendants?i=y.collectionId:t=t.child(y.collectionId)}let s=[];e.where&&(s=function(b){const C=M8(b);return C instanceof Vt&&Rj(C)?C.getFilters():[C]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(C=>{return new yI($y((S=C).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let d=null;e.limit&&(d=function(b){let C;return C="object"==typeof b?b.value:b,aI(C)?null:C}(e.limit));let f=null;var b;e.startAt&&(f=new ld((b=e.startAt).values||[],!!b.before));let g=null;return e.endAt&&(g=function(b){return new ld(b.values||[],!b.before)}(e.endAt)),function zq(n,t,e,r,i,s,c,d){return new ql(n,t,e,r,i,s,c,d)}(t,i,c,s,d,"F",f,g)}function M8(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=$y(e.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$y(e.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=$y(e.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=$y(e.unaryFilter.field);return ut.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):void 0!==n.fieldFilter?ut.create($y((e=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vt.create(e.compositeFilter.filters.map(r=>M8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(e.compositeFilter.op))}(n):xe();var e}function ote(n){return Qee[n]}function ste(n){return Yee[n]}function ate(n){return Zee[n]}function cd(n){return{fieldPath:n.canonicalString()}}function $y(n){return vn.fromServerFormat(n.fieldPath)}function R8(n){return n instanceof ut?function(e){if("=="===e.op){if(Tq(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NAN"}};if(xq(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tq(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NOT_NAN"}};if(xq(e.value))return{unaryFilter:{field:cd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cd(e.field),op:ste(e.op),value:e.value}}}(n):n instanceof Vt?function(e){const r=e.getFilters().map(i=>R8(i));return 1===r.length?r[0]:{compositeFilter:{op:ate(e.op),filters:r}}}(n):xe()}function lte(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function P8(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ql{constructor(t,e,r,i,s=Pe.min(),c=Pe.min(),d=Pn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(t){return new Ql(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ql(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class k8{constructor(t){this.Tt=t}}function Kj(n){const t=S8({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?KP(t,t.limit,"L"):t}class hp{constructor(){}At(t,e){this.Rt(t,e),e.Vt()}Rt(t,e){if("nullValue"in t)this.ft(e,5);else if("booleanValue"in t)this.ft(e,10),e.gt(t.booleanValue?1:0);else if("integerValue"in t)this.ft(e,15),e.gt(bn(t.integerValue));else if("doubleValue"in t){const r=bn(t.doubleValue);isNaN(r)?this.ft(e,13):(this.ft(e,15),lI(r)?e.gt(0):e.gt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.ft(e,20),"string"==typeof r&&(r=Wl(r)),e.yt(`${r.seconds||""}`),e.gt(r.nanos||0)}else if("stringValue"in t)this.wt(t.stringValue,e),this.St(e);else if("bytesValue"in t)this.ft(e,30),e.bt(Gl(t.bytesValue)),this.St(e);else if("referenceValue"in t)this.Dt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.ft(e,45),e.gt(r.latitude||0),e.gt(r.longitude||0)}else"mapValue"in t?Dq(t)?this.ft(e,Number.MAX_SAFE_INTEGER):WP(t)?this.vt(t.mapValue,e):(this.Ct(t.mapValue,e),this.St(e)):"arrayValue"in t?(this.Ft(t.arrayValue,e),this.St(e)):xe()}wt(t,e){this.ft(e,25),this.Mt(t,e)}Mt(t,e){e.yt(t)}Ct(t,e){const r=t.fields||{};this.ft(e,55);for(const i of Object.keys(r))this.wt(i,e),this.Rt(r[i],e)}vt(t,e){var r,i;const s=t.fields||{};this.ft(e,53);const c=ky,d=(null===(i=null===(r=s[c].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.ft(e,15),e.gt(bn(d)),this.wt(c,e),this.Rt(s[c],e)}Ft(t,e){const r=t.values||[];this.ft(e,50);for(const i of r)this.Rt(i,e)}Dt(t,e){this.ft(e,37),_e.fromName(t).path.forEach(r=>{this.ft(e,60),this.Mt(r,e)})}ft(t,e){t.gt(e)}St(t){t.gt(2)}}hp.xt=new hp;class _te{constructor(){this.Tn=new eU}addToCollectionParentIndex(t,e){return this.Tn.add(e),X.resolve()}getCollectionParents(t,e){return X.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return X.resolve()}deleteFieldIndex(t,e){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,e){return X.resolve()}getDocumentsMatchingTarget(t,e){return X.resolve(null)}getIndexType(t,e){return X.resolve(0)}getFieldIndexes(t,e){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,e){return X.resolve(mo.min())}getMinOffsetFromCollectionGroup(t,e){return X.resolve(mo.min())}updateCollectionGroup(t,e,r){return X.resolve()}updateIndexEntries(t,e){return X.resolve()}}class eU{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Lt(ct.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Lt(ct.comparator)).toArray()}}new Uint8Array(0);const X8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ei{static withCacheSize(t){return new ei(t,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(41943040,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class pp{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new pp(0)}static Kn(){return new pp(-1)}}const t6="LruGarbageCollector";function r6([n,t],[e,r]){const i=je(n,e);return 0===i?je(t,r):i}class bte{constructor(t){this.Hn=t,this.buffer=new Lt(r6),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();r6(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class i6{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(t){var e=this;ae(t6,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,j.A)(function*(){e.Xn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(r){nd(r)?ae(t6,"Ignoring IndexedDB error during garbage collection: ",r):yield td(r)}yield e.er(3e5)}))}}class wte{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return X.resolve(_o.ae);const r=new bte(e);return this.tr.forEachTarget(t,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.tr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(X8)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X8):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let r,i,s,c,d,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,c=Date.now(),this.nthSequenceNumber(t,i))).next(b=>(r=b,d=Date.now(),this.removeTargets(t,r,e))).next(b=>(s=b,f=Date.now(),this.removeOrphanedDocuments(t,r))).next(b=>(g=Date.now(),Ey()<=it.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-y}ms\n\tDetermined least recently used ${i} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${b} documents in `+(g-f)+`ms\nTotal Duration: ${g-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:b})))}}class s6{constructor(){this.changes=new Kl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?X.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class xte{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class d6{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(null!==r&&xI(r.mutation,i,Hi.empty(),yn.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Qe()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Qe()){const i=Da();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let c=EI();return s.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const r=Da();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Qe()))}populateOverlays(t,e,r){const i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,r,i){let s=zi();const c=CI(),d=CI();return e.forEach((f,g)=>{const y=r.get(g.key);i.has(g.key)&&(void 0===y||y.mutation instanceof Xl)?s=s.insert(g.key,g):void 0!==y?(c.set(g.key,y.mutation.getFieldMask()),xI(y.mutation,g,y.mutation.getFieldMask(),yn.now())):c.set(g.key,Hi.empty())}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((g,y)=>c.set(g,y)),e.forEach((g,y)=>{var b;return d.set(g,new xte(y,null!==(b=c.get(g))&&void 0!==b?b:null))}),d))}recalculateAndSaveOverlays(t,e){const r=CI();let i=new Qt((c,d)=>c-d),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(f=>{const g=e.get(f);if(null===g)return;let y=r.get(f)||Hi.empty();y=d.applyToLocalView(g,y),r.set(f,y);const b=(i.get(d.batchId)||Qe()).add(f);i=i.insert(d.batchId,b)})}).next(()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,y=f.value,b=Zq();y.forEach(C=>{if(!s.has(C)){const x=s8(e.get(C),r.get(C));null!==x&&b.set(C,x),s=s.add(C)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return X.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return _e.isDocumentKey((c=e).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Oj(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i);var c}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{const c=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):X.resolve(Da());let d=-1,f=s;return c.next(g=>X.forEach(g,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),s.get(y)?X.resolve():this.remoteDocumentCache.getEntry(t,y).next(C=>{f=f.insert(y,C)}))).next(()=>this.populateOverlays(t,g,s)).next(()=>this.computeViews(t,f,g,Qe())).next(y=>({batchId:d,changes:Yq(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _e(e)).next(r=>{let i=EI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const s=e.collectionGroup;let c=EI();return this.indexManager.getCollectionParents(t,s).next(d=>X.forEach(d,f=>{const g=(b=e,C=f.child(s),new ql(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,C;return this.getDocumentsMatchingCollectionQuery(t,g,r,i).next(y=>{y.forEach((b,C)=>{c=c.insert(b,C)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(c=>{s.forEach((f,g)=>{const y=g.getKey();null===c.get(y)&&(c=c.insert(y,an.newInvalidDocument(y)))});let d=EI();return c.forEach((f,g)=>{const y=s.get(f);void 0!==y&&xI(y.mutation,g,Hi.empty(),yn.now()),wI(e,g)&&(d=d.insert(f,g))}),d})}}class Tte{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return X.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,{id:(i=e).id,version:i.version,createTime:Hn(i.createTime)}),X.resolve();var i}getNamedQuery(t,e){return X.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,{name:(i=e).name,query:Kj(i.bundledQuery),readTime:Hn(i.readTime)}),X.resolve();var i}}class Dte{constructor(){this.overlays=new Qt(_e.comparator),this.Rr=new Map}getOverlay(t,e){return X.resolve(this.overlays.get(e))}getOverlays(t,e){const r=Da();return X.forEach(e,i=>this.getOverlay(t,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.Et(t,e,s)}),X.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.Rr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(t,e,r){const i=Da(),s=e.length+1,c=new _e(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return X.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Qt((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>r){let y=s.get(g.largestBatchId);null===y&&(y=Da(),s=s.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Da(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=i)););return X.resolve(d)}Et(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Uj(e,r));let s=this.Rr.get(e);void 0===s&&(s=Qe(),this.Rr.set(e,s)),this.Rr.set(e,s.add(r.key))}}class Ate{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,X.resolve()}}class tU{constructor(){this.Vr=new Lt(Ar.mr),this.gr=new Lt(Ar.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const r=new Ar(t,e);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.wr(new Ar(t,e))}Sr(t,e){t.forEach(r=>this.removeReference(r,e))}br(t){const e=new _e(new ct([])),r=new Ar(e,t),i=new Ar(e,t+1),s=[];return this.gr.forEachInRange([r,i],c=>{this.wr(c),s.push(c.key)}),s}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new _e(new ct([])),r=new Ar(e,t),i=new Ar(e,t+1);let s=Qe();return this.gr.forEachInRange([r,i],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Ar(t,0),r=this.Vr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Ar{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return _e.comparator(t.key,e.key)||je(t.Cr,e.Cr)}static pr(t,e){return je(t.Cr,e.Cr)||_e.comparator(t.key,e.key)}}class Ste{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Lt(Ar.mr)}checkEmpty(t){return X.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const s=this.Fr;this.Fr++;const c=new Bj(s,e,r,i);this.mutationQueue.push(c);for(const d of i)this.Mr=this.Mr.add(new Ar(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return X.resolve(c)}lookupMutationBatch(t,e){return X.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.Nr(e+1),s=i<0?0:i;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(0===this.mutationQueue.length?-1:this.Fr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Ar(e,0),i=new Ar(e,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],c=>{const d=this.Or(c.Cr);s.push(d)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Lt(je);return e.forEach(i=>{const s=new Ar(i,0),c=new Ar(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,c],d=>{r=r.add(d.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const c=new Ar(new _e(s),0);let d=new Lt(je);return this.Mr.forEachWhile(f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(d=d.add(f.Cr)),!0)},c),X.resolve(this.Br(d))}Br(t){const e=[];return t.forEach(r=>{const i=this.Or(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){Re(0===this.Lr(e.batchId,"removed")),this.mutationQueue.shift();let r=this.Mr;return X.forEach(e.mutations,i=>{const s=new Ar(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,e){const r=new Ar(e,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return X.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Mte{constructor(t){this.kr=t,this.docs=new Qt(_e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,c=this.kr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return X.resolve(r?r.document.mutableCopy():an.newInvalidDocument(e))}getEntries(t,e){let r=zi();return e.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():an.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=zi();const c=e.path,d=new _e(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||mj(new mo((n=y).readTime,n.key,-1),r)<=0||(i.has(y.key)||wI(e,y))&&(s=s.insert(y.key,y.mutableCopy()))}var n;return X.resolve(s)}getAllFromCollectionGroup(t,e,r,i){xe()}qr(t,e){return X.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Rte(this)}getSize(t){return X.resolve(this.size)}}class Rte extends s6{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(r)}),X.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}class Pte{constructor(t){this.persistence=t,this.Qr=new Kl(e=>sp(e),vI),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new tU,this.targetCount=0,this.Kr=pp.Un()}forEachTarget(t,e){return this.Qr.forEach((r,i)=>e(i)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.$r&&(this.$r=e),X.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new pp(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,X.resolve()}updateTargetData(t,e){return this.zn(e),X.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=e&&null===r.get(d.targetId)&&(this.Qr.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),i++)}),X.waitFor(s).next(()=>i)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,e){const r=this.Qr.get(e)||null;return X.resolve(r)}addMatchingKeys(t,e,r){return this.Ur.yr(e,r),X.resolve()}removeMatchingKeys(t,e,r){this.Ur.Sr(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(c=>{s.push(i.markPotentiallyOrphaned(t,c))}),X.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),X.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Ur.vr(e);return X.resolve(r)}containsKey(t,e){return X.resolve(this.Ur.containsKey(e))}}class nU{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new _o(0),this.zr=!1,this.zr=!0,this.jr=new Ate,this.referenceDelegate=t(this),this.Hr=new Pte(this),this.indexManager=new _te,this.remoteDocumentCache=new Mte(r=>this.referenceDelegate.Jr(r)),this.serializer=new k8(e),this.Yr=new Tte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Dte,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Wr[t.toKey()];return r||(r=new Ste(e,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,r){ae("MemoryPersistence","Starting transaction:",t);const i=new kte(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(t,e){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,e)))}}class kte extends Y5{constructor(t){super(),this.currentSequenceNumber=t}}class ck{constructor(t){this.persistence=t,this.ti=new tU,this.ni=null}static ri(t){return new ck(t)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(t,e,r){return this.ti.addReference(r,e),this.ii.delete(r.toString()),X.resolve()}removeReference(t,e,r){return this.ti.removeReference(r,e),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),X.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(t,i).next(s=>{s||e.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(r=>{r?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return X.or([()=>X.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class uk{constructor(t,e){this.persistence=t,this.oi=new Kl(r=>function Zr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tq(t)),t=ZJ(n.get(e),t);return tq(t)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function o6(n,t){return new wte(n,t)}(this,e)}static ri(t,e){return new uk(t,e)}Zr(){}Xr(t){return X.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}sr(t){let e=0;return this.rr(t,r=>{e++}).next(()=>e)}rr(t,e){return X.forEach(this.oi,(r,i)=>this.ar(t,r,i).next(s=>s?X.resolve():e(i)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(t,c=>this.ar(t,c,e).next(d=>{d||(r++,s.removeEntry(c,Pe.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),X.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.oi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,e,r){return this.oi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),X.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zP(t.data.value)),e}ar(t,e,r){return X.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.oi.get(e);return X.resolve(void 0!==i&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class lU{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Hi=r,this.Ji=i}static Yi(t,e){let r=Qe(),i=Qe();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lU(t,e.fromCache,r,i)}}class Nte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class p6{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function KD(){return!function $D(){var n;const t=null===(n=F0())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Z5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(In())>0?6:4}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,r,i){const s={result:null};return this.rs(t,e).next(c=>{s.result=c}).next(()=>{if(!s.result)return this.ss(t,e,i,r).next(c=>{s.result=c})}).next(()=>{if(s.result)return;const c=new Nte;return this._s(t,e,c).next(d=>{if(s.result=d,this.Xi)return this.us(t,e,c,d.size)})}).next(()=>s.result)}us(t,e,r,i){return r.documentReadCount<this.es?(Ey()<=it.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Vy(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Ey()<=it.DEBUG&&ae("QueryEngine","Query:",Vy(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ey()<=it.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Vy(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Jr(e))):X.resolve())}rs(t,e){if($q(e))return X.resolve(null);let r=Jr(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=KP(e,null,"F"),r=Jr(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const c=Qe(...s);return this.ns.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,r).next(f=>{const g=this.cs(e,d);return this.ls(e,g,c,f.readTime)?this.rs(t,KP(e,null,"F")):this.hs(t,g,e,f)}))})))}ss(t,e,r,i){return $q(e)||i.isEqual(Pe.min())?X.resolve(null):this.ns.getDocuments(t,r).next(s=>{const c=this.cs(e,s);return this.ls(e,c,r,i)?X.resolve(null):(Ey()<=it.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vy(e)),this.hs(t,c,e,function K5(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(1e9===r?new yn(e+1,0):new yn(e,r));return new mo(i,_e.empty(),t)}(i,-1)).next(d=>d))})}cs(t,e){let r=new Lt(Xq(t));return e.forEach((i,s)=>{wI(t,s)&&(r=r.add(s))}),r}ls(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(t,e,r){return Ey()<=it.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Vy(e)),this.ns.getDocumentsMatchingQuery(t,e,mo.min(),r)}hs(t,e,r,i){return this.ns.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}const cU="LocalStore";class Lte{constructor(t,e,r,i){this.persistence=t,this.Ps=e,this.serializer=i,this.Ts=new Qt(je),this.Is=new Kl(s=>sp(s),vI),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new d6(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function g6(n,t){return uU.apply(this,arguments)}function uU(){return(uU=(0,j.A)(function*(n,t){const e=me(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.As(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const c=[],d=[];let f=Qe();for(const g of i){c.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of s){d.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(r,f).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})})).apply(this,arguments)}function _6(n){const t=me(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function jte(n,t){const e=me(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Yy(n,t,e){return dU.apply(this,arguments)}function dU(){return(dU=(0,j.A)(function*(n,t,e){const r=me(n),i=r.Ts.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",s,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!nd(c))throw c;ae(cU,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)})).apply(this,arguments)}function hk(n,t,e){const r=me(n);let i=Pe.min(),s=Qe();return r.persistence.runTransaction("Execute query","readwrite",c=>function(f,g,y){const b=me(f),C=b.Is.get(y);return void 0!==C?X.resolve(b.Ts.get(C)):b.Hr.getTargetData(g,y)}(r,c,Jr(t)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(f=>{s=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,t,e?i:Pe.min(),e?s:Qe())).next(d=>(function w6(n,t,e){let r=n.Es.get(t)||Pe.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(t,r)}(r,function Kq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),d),{documents:d,gs:s})))}class gU{constructor(){this.activeTargetIds=function Fj(){return jee}()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class D6{constructor(){this.ho=new gU,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,r){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new gU,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class zte{To(t){}shutdown(){}}const A6="ConnectivityMonitor";class S6{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(A6,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ae(A6,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mk=null;function yU(){return null===mk?mk=268435456+Math.round(2147483648*Math.random()):mk++,"0x"+mk.toString(16)}const vU="RestConnection",$te={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wte{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===pI?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(t,e,r,i,s){const c=yU(),d=this.bo(t,e.toUriEncodedString());ae(vU,`Sending RPC '${t}' ${c}:`,d,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,s),this.vo(t,d,f,r).then(g=>(ae(vU,`Received RPC '${t}' ${c}: `,g),g),g=>{throw Wo(vU,`RPC '${t}' ${c} failed with error: `,g,"url: ",d,"request:",r),g})}Co(t,e,r,i,s,c){return this.So(t,e,r,i,s)}Do(t,e,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+wy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}bo(t,e){return`${this.po}/v1/${e}:${$te[t]}`}terminate(){}}class Gte{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}const ti="WebChannelConnection";class qte extends Wte{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,r,i){const s=yU();return new Promise((c,d)=>{const f=new N5;f.setWithCredentials(!0),f.listenOnce(F5.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case DP.NO_ERROR:const y=f.getResponseJson();ae(ti,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(y)),c(y);break;case DP.TIMEOUT:ae(ti,`RPC '${t}' ${s} timed out`),d(new le(te.DEADLINE_EXCEEDED,"Request time out"));break;case DP.HTTP_ERROR:const b=f.getStatus();if(ae(ti,`RPC '${t}' ${s} failed with status:`,b,"response text:",f.getResponseText()),b>0){let C=f.getResponseJson();Array.isArray(C)&&(C=C[0]);const x=C?.error;if(x&&x.status&&x.message){const S=function(R){const B=R.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN}(x.status);d(new le(S,x.message))}else d(new le(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new le(te.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ae(ti,`RPC '${t}' ${s} completed.`)}});const g=JSON.stringify(i);ae(ti,`RPC '${t}' ${s} sending request:`,i),f.send(e,"POST",g,r,15)})}Wo(t,e,r){const i=yU(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=B5(),d=V5(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,e,r),f.encodeInitMessageHeaders=!0;const y=s.join("");ae(ti,`Creating RPC '${t}' stream ${i}: ${y}`,f);const b=c.createWebChannel(y,f);let C=!1,x=!1;const S=new Gte({Fo:R=>{x?ae(ti,`Not sending because RPC '${t}' stream ${i} is closed:`,R):(C||(ae(ti,`Opening RPC '${t}' stream ${i} transport.`),b.open(),C=!0),ae(ti,`RPC '${t}' stream ${i} sending:`,R),b.send(R))},Mo:()=>b.close()}),M=(R,B,H)=>{R.listen(B,G=>{try{H(G)}catch(Y){setTimeout(()=>{throw Y},0)}})};return M(b,iI.EventType.OPEN,()=>{x||(ae(ti,`RPC '${t}' stream ${i} transport opened.`),S.Qo())}),M(b,iI.EventType.CLOSE,()=>{x||(x=!0,ae(ti,`RPC '${t}' stream ${i} transport closed`),S.Uo())}),M(b,iI.EventType.ERROR,R=>{x||(x=!0,Wo(ti,`RPC '${t}' stream ${i} transport errored:`,R),S.Uo(new le(te.UNAVAILABLE,"The operation could not be completed")))}),M(b,iI.EventType.MESSAGE,R=>{var B;if(!x){const H=R.data[0];Re(!!H);const G=H,Y=G?.error||(null===(B=G[0])||void 0===B?void 0:B.error);if(Y){ae(ti,`RPC '${t}' stream ${i} received error:`,Y);const Q=Y.status;let Z=function(L){const z=or[L];if(void 0!==z)return f8(z)}(Q),V=Y.message;void 0===Z&&(Z=te.INTERNAL,V="Unknown error status: "+Q+" with message "+Y.message),x=!0,S.Uo(new le(Z,V)),b.close()}else ae(ti,`RPC '${t}' stream ${i} received:`,H),S.Ko(H)}}),M(d,L5.STAT_EVENT,R=>{R.stat===lj.PROXY?ae(ti,`RPC '${t}' stream ${i} detected buffering proxy`):R.stat===lj.NOPROXY&&ae(ti,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function gk(){return typeof document<"u"?document:null}function VI(n){return new Jee(n,!0)}class bU{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Ti=t,this.timerId=e,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,e-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const R6="PersistentStream";class P6{constructor(t,e,r,i,s,c,d,f){this.Ti=t,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new bU(t,e)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}stop(){var t=this;return(0,j.A)(function*(){t.u_()&&(yield t.close(0))})()}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}T_(){var t=this;return(0,j.A)(function*(){if(t.c_())return t.close(0)})()}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(t,e){var r=this;return(0,j.A)(function*(){r.E_(),r.d_(),r.a_.cancel(),r.i_++,4!==t?r.a_.reset():e&&e.code===te.RESOURCE_EXHAUSTED?(Un(e.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),r.a_.Zo()):e&&e.code===te.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.A_(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Lo(e)})()}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===e&&this.V_(r,i)},r=>{t(()=>{const i=new le(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(t,e){const r=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.__?this.g_(i):this.onNext(i))})}l_(){var t=this;this.state=5,this.a_.Xo((0,j.A)(function*(){t.state=0,t.start()}))}m_(t){return ae(R6,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(ae(R6,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kte extends P6{constructor(t,e,r,i,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,c),this.serializer=s}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=function nte(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:xe(),i=t.targetChange.targetIds||[],s=function(g,y){return g.useProto3Json?(Re(void 0===y||"string"==typeof y),Pn.fromBase64String(y||"")):(Re(void 0===y||y instanceof Buffer||y instanceof Uint8Array),Pn.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(g){const y=void 0===g.code?te.UNKNOWN:f8(g.code);return new le(y,g.message||"")}(c);e=new _8(r,i,s,d||null)}else if("documentChange"in t){const r=t.documentChange,i=Aa(n,r.document.name),s=Hn(r.document.updateTime),c=r.document.createTime?Hn(r.document.createTime):Pe.min(),d=new Lr({mapValue:{fields:r.document.fields}}),f=an.newFoundDocument(i,s,c,d);e=new JP(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const r=t.documentDelete,i=Aa(n,r.document),s=r.readTime?Hn(r.readTime):Pe.min(),c=an.newNoDocument(i,s);e=new JP([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const r=t.documentRemove,i=Aa(n,r.document);e=new JP([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return xe();{const r=t.filter,{count:i=0,unchangedNames:s}=r,c=new qee(i,s);e=new g8(r.targetId,c)}}var g;return e}(this.serializer,t),r=function(s){if(!("targetChange"in s))return Pe.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?Pe.min():c.readTime?Hn(c.readTime):Pe.min()}(t);return this.listener.p_(e,r)}y_(t){const e={};e.database=Gj(this.serializer),e.addTarget=function(s,c){let d;const f=c.target;if(d=GP(f)?{documents:D8(s,f)}:{query:tk(s,f).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=b8(s,c.resumeToken);const g=zj(s,c.expectedCount);null!==g&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Pe.min())>0){d.readTime=zy(s,c.snapshotVersion.toTimestamp());const g=zj(s,c.expectedCount);null!==g&&(d.expectedCount=g)}return d}(this.serializer,t);const r=function ite(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.I_(e)}w_(t){const e={};e.database=Gj(this.serializer),e.removeTarget=t,this.I_(e)}}class Xte extends P6{constructor(t,e,r,i,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,c),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Re(!!t.streamToken),this.lastStreamToken=t.streamToken,Re(!t.writeResults||0===t.writeResults.length),this.listener.D_()}onNext(t){Re(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=function rte(n,t){return n&&n.length>0?(Re(void 0!==t),n.map(e=>function(i,s){let c=Hn(i.updateTime?i.updateTime:s);return c.isEqual(Pe.min())&&(c=Hn(s)),new $ee(c,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Hn(t.commitTime);return this.listener.v_(r,e)}C_(){const t={};t.database=Gj(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>function MI(n,t){let e;if(t instanceof Uy)e={update:x8(n,t.key,t.value)};else if(t instanceof Hy)e={delete:SI(n,t.key)};else if(t instanceof Xl)e={update:x8(n,t.key,t.data),updateMask:lte(t.fieldMask)};else{if(!(t instanceof Vj))return xe();e={verify:SI(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(s,c){const d=c.transform;if(d instanceof By)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ap)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lp)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof jy)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw xe()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:ete(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:xe()),e;var s}(this.serializer,r))};this.I_(e)}}class Qte{}class Yte extends Qte{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.So(t,Wj(e,r),i,s,c)).catch(s=>{throw"FirebaseError"===s.name?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(te.UNKNOWN,s.toString())})}Co(t,e,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,Wj(e,r),i,c,d,s)).catch(c=>{throw"FirebaseError"===c.name?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(te.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Zte{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,"Online"===t&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Un(e),this.N_=!1):ae("OnlineStateTracker",e)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const gp="RemoteStore";class Jte{constructor(t,e,r,i,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(d=>{r.enqueueAndForget((0,j.A)(function*(){var f;pd(c)&&(ae(gp,"Restarting streams for network reachability change."),yield(f=(0,j.A)(function*(y){const b=me(y);b.W_.add(4),yield Zy(b),b.j_.set("Unknown"),b.W_.delete(4),yield BI(b)}),function g(y){return f.apply(this,arguments)})(c))}))}),this.j_=new Zte(r,i)}}function BI(n){return wU.apply(this,arguments)}function wU(){return(wU=(0,j.A)(function*(n){if(pd(n))for(const t of n.G_)yield t(!0)})).apply(this,arguments)}function Zy(n){return EU.apply(this,arguments)}function EU(){return(EU=(0,j.A)(function*(n){for(const t of n.G_)yield t(!1)})).apply(this,arguments)}function _k(n,t){const e=me(n);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),xU(e)?IU(e):tv(e).c_()&&CU(e,t))}function Jy(n,t){const e=me(n),r=tv(e);e.K_.delete(t),r.c_()&&k6(e,t),0===e.K_.size&&(r.c_()?r.P_():pd(e)&&e.j_.set("Unknown"))}function CU(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pe.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}tv(n).y_(t)}function k6(n,t){n.H_.Ne(t),tv(n).w_(t)}function IU(n){n.H_=new Xee({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.K_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),tv(n).start(),n.j_.B_()}function xU(n){return pd(n)&&!tv(n).u_()&&n.K_.size>0}function pd(n){return 0===me(n).W_.size}function O6(n){n.H_=void 0}function ene(n){return TU.apply(this,arguments)}function TU(){return(TU=(0,j.A)(function*(n){n.j_.set("Online")})).apply(this,arguments)}function tne(n){return DU.apply(this,arguments)}function DU(){return(DU=(0,j.A)(function*(n){n.K_.forEach((t,e)=>{CU(n,t)})})).apply(this,arguments)}function nne(n,t){return AU.apply(this,arguments)}function AU(){return(AU=(0,j.A)(function*(n,t){O6(n),xU(n)?(n.j_.q_(t),IU(n)):n.j_.set("Unknown")})).apply(this,arguments)}function rne(n,t,e){return SU.apply(this,arguments)}function SU(){return SU=(0,j.A)(function*(n,t,e){if(n.j_.set("Online"),t instanceof _8&&2===t.state&&t.cause)try{yield(r=(0,j.A)(function*(s,c){const d=c.cause;for(const f of c.targetIds)s.K_.has(f)&&(yield s.remoteSyncer.rejectListen(f,d),s.K_.delete(f),s.H_.removeTarget(f))}),function i(s,c){return r.apply(this,arguments)})(n,t)}catch(r){ae(gp,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield yk(n,r)}else if(t instanceof JP?n.H_.We(t):t instanceof g8?n.H_.Ze(t):n.H_.je(t),!e.isEqual(Pe.min()))try{const r=yield _6(n.localStore);e.compareTo(r)>=0&&(yield function(s,c){const d=s.H_.ot(c);return d.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=s.K_.get(g);y&&s.K_.set(g,y.withResumeToken(f.resumeToken,c))}}),d.targetMismatches.forEach((f,g)=>{const y=s.K_.get(f);if(!y)return;s.K_.set(f,y.withResumeToken(Pn.EMPTY_BYTE_STRING,y.snapshotVersion)),k6(s,f);const b=new Ql(y.target,f,g,y.sequenceNumber);CU(s,b)}),s.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(r){ae(gp,"Failed to raise snapshot:",r),yield yk(n,r)}var r}),SU.apply(this,arguments)}function yk(n,t,e){return MU.apply(this,arguments)}function MU(){return(MU=(0,j.A)(function*(n,t,e){if(!nd(t))throw t;n.W_.add(1),yield Zy(n),n.j_.set("Offline"),e||(e=()=>_6(n.localStore)),n.asyncQueue.enqueueRetryable((0,j.A)(function*(){ae(gp,"Retrying IndexedDB access"),yield e(),n.W_.delete(1),yield BI(n)}))})).apply(this,arguments)}function N6(n,t){return t().catch(e=>yk(n,e,t))}function ev(n){return RU.apply(this,arguments)}function RU(){return(RU=(0,j.A)(function*(n){const t=me(n),e=md(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:-1;for(;ine(t);)try{const i=yield jte(t.localStore,r);if(null===i){0===t.U_.length&&e.P_();break}r=i.batchId,one(t,i)}catch(i){yield yk(t,i)}F6(t)&&L6(t)})).apply(this,arguments)}function ine(n){return pd(n)&&n.U_.length<10}function one(n,t){n.U_.push(t);const e=md(n);e.c_()&&e.S_&&e.b_(t.mutations)}function F6(n){return pd(n)&&!md(n).u_()&&n.U_.length>0}function L6(n){md(n).start()}function sne(n){return PU.apply(this,arguments)}function PU(){return(PU=(0,j.A)(function*(n){md(n).C_()})).apply(this,arguments)}function ane(n){return kU.apply(this,arguments)}function kU(){return(kU=(0,j.A)(function*(n){const t=md(n);for(const e of n.U_)t.b_(e.mutations)})).apply(this,arguments)}function lne(n,t,e){return OU.apply(this,arguments)}function OU(){return(OU=(0,j.A)(function*(n,t,e){const r=n.U_.shift(),i=jj.from(r,t,e);yield N6(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ev(n)})).apply(this,arguments)}function cne(n,t){return NU.apply(this,arguments)}function NU(){return NU=(0,j.A)(function*(n,t){var e;t&&md(n).S_&&(yield(e=(0,j.A)(function*(i,s){if(function h8(n){switch(n){case te.OK:return xe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe()}}(d=s.code)&&d!==te.ABORTED){const c=i.U_.shift();md(i).h_(),yield N6(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield ev(i)}var d}),function r(i,s){return e.apply(this,arguments)})(n,t)),F6(n)&&L6(n)}),NU.apply(this,arguments)}function V6(n,t){return FU.apply(this,arguments)}function FU(){return(FU=(0,j.A)(function*(n,t){const e=me(n);e.asyncQueue.verifyOperationInProgress(),ae(gp,"RemoteStore received new credentials");const r=pd(e);e.W_.add(3),yield Zy(e),r&&e.j_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),yield BI(e)})).apply(this,arguments)}function VU(){return(VU=(0,j.A)(function*(n,t){const e=me(n);t?(e.W_.delete(2),yield BI(e)):t||(e.W_.add(2),yield Zy(e),e.j_.set("Unknown"))})).apply(this,arguments)}function tv(n){return n.J_||(n.J_=function(e,r,i){const s=me(e);return s.M_(),new Kte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:ene.bind(null,n),No:tne.bind(null,n),Lo:nne.bind(null,n),p_:rne.bind(null,n)}),n.G_.push(function(){var t=(0,j.A)(function*(e){e?(n.J_.h_(),xU(n)?IU(n):n.j_.set("Unknown")):(yield n.J_.stop(),O6(n))});return function(e){return t.apply(this,arguments)}}())),n.J_}function md(n){return n.Y_||(n.Y_=function(e,r,i){const s=me(e);return s.M_(),new Xte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:sne.bind(null,n),Lo:cne.bind(null,n),D_:ane.bind(null,n),v_:lne.bind(null,n)}),n.G_.push(function(){var t=(0,j.A)(function*(e){e?(n.Y_.h_(),yield ev(n)):(yield n.Y_.stop(),n.U_.length>0&&(ae(gp,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))});return function(e){return t.apply(this,arguments)}}())),n.Y_}class BU{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){const c=Date.now()+r,d=new BU(t,e,c,i,s);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new le(te.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(n,t){if(Un("AsyncQueue",`${t}: ${n}`),nd(n))return new le(te.UNAVAILABLE,`${t}: ${n}`);throw n}class rv{static emptySet(t){return new rv(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||_e.comparator(e.key,r.key):(e,r)=>_e.comparator(e.key,r.key),this.keyedMap=EI(),this.sortedSet=new Qt(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof rv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new rv;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class B6{constructor(){this.Z_=new Qt(_e.comparator)}track(t){const e=t.doc.key,r=this.Z_.get(e);r?0!==t.type&&3===r.type?this.Z_=this.Z_.insert(e,t):3===t.type&&1!==r.type?this.Z_=this.Z_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Z_=this.Z_.remove(e):1===t.type&&2===r.type?this.Z_=this.Z_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):xe():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,r)=>{t.push(r)}),t}}class iv{constructor(t,e,r,i,s,c,d,f,g){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,r,i,s){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new iv(t,e,rv.emptySet(e),c,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bI(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class une{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class dne{constructor(){this.queries=j6(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,r){const i=me(e),s=i.queries;i.queries=j6(),s.forEach((c,d)=>{for(const f of d.ta)f.onError(r)})}(this,new le(te.ABORTED,"Firestore shutting down"))}}function j6(){return new Kl(n=>qq(n),bI)}function UU(){return(UU=(0,j.A)(function*(n,t){const e=me(n);let r=3;const i=t.query;let s=e.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new une,r=t.ra()?0:1);try{switch(r){case 0:s.ea=yield e.onListen(i,!0);break;case 1:s.ea=yield e.onListen(i,!1);break;case 2:yield e.onFirstRemoteStoreListen(i)}}catch(c){const d=nv(c,`Initialization of query '${Vy(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.ta.push(t),t.sa(e.onlineState),s.ea&&t.oa(s.ea)&&$U(e)})).apply(this,arguments)}function zU(){return(zU=(0,j.A)(function*(n,t){const e=me(n),r=t.query;let i=3;const s=e.queries.get(r);if(s){const c=s.ta.indexOf(t);c>=0&&(s.ta.splice(c,1),0===s.ta.length?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function hne(n,t){const e=me(n);let r=!1;for(const i of t){const c=e.queries.get(i.query);if(c){for(const d of c.ta)d.oa(i)&&(r=!0);c.ea=i}}r&&$U(e)}function fne(n,t,e){const r=me(n),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(e);r.queries.delete(t)}function $U(n){n.ia.forEach(t=>{t.next()})}var WU,U6;(U6=WU||(WU={}))._a="default",U6.Cache="cache";class GU{constructor(t,e,r){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new iv(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){return!t.fromCache||!this.ra()||(!this.options.Ta||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}la(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Pa(t){t=iv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==WU.Cache}}class $6{constructor(t){this.key=t}}class W6{constructor(t){this.key=t}}class G6{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Qe(),this.mutatedKeys=Qe(),this.ya=Xq(t),this.wa=new rv(this.ya)}get Sa(){return this.fa}ba(t,e){const r=e?e.Da:new B6,i=e?e.wa:this.wa;let s=e?e.mutatedKeys:this.mutatedKeys,c=i,d=!1;const f="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,g="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((y,b)=>{const C=i.get(y),x=wI(this.query,b)?b:null,S=!!C&&this.mutatedKeys.has(C.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;C&&x?C.data.isEqual(x.data)?S!==M&&(r.track({type:3,doc:x}),R=!0):this.va(C,x)||(r.track({type:2,doc:x}),R=!0,(f&&this.ya(x,f)>0||g&&this.ya(x,g)<0)&&(d=!0)):!C&&x?(r.track({type:0,doc:x}),R=!0):C&&!x&&(r.track({type:1,doc:C}),R=!0,(f||g)&&(d=!0)),R&&(x?(c=c.add(x),s=M?s.add(y):s.delete(y)):(c=c.delete(y),s=s.delete(y)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const y="F"===this.query.limitType?c.last():c.first();c=c.delete(y.key),s=s.delete(y.key),r.track({type:1,doc:y})}return{wa:c,Da:r,ls:d,mutatedKeys:s}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const s=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort((y,b)=>function(x,S){const M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return M(x)-M(S)}(y.type,b.type)||this.ya(y.doc,b.doc)),this.Ca(r),i=null!=i&&i;const d=e&&!i?this.Fa():[],f=0===this.pa.size&&this.current&&!i?1:0,g=f!==this.ga;return this.ga=f,0!==c.length||g?{snapshot:new iv(this.query,t.wa,s,c,t.mutatedKeys,0===f,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({wa:this.wa,Da:new B6,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Qe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const e=[];return t.forEach(r=>{this.pa.has(r)||e.push(new W6(r))}),this.pa.forEach(r=>{t.has(r)||e.push(new $6(r))}),e}Oa(t){this.fa=t.gs,this.pa=Qe();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return iv.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const gd="SyncEngine";class gne{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class _ne{constructor(t){this.key=t,this.Ba=!1}}class yne{constructor(t,e,r,i,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Kl(d=>qq(d),bI),this.qa=new Map,this.Qa=new Set,this.$a=new Qt(_e.comparator),this.Ua=new Map,this.Ka=new tU,this.Wa={},this.Ga=new Map,this.za=pp.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}function vne(n,t){return qU.apply(this,arguments)}function qU(){return(qU=(0,j.A)(function*(n,t,e=!0){const r=vk(n);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield q6(r,t,e,!0),i})).apply(this,arguments)}function bne(n,t){return KU.apply(this,arguments)}function KU(){return(KU=(0,j.A)(function*(n,t){const e=vk(n);yield q6(e,t,!0,!1)})).apply(this,arguments)}function q6(n,t,e,r){return XU.apply(this,arguments)}function XU(){return(XU=(0,j.A)(function*(n,t,e,r){const i=yield function Qy(n,t){const e=me(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Hr.getTargetData(r,t).next(s=>s?(i=s,X.resolve(i)):e.Hr.allocateTargetId(r).next(c=>(i=new Ql(t,c,"TargetPurposeListen",r.currentSequenceNumber),e.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.Ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(r.targetId,r),e.Is.set(t,r.targetId)),r})}(n.localStore,Jr(t)),s=i.targetId,c=n.sharedClientState.addLocalQueryTarget(s,e);let d;return r&&(d=yield function QU(n,t,e,r,i){return YU.apply(this,arguments)}(n,t,s,"current"===c,i.resumeToken)),n.isPrimaryClient&&e&&_k(n.remoteStore,i),d})).apply(this,arguments)}function YU(){return YU=(0,j.A)(function*(n,t,e,r,i){n.Ha=(b,C,x)=>{return(S=(0,j.A)(function*(R,B,H,G){let Y=B.view.ba(H);Y.ls&&(Y=yield hk(R.localStore,B.query,!1).then(({documents:k})=>B.view.ba(k,Y)));const Q=G&&G.targetChanges.get(B.targetId),Z=G&&null!=G.targetMismatches.get(B.targetId),V=B.view.applyChanges(Y,R.isPrimaryClient,Q,Z);return lH(R,B.targetId,V.Ma),V.snapshot}),function M(R,B,H,G){return S.apply(this,arguments)})(n,b,C,x);var S};const s=yield hk(n.localStore,t,!0),c=new G6(t,s.gs),d=c.ba(s.documents),f=AI.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,i),g=c.applyChanges(d,n.isPrimaryClient,f);lH(n,e,g.Ma);const y=new gne(t,e,c);return n.ka.set(t,y),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),g.snapshot}),YU.apply(this,arguments)}function wne(n,t,e){return ZU.apply(this,arguments)}function ZU(){return(ZU=(0,j.A)(function*(n,t,e){const r=me(n),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(c=>!bI(c,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&Jy(r.remoteStore,i.targetId),ov(r,i.targetId)}).catch(td))):(ov(r,i.targetId),yield Yy(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Ene(n,t){return JU.apply(this,arguments)}function JU(){return(JU=(0,j.A)(function*(n,t){const e=me(n),r=e.ka.get(t),i=e.qa.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Jy(e.remoteStore,r.targetId))})).apply(this,arguments)}function eH(){return(eH=(0,j.A)(function*(n,t,e){const r=function vH(n){const t=me(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Tne.bind(null,t),t}(n);try{const i=yield function(c,d){const f=me(c),g=yn.now(),y=d.reduce((x,S)=>x.add(S.key),Qe());let b,C;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=zi(),M=Qe();return f.ds.getEntries(x,y).next(R=>{S=R,S.forEach((B,H)=>{H.isValidDocument()||(M=M.add(B))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,S)).next(R=>{b=R;const B=[];for(const H of d){const G=Gee(H,b.get(H.key).overlayedDocument);null!=G&&B.push(new Xl(H.key,G,Rq(G.value.mapValue),wn.exists(!0)))}return f.mutationQueue.addMutationBatch(x,g,B,d)}).next(R=>{C=R;const B=R.applyToLocalDocumentSet(b,M);return f.documentOverlayCache.saveOverlays(x,R.batchId,B)})}).then(()=>({batchId:C.batchId,changes:Yq(b)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(c,d,f){let g=c.Wa[c.currentUser.toKey()];g||(g=new Qt(je)),g=g.insert(d,f),c.Wa[c.currentUser.toKey()]=g}(r,i.batchId,e),yield Yl(r,i.changes),yield ev(r.remoteStore)}catch(i){const s=nv(i,"Failed to persist write");e.reject(s)}})).apply(this,arguments)}function K6(n,t){return tH.apply(this,arguments)}function tH(){return(tH=(0,j.A)(function*(n,t){const e=me(n);try{const r=yield function Bte(n,t){const e=me(n),r=t.snapshotVersion;let i=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.ds.newChangeBuffer({trackRemovals:!0});i=e.Ts;const d=[];t.targetChanges.forEach((y,b)=>{const C=i.get(b);if(!C)return;d.push(e.Hr.removeMatchingKeys(s,y.removedDocuments,b).next(()=>e.Hr.addMatchingKeys(s,y.addedDocuments,b)));let x=C.withSequenceNumber(s.currentSequenceNumber);var M,R,B;null!==t.targetMismatches.get(b)?x=x.withResumeToken(Pn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,r)),i=i.insert(b,x),R=x,B=y,(0===(M=C).resumeToken.approximateByteSize()||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0)&&d.push(e.Hr.updateTargetData(s,x))});let f=zi(),g=Qe();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,y))}),d.push(function y6(n,t,e){let r=Qe(),i=Qe();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let c=zi();return e.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(t.removeEntry(d,f.readTime),c=c.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(d,f)):ae(cU,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{Vs:c,fs:i}})}(s,c,t.documentUpdates).next(y=>{f=y.Vs,g=y.fs})),!r.isEqual(Pe.min())){const y=e.Hr.getLastRemoteSnapshotVersion(s).next(b=>e.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(y)}return X.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(e.Ts=i,s))}(e.localStore,t);t.targetChanges.forEach((i,s)=>{const c=e.Ua.get(s);c&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Ba=!0:i.modifiedDocuments.size>0?Re(c.Ba):i.removedDocuments.size>0&&(Re(c.Ba),c.Ba=!1))}),yield Yl(e,r,t)}catch(r){yield td(r)}})).apply(this,arguments)}function X6(n,t,e){const r=me(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.ka.forEach((s,c)=>{const d=c.view.sa(t);d.snapshot&&i.push(d.snapshot)}),function(c,d){const f=me(c);f.onlineState=d;let g=!1;f.queries.forEach((y,b)=>{for(const C of b.ta)C.sa(d)&&(g=!0)}),g&&$U(f)}(r.eventManager,t),i.length&&r.La.p_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ine(n,t,e){return nH.apply(this,arguments)}function nH(){return(nH=(0,j.A)(function*(n,t,e){const r=me(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Ua.get(t),s=i&&i.key;if(s){let c=new Qt(_e.comparator);c=c.insert(s,an.newNoDocument(s,Pe.min()));const d=Qe().add(s),f=new DI(Pe.min(),new Map,new Qt(je),c,d);yield K6(r,f),r.$a=r.$a.remove(s),r.Ua.delete(t),cH(r)}else yield Yy(r.localStore,t,!1).then(()=>ov(r,t,e)).catch(td)})).apply(this,arguments)}function xne(n,t){return rH.apply(this,arguments)}function rH(){return(rH=(0,j.A)(function*(n,t){const e=me(n),r=t.batch.batchId;try{const i=yield function Vte(n,t){const e=me(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=e.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,g,y){const b=g.batch,C=b.keys();let x=X.resolve();return C.forEach(S=>{x=x.next(()=>y.getEntry(f,S)).next(M=>{const R=g.docVersions.get(S);Re(null!==R),M.version.compareTo(R)<0&&(b.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),y.addEntry(M)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,b))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Qe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(f=f.add(d.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}(e.localStore,t);aH(e,r,null),sH(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Yl(e,i)}catch(i){yield td(i)}})).apply(this,arguments)}function Tne(n,t,e){return iH.apply(this,arguments)}function iH(){return(iH=(0,j.A)(function*(n,t,e){const r=me(n);try{const i=yield function(c,d){const f=me(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,d).next(b=>(Re(null!==b),y=b.keys(),f.mutationQueue.removeMutationBatch(g,b))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(r.localStore,t);aH(r,t,e),sH(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Yl(r,i)}catch(i){yield td(i)}})).apply(this,arguments)}function sH(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function aH(n,t,e){const r=me(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function ov(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.qa.get(t))n.ka.delete(r),e&&n.La.Ja(r,e);n.qa.delete(t),n.isPrimaryClient&&n.Ka.br(t).forEach(r=>{n.Ka.containsKey(r)||Q6(n,r)})}function Q6(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);null!==e&&(Jy(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ua.delete(e),cH(n))}function lH(n,t,e){for(const r of e)r instanceof $6?(n.Ka.addReference(r.key,t),Ane(n,r)):r instanceof W6?(ae(gd,"Document no longer in limbo: "+r.key),n.Ka.removeReference(r.key,t),n.Ka.containsKey(r.key)||Q6(n,r.key)):xe()}function Ane(n,t){const e=t.key,r=e.path.canonicalString();n.$a.get(e)||n.Qa.has(r)||(ae(gd,"New document in limbo: "+e),n.Qa.add(r),cH(n))}function cH(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new _e(ct.fromString(t)),r=n.za.next();n.Ua.set(r,new _ne(e)),n.$a=n.$a.insert(e,r),_k(n.remoteStore,new Ql(Jr(Fy(e.path)),r,"TargetPurposeLimboResolution",_o.ae))}}function Yl(n,t,e){return uH.apply(this,arguments)}function uH(){return uH=(0,j.A)(function*(n,t,e){const r=me(n),i=[],s=[],c=[];var d;r.ka.isEmpty()||(r.ka.forEach((d,f)=>{c.push(r.Ha(f,t,e).then(g=>{var y;if((g||e)&&r.isPrimaryClient){const b=g?!g.fromCache:null===(y=e?.targetChanges.get(f.targetId))||void 0===y?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(g){i.push(g);const b=lU.Yi(f.targetId,g);s.push(b)}}))}),yield Promise.all(c),r.La.p_(i),yield(d=(0,j.A)(function*(g,y){const b=me(g);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>X.forEach(y,x=>X.forEach(x.Hi,S=>b.persistence.referenceDelegate.addReference(C,x.targetId,S)).next(()=>X.forEach(x.Ji,S=>b.persistence.referenceDelegate.removeReference(C,x.targetId,S)))))}catch(C){if(!nd(C))throw C;ae(cU,"Failed to update sequence numbers: "+C)}for(const C of y){const x=C.targetId;if(!C.fromCache){const S=b.Ts.get(x),R=S.withLastLimboFreeSnapshotVersion(S.snapshotVersion);b.Ts=b.Ts.insert(x,R)}}}),function f(g,y){return d.apply(this,arguments)})(r.localStore,s))}),uH.apply(this,arguments)}function Sne(n,t){return dH.apply(this,arguments)}function dH(){return(dH=(0,j.A)(function*(n,t){const e=me(n);if(!e.currentUser.isEqual(t)){ae(gd,"User change. New user:",t.toKey());const r=yield g6(e.localStore,t);e.currentUser=t,(s=e).Ga.forEach(d=>{d.forEach(f=>{f.reject(new le(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ga.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Yl(e,r.Rs)}var s})).apply(this,arguments)}function Mne(n,t){const e=me(n),r=e.Ua.get(t);if(r&&r.Ba)return Qe().add(r.key);{let i=Qe();const s=e.qa.get(t);if(!s)return i;for(const c of s){const d=e.ka.get(c);i=i.unionWith(d.view.Sa)}return i}}function vk(n){const t=me(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=K6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ine.bind(null,t),t.La.p_=hne.bind(null,t.eventManager),t.La.Ja=fne.bind(null,t.eventManager),t}let bk=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var r=this;return(0,j.A)(function*(){r.serializer=VI(e.databaseInfo.databaseId),r.sharedClientState=r.Za(e),r.persistence=r.Xa(e),yield r.persistence.start(),r.localStore=r.eu(e),r.gcScheduler=r.tu(e,r.localStore),r.indexBackfillerScheduler=r.nu(e,r.localStore)})()}tu(e,r){return null}nu(e,r){return null}eu(e){return function m6(n,t,e,r){return new Lte(n,t,e,r)}(this.persistence,new p6,e.initialUser,this.serializer)}Xa(e){return new nU(ck.ri,this.serializer)}Za(e){return new D6}terminate(){var e=this;return(0,j.A)(function*(){var r,i;null===(r=e.gcScheduler)||void 0===r||r.stop(),null===(i=e.indexBackfillerScheduler)||void 0===i||i.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class bH extends bk{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){return Re(this.persistence.referenceDelegate instanceof uk),new i6(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Xa(t){const e=void 0!==this.cacheSizeBytes?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new nU(r=>uk.ri(r,e),this.serializer)}}let sv=(()=>{class n{initialize(e,r){var i=this;return(0,j.A)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>X6(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=Sne.bind(null,i.syncEngine),yield function LU(n,t){return VU.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new dne}createDatastore(e){const r=VI(e.databaseInfo.databaseId),i=new qte(e.databaseInfo);return new Yte(e.authCredentials,e.appCheckCredentials,i,r)}createRemoteStore(e){return i=this.localStore,s=this.datastore,c=e.asyncQueue,d=r=>X6(this.syncEngine,r,0),f=S6.D()?new S6:new zte,new Jte(i,s,c,d,f);var i,s,c,d,f}createSyncEngine(e,r){return function(s,c,d,f,g,y,b){const C=new yne(s,c,d,f,g,y);return b&&(C.ja=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){var e=this;return(0,j.A)(function*(){var r,i,s;yield(s=(0,j.A)(function*(d){const f=me(d);ae(gp,"RemoteStore shutting down."),f.W_.add(5),yield Zy(f),f.z_.shutdown(),f.j_.set("Unknown")}),function c(d){return s.apply(this,arguments)})(e.remoteStore),null===(r=e.datastore)||void 0===r||r.terminate(),null===(i=e.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class wk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Un("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}const _d="FirestoreClient";class Hne{constructor(t,e,r,i,s){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=z5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,function(){var d=(0,j.A)(function*(f){ae(_d,"Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(ae(_d,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,j.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=nv(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function EH(n,t){return CH.apply(this,arguments)}function CH(){return CH=(0,j.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ae(_d,"Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,j.A)(function*(s){r.isEqual(s)||(yield g6(t.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),CH.apply(this,arguments)}function t9(n,t){return IH.apply(this,arguments)}function IH(){return(IH=(0,j.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function xH(n){return TH.apply(this,arguments)}(n);ae(_d,"Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>V6(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>V6(t.remoteStore,i)),n._onlineComponents=t})).apply(this,arguments)}function TH(){return(TH=(0,j.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(_d,"Using user provided OfflineComponentProvider");try{yield EH(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(i=t).name?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw t;Wo("Error using user provided cache. Falling back to memory cache: "+t),yield EH(n,new bk)}}else ae(_d,"Using default OfflineComponentProvider"),yield EH(n,new bH(void 0));var i;return n._offlineComponents})).apply(this,arguments)}function Ek(n){return DH.apply(this,arguments)}function DH(){return(DH=(0,j.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(_d,"Using user provided OnlineComponentProvider"),yield t9(n,n._uninitializedComponentsProvider._online)):(ae(_d,"Using default OnlineComponentProvider"),yield t9(n,new sv))),n._onlineComponents})).apply(this,arguments)}function lv(n){return SH.apply(this,arguments)}function SH(){return(SH=(0,j.A)(function*(n){const t=yield Ek(n),e=t.eventManager;return e.onListen=vne.bind(null,t.syncEngine),e.onUnlisten=wne.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=bne.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Ene.bind(null,t.syncEngine),e})).apply(this,arguments)}function a9(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const l9=new Map;function MH(n,t,e){if(!e)throw new le(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function c9(n){if(!_e.isDocumentKey(n))throw new le(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u9(n){if(_e.isDocumentKey(n))throw new le(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ck(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(r=n).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof n?"a function":xe()}function st(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new le(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ck(n);throw new le(te.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}const h9="firestore.googleapis.com";class p9{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new le(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h9,this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new le(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function ere(n,t,e,r){if(!0===t&&!0===r)throw new le(te.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=a9(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jI{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p9({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new le(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p9(t),this._emulatorOptions=t.emulatorOptions||{},void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new LJ;switch(r.type){case"firstParty":return new UJ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,j.A)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=l9.get(e);r&&(ae("ComponentProvider","Removing Datastore"),l9.delete(e),r.terminate())}(this),Promise.resolve()}}class Vr{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Vr(this.firestore,t,this._query)}}class zn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}}class Ma extends Vr{constructor(t,e,r){super(t,e,Fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new _e(t))}withConverter(t){return new Ma(this.firestore,t,this._path)}}function nre(n,t,...e){if(n=Xt(n),MH("collection","path",t),n instanceof jI){const r=ct.fromString(t,...e);return u9(r),new Ma(n,null,r)}{if(!(n instanceof zn||n instanceof Ma))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(t,...e));return u9(r),new Ma(n.firestore,null,r)}}function m9(n,t,...e){if(n=Xt(n),1===arguments.length&&(t=z5.newId()),MH("doc","path",t),n instanceof jI){const r=ct.fromString(t,...e);return c9(r),new zn(n,null,new _e(r))}{if(!(n instanceof zn||n instanceof Ma))throw new le(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(t,...e));return c9(r),new zn(n.firestore,n instanceof Ma?n.converter:null,new _e(r))}}const _9="AsyncQueue";class y9{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new bU(this,"async_queue_retry"),this.Su=()=>{const r=gk();r&&ae(_9,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const e=gk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=gk();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new Dr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}Cu(){var t=this;return(0,j.A)(function*(){if(0!==t.Vu.length){try{yield t.Vu[0](),t.Vu.shift(),t.a_.reset()}catch(e){if(!nd(e))throw e;ae(_9,"Operation failed with retryable error: "+e)}t.Vu.length>0&&t.a_.Xo(()=>t.Cu())}})()}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(r=>{throw this.gu=r,this.pu=!1,Un("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.pu=!1,r))));return this.bu=e,e}enqueueAfterDelay(t,e,r){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const i=BU.createAndSchedule(this,t,e,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&xe()}verifyOperationInProgress(){}Mu(){var t=this;return(0,j.A)(function*(){let e;do{e=t.bu,yield e}while(e!==t.bu)})()}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function RH(n){return function(e){if("object"!=typeof e||null===e)return!1;const i=e;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class $t extends jI{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new y9,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,j.A)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new y9(e),t._firestoreClient=void 0,yield e}})()}}function ire(n,t){const e="object"==typeof n?n:mg(),r="string"==typeof n?n:t||pI,i=_s(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(()=>{const t=FN("firestore");if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),r]:[t.substring(0,e),r]})();s&&function tre(n,t,e,r={}){var i;const s=(n=st(n,jI))._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),d=`${t}:${e}`;s.host!==h9&&s.host!==d&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},s),{host:d,ssl:!1,emulatorOptions:r});if(!ps(f,c)&&(n._setSettings(f),r.mockUserToken)){let g,y;if("string"==typeof r.mockUserToken)g=r.mockUserToken,y=Tr.MOCK_USER;else{g=function LN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qs(JSON.stringify({alg:"none",type:"JWT"})),Qs(JSON.stringify(c)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new le(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Tr(b)}n._authCredentials=new VJ(new H5(g,y))}}(i,...s)}return i}function Tn(n){if(n._terminated)throw new le(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function v9(n){var t,e,r;const i=n._freezeSettings(),s=(f=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new xee(n._databaseId,f,n._persistenceKey,(y=i).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,a9(y.experimentalLongPollingOptions),y.useFetchStreams));var f,y;n._componentsProvider||!(null===(e=i.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Hne(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(d){const f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}}(n._componentsProvider))}(n),n._firestoreClient}class _p{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _p(Pn.fromBase64String(t))}catch(e){throw new le(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _p(Pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class yp{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new le(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class cv{constructor(t){this._methodName=t}}class kH{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new le(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new le(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return je(this._lat,t._lat)||je(this._long,t._long)}}class Ik{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}const sre=/^__.*__$/;class are{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Xl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Uy(t,this.data,e,this.fieldTransforms)}}class w9{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Xl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function E9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class xk{constructor(t,e,r,i,s,c){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new xk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ku({path:r,Qu:!1});return i.$u(t),i}Uu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Ak(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(0===t.length)throw this.Wu("Document fields must not be empty");if(E9(this.Lu)&&sre.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class lre{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||VI(t)}ju(t,e,r,i=!1){return new xk({Lu:t,methodName:e,zu:r,path:vn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vp(n){const t=n._freezeSettings(),e=VI(n._databaseId);return new lre(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Tk(n,t,e,r,i,s={}){const c=n.ju(s.merge||s.mergeFields?2:0,t,e,i);jH("Data must be an object, but it was:",c,r);const d=x9(r,c);let f,g;if(s.merge)f=new Hi(c.fieldMask),g=c.fieldTransforms;else if(s.mergeFields){const y=[];for(const b of s.mergeFields){const C=zI(t,b,e);if(!c.contains(C))throw new le(te.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);D9(y,C)||y.push(C)}f=new Hi(y),g=c.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,g=c.fieldTransforms;return new are(new Lr(d),f,g)}class HI extends cv{_toFieldTransform(t){if(2!==t.Lu)throw t.Wu(1===t.Lu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof HI}}function bp(n,t){if(T9(n=Xt(n)))return jH("Unsupported field value:",t,n),x9(n,t);if(n instanceof cv)return function(r,i){if(!E9(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(r,i){const s=[];let c=0;for(const d of r){let f=bp(d,i.Ku(c));null==f&&(f={nullValue:"NULL_VALUE"}),s.push(f),c++}return{arrayValue:{values:s}}}(n,t)}return function(r,i){if(null===(r=Xt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return e8(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=yn.fromDate(r);return{timestampValue:zy(i.serializer,s)}}if(r instanceof yn){const s=new yn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zy(i.serializer,s)}}if(r instanceof kH)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _p)return{bytesValue:b8(i.serializer,r._byteString)};if(r instanceof zn){const s=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw i.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$j(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ik)return c=r,d=i,{mapValue:{fields:{[Tj]:{stringValue:Dj},[ky]:{arrayValue:{values:c.toArray().map(g=>{if("number"!=typeof g)throw d.Wu("VectorValues must only contain numeric values.");return Lj(d.serializer,g)})}}}}};var c,d;throw i.Wu(`Unsupported field value: ${Ck(r)}`)}(n,t)}function x9(n,t){const e={};return mq(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):id(n,(r,i)=>{const s=bp(i,t.qu(r));null!=s&&(e[r]=s)}),{mapValue:{fields:e}}}function T9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yn||n instanceof kH||n instanceof _p||n instanceof zn||n instanceof cv||n instanceof Ik)}function jH(n,t,e){if(!T9(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Ck(e);throw t.Wu("an object"===r?n+" a custom object":n+" "+r)}var i}function zI(n,t,e){if((t=Xt(t))instanceof yp)return t._internalPath;if("string"==typeof t)return Dk(n,t);throw Ak("Field path arguments must be of type string or ",n,!1,void 0,e)}const cre=new RegExp("[~\\*/\\[\\]]");function Dk(n,t,e){if(t.search(cre)>=0)throw Ak(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new yp(...t.split("."))._internalPath}catch{throw Ak(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Ak(n,t,e,r,i){const s=r&&!r.isEmpty(),c=void 0!==i;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${r}`),c&&(f+=` in document ${i}`),f+=")"),new le(te.INVALID_ARGUMENT,d+n+f)}function D9(n,t){return n.some(e=>e.isEqual(t))}class $I{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new ure(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Sk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class ure extends $I{data(){return super.data()}}function Sk(n,t){return"string"==typeof t?Dk(n,t):t instanceof yp?t._internalPath:t._delegate._internalPath}class UH{}class WI extends UH{}function dre(n,t,...e){let r=[];t instanceof UH&&r.push(t),r=r.concat(e),function(s){const c=s.filter(f=>f instanceof uv).length,d=s.filter(f=>f instanceof GI).length;if(c>1||c>0&&d>0)throw new le(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class GI extends WI{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new GI(t,e,r)}_apply(t){const e=this._parse(t);return P9(t._query,e),new Vr(t.firestore,t.converter,Nj(t._query,e))}_parse(t){const e=vp(t.firestore);return function(s,c,d,f,g,y,b){let C;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new le(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){R9(b,y);const S=[];for(const M of b)S.push(M9(f,s,M));C={arrayValue:{values:S}}}else C=M9(f,s,b)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||R9(b,y),C=function I9(n,t,e,r=!1){return bp(e,n.ju(r?4:3,t))}(d,"where",b,"in"===y||"not-in"===y);return ut.create(g,y,C)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function hre(n,t,e){const r=t,i=Sk("where",n);return GI._create(i,r,e)}class uv extends UH{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new uv(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Vt.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,s){let c=i;const d=s.getFlattenedFilters();for(const f of d)P9(c,f),c=Nj(c,f)}(t._query,e),new Vr(t.firestore,t.converter,Nj(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function M9(n,t,e){if("string"==typeof(e=Xt(e))){if(""===e)throw new le(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oj(t)&&-1!==e.indexOf("/"))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(ct.fromString(e));if(!_e.isDocumentKey(r))throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return op(n,new _e(r))}if(e instanceof zn)return op(n,e._key);throw new le(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ck(e)}.`)}function R9(n,t){if(!Array.isArray(n)||0===n.length)throw new le(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function P9(n,t){const e=function(i,s){for(const c of i)for(const d of c.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new le(te.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class O9{convertValue(t,e="none"){switch(sd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xe()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return id(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){var e,r,i;const s=null===(i=null===(r=null===(e=t.fields)||void 0===e?void 0:e[ky].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(c=>bn(c.doubleValue));return new Ik(s)}convertGeoPoint(t){return new kH(bn(t.latitude),bn(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=UP(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(fI(t));default:return null}}convertTimestamp(t){const e=Wl(t);return new yn(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=ct.fromString(t);Re(P8(r));const i=new ip(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(e)||Un(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}class wp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dv extends $I{constructor(t,e,r,i,s,c){super(t,e,r,i,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ok(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(Sk("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class Ok extends dv{data(t={}){return super.data(t)}}class hv{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new wp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Ok(this._firestore,this._userDataWriter,r.key,r,new wp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new le(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new Ok(i._firestore,i._userDataWriter,d.doc.key,d.doc,new wp(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:c++}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const f=new Ok(i._firestore,i._userDataWriter,d.doc.key,d.doc,new wp(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==d.type&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:mre(d.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class yd extends O9{constructor(t){super(),this.firestore=t}convertBytes(t){return new _p(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,e)}}function gre(n,t,e){n=st(n,zn);const r=st(n.firestore,$t),i=function kk(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}(n.converter,t,e);return qI(r,[Tk(vp(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,wn.none())])}function _re(n,t,e,...r){n=st(n,zn);const i=st(n.firestore,$t),s=vp(i);let c;return c="string"==typeof(t=Xt(t))||t instanceof yp?function BH(n,t,e,r,i,s){const c=n.ju(1,t,e),d=[zI(t,r,e)],f=[i];if(s.length%2!=0)throw new le(te.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<s.length;C+=2)d.push(zI(t,s[C])),f.push(s[C+1]);const g=[],y=Lr.empty();for(let C=d.length-1;C>=0;--C)if(!D9(g,d[C])){const x=d[C];let S=f[C];S=Xt(S);const M=c.Uu(x);if(S instanceof HI)g.push(x);else{const R=bp(S,M);null!=R&&(g.push(x),y.set(x,R))}}const b=new Hi(g);return new w9(y,b,c.fieldTransforms)}(s,"updateDoc",n._key,t,e,r):function VH(n,t,e,r){const i=n.ju(1,t,e);jH("Data must be an object, but it was:",i,r);const s=[],c=Lr.empty();id(r,(f,g)=>{const y=Dk(t,f,e);g=Xt(g);const b=i.Uu(y);if(g instanceof HI)s.push(y);else{const C=bp(g,b);null!=C&&(s.push(y),c.set(y,C))}});const d=new Hi(s);return new w9(c,d,i.fieldTransforms)}(s,"updateDoc",n._key,t),qI(i,[c.toMutation(n._key,wn.exists(!0))])}function yre(n){return qI(st(n.firestore,$t),[new Hy(n._key,wn.none())])}function qI(n,t){return function(r,i){const s=new Dr;return r.asyncQueue.enqueueAndForget((0,j.A)(function*(){return function Cne(n,t,e){return eH.apply(this,arguments)}(yield function AH(n){return Ek(n).then(t=>t.syncEngine)}(r),i,s)})),s.promise}(Tn(n),t)}!function(t,e=!0){wy=Ys,kr(new No("firestore",(r,{instanceIdentifier:i,options:s})=>{const c=r.getProvider("app").getImmediate(),d=new $t(new BJ(r.getProvider("auth-internal")),new HJ(c,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ip(g.options.projectId,y)}(c,i),c);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),tr(j5,"4.7.10",t),tr(j5,"4.7.10","esm2017")}();var Fk=function(){return Fk=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var s in e=arguments[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Fk.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var kre={includeMetadataChanges:!1};function GH(n,t){return void 0===t&&(t=kre),new kt.c(function(e){var r=function vre(n,...t){var e,r,i;n=Xt(n);let s={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof t[c]||RH(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(RH(t[c])){const b=t[c];t[c]=null===(e=b.next)||void 0===e?void 0:e.bind(b),t[c+1]=null===(r=b.error)||void 0===r?void 0:r.bind(b),t[c+2]=null===(i=b.complete)||void 0===i?void 0:i.bind(b)}let f,g,y;if(n instanceof zn)g=st(n.firestore,$t),y=Fy(n._key.path),f={next:b=>{t[c]&&t[c](function zH(n,t,e){const r=e.docs.get(t._key),i=new yd(n);return new dv(n,i,t._key,r,new wp(e.hasPendingWrites,e.fromCache),t.converter)}(g,n,b))},error:t[c+1],complete:t[c+2]};else{const b=st(n,Vr);g=st(b.firestore,$t),y=b._query;const C=new yd(g);f={next:x=>{t[c]&&t[c](new hv(g,C,b,x))},error:t[c+1],complete:t[c+2]},function A9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new le(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(C,x,S,M){const R=new wk(M),B=new GU(x,R,S);return C.asyncQueue.enqueueAndForget((0,j.A)(function*(){return function jU(n,t){return UU.apply(this,arguments)}(yield lv(C),B)})),()=>{R.su(),C.asyncQueue.enqueueAndForget((0,j.A)(function*(){return function HU(n,t){return zU.apply(this,arguments)}(yield lv(C),B)}))}}(Tn(g),y,d,f)}(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:r}})}function jre(n,t){return void 0===t&&(t={}),function Bre(n){return GH(n,{includeMetadataChanges:!0}).pipe((0,ve.T)(function(t){return t.docs}))}(n).pipe((0,ve.T)(function(e){return e.map(function(r){return function V9(n,t){var e;void 0===t&&(t={});var r=n.data(t);return n.exists()&&"object"==typeof r&&null!==r&&t.idField?Fk(Fk({},r),((e={})[t.idField]=n.id,e)):r}(r,t)})}))}class KI{constructor(t){return t}}const H9="firestore",XH=new h.nKC("angularfire2.firestore-instances");function $re(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new KI(r)}}const Wre={provide:class Hre{constructor(){return Dh(H9)}},deps:[[new h.Xx1,XH]]},Gre={provide:KI,useFactory:function zre(n,t){const e=uu(H9,n,t);return e&&new KI(e)},deps:[[new h.Xx1,XH],ea]},XI=hr(jre,!0),Lk=hr(nre,!0,2),Vk=hr(yre,!0,2),bd=hr(m9,!0,2),Kre=hr(ire,!0),QI=hr(dre,!0,2),z9=hr(gre,!0,2),$9=hr(_re,!0,2),fv=hr(hre,!0,2);let W9=(()=>{class n{firestore=(0,h.WQX)(KI);userService=(0,h.WQX)(Ho);progressCollection=Lk(this.firestore,"progress");getProgress(){const e=this.userService.auth.currentUser?.uid,r=QI(Lk(this.firestore,"progress"),fv("userId","==",e));return XI(r,{idField:"id"})}addProgress(e){const r=bd(this.progressCollection);return e.id=r.id,e.userId=this.userService.auth.currentUser?.uid,et(z9(r,{...e})).pipe((0,ve.T)(()=>e.id))}updateProgress(e){if(!e.id)return et(Promise.reject("Progress ID missing"));const r=bd(this.firestore,`progress/${e.id}`);return et($9(r,{...e}))}deleteProgress(e){const r=bd(this.firestore,`progress/${e}`);return et(Vk(r))}deleteUserProgress(){const e=QI(this.progressCollection,fv("userId","==",this.userService.auth.currentUser?.uid));return XI(e,{idField:"id"}).pipe(zr(1),Qn(r=>0===r.length?Me(void 0):$a(r.map(s=>{const c=bd(this.firestore,`progress/${s.id}`);return Vk(c)}))),(0,ve.T)(()=>{}))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QH=(()=>{class n{firestore=(0,h.WQX)(KI);userService=(0,h.WQX)(Ho);workoutsCollection=Lk(this.firestore,"workouts");getWorkouts(){const e=this.userService.auth.currentUser?.uid,r=QI(Lk(this.firestore,"workouts"),fv("userId","==",e));return XI(r,{idField:"id"})}getWorkout(e){const r=this.userService.auth.currentUser?.uid;if(!r)return Me(null);const i=QI(this.workoutsCollection,fv("userId","==",r),fv("id","==",e));return XI(i,{idField:"id"}).pipe((0,ve.T)(s=>s.length>0?s[0]:null))}addWorkout(e){const r=bd(this.workoutsCollection);return e.id=r.id,e.userId=this.userService.auth.currentUser?.uid,et(z9(r,{...e})).pipe((0,ve.T)(()=>e.id))}updateWorkout(e){if(!e.id)return et(Promise.reject("Workout ID missing"));const r=bd(this.firestore,`workouts/${e.id}`);return et($9(r,{...e}))}deleteWorkout(e){const r=bd(this.firestore,`workouts/${e}`);return et(Vk(r))}deleteUserWorkouts(){const e=QI(this.workoutsCollection,fv("userId","==",this.userService.auth.currentUser?.uid));return XI(e,{idField:"id"}).pipe(zr(1),Qn(r=>0===r.length?Me(void 0):$a(r.map(s=>{const c=bd(this.firestore,`workouts/${s.id}`);return Vk(c)}))),(0,ve.T)(()=>{}))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YH=(()=>{class n{dialogRef;data;action="delete";constructor(e,r){this.dialogRef=e,this.data=r}ngOnInit(){this.data&&(this.action=this.data)}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}static \u0275fac=function(r){return new(r||n)(h.rXU(xP),h.rXU(A5))};static \u0275cmp=h.VBU({type:n,selectors:[["app-confirmation-dialog"]],decls:12,vars:1,consts:[["mat-dialog-content",""],[1,"button-container"],["title","No",3,"click"],[1,"bx","bx-x"],[1,"text"],["title","Yes",1,"delete",3,"click"],[1,"bx","bx-check"]],template:function(r,i){1&r&&(h.j41(0,"section",0)(1,"h1"),h.EFF(2),h.k0s(),h.j41(3,"div",1)(4,"a",2),h.bIt("click",function(){return i.cancel()}),h.nrm(5,"i",3),h.j41(6,"span",4),h.EFF(7,"No"),h.k0s()(),h.j41(8,"a",5),h.bIt("click",function(){return i.confirm()}),h.nrm(9,"i",6),h.j41(10,"span",4),h.EFF(11,"Yes"),h.k0s()()()()),2&r&&(h.R7$(2),h.SpI("Are you sure to ",i.action," ?"))},dependencies:[Qi],styles:["section[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:var(--background);padding:10px;border-radius:var(--light-radius);display:flex;align-items:center;justify-content:space-between;flex-direction:column;max-width:700px;width:80%}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;color:red;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;width:100%;margin-top:20px}.button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:var(--accent);padding:5px;display:flex;align-items:center;justify-content:center;gap:10px;border-radius:var(--light-radius);transition:.5s ease;width:100px}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:red;transition:.5s ease}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{background-color:red;box-shadow:var(--box-shadow-active-red)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;font-weight:500}"]})}return n})();function Xre(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is required"),h.k0s())}function Qre(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too short"),h.k0s())}function Yre(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too long"),h.k0s())}function Zre(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,Xre,2,0,"span")(2,Qre,2,0,"span")(3,Yre,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.profileForm.get("password").hasError("required")?1:-1),h.R7$(),h.vxM(e.profileForm.get("password").hasError("minlength")?2:-1),h.R7$(),h.vxM(e.profileForm.get("password").hasError("maxlength")?3:-1)}}function Jre(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is required"),h.k0s())}function eie(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too short"),h.k0s())}function tie(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Password is too long"),h.k0s())}function nie(n,t){1&n&&(h.j41(0,"span"),h.EFF(1,"Passwords do not match"),h.k0s())}function rie(n,t){if(1&n&&(h.j41(0,"mat-error"),h.DNE(1,Jre,2,0,"span")(2,eie,2,0,"span")(3,tie,2,0,"span")(4,nie,2,0,"span"),h.k0s()),2&n){const e=h.XpG(2);h.R7$(),h.vxM(e.profileForm.get("passwordConfirmation").hasError("required")?1:-1),h.R7$(),h.vxM(e.profileForm.get("passwordConfirmation").hasError("minlength")?2:-1),h.R7$(),h.vxM(e.profileForm.get("passwordConfirmation").hasError("maxlength")?3:-1),h.R7$(),h.vxM(e.profileForm.get("passwordConfirmation").hasError("passwordMismatch")?4:-1)}}function iie(n,t){if(1&n){const e=h.RV6();h.j41(0,"form",0)(1,"mat-form-field")(2,"mat-label"),h.EFF(3,"Email"),h.k0s(),h.nrm(4,"input",1),h.k0s(),h.j41(5,"mat-form-field")(6,"mat-label"),h.EFF(7,"Password"),h.k0s(),h.nrm(8,"input",2),h.j41(9,"button",3),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.hide=!i.hide)}),h.j41(10,"mat-icon"),h.EFF(11),h.k0s()(),h.DNE(12,Zre,4,3,"mat-error"),h.k0s(),h.j41(13,"mat-form-field")(14,"mat-label"),h.EFF(15,"Confirm"),h.k0s(),h.nrm(16,"input",4),h.j41(17,"button",3),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.hideDuplicate=!i.hideDuplicate)}),h.j41(18,"mat-icon"),h.EFF(19),h.k0s()(),h.DNE(20,rie,5,4,"mat-error"),h.k0s(),h.j41(21,"div",5)(22,"a",6),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.updateProfile())}),h.nrm(23,"i",7),h.j41(24,"span",8),h.EFF(25,"Update"),h.k0s()(),h.j41(26,"a",9),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.openDialog())}),h.nrm(27,"i",10),h.j41(28,"span",8),h.EFF(29,"Delete"),h.k0s()()()()}if(2&n){const e=h.XpG();h.Y8G("formGroup",e.profileForm),h.R7$(8),h.Y8G("type",e.hide?"password":"text"),h.R7$(),h.BMQ("aria-label","Hide password")("aria-pressed",e.hide),h.R7$(2),h.JRh(e.hide?"visibility_off":"visibility"),h.R7$(),h.vxM(e.profileForm.get("password").invalid?12:-1),h.R7$(4),h.Y8G("type",e.hideDuplicate?"password":"text"),h.R7$(),h.BMQ("aria-label","Hide password")("aria-pressed",e.hideDuplicate),h.R7$(2),h.JRh(e.hideDuplicate?"visibility_off":"visibility"),h.R7$(),h.vxM(e.profileForm.get("passwordConfirmation").invalid?20:-1)}}function oie(n,t){1&n&&h.nrm(0,"mat-spinner")}let sie=(()=>{class n{profileForm;toastr=(0,h.WQX)(ko);fb=(0,h.WQX)(ly);profileService=(0,h.WQX)(NJ);userService=(0,h.WQX)(Ho);workoutsService=(0,h.WQX)(QH);progressService=(0,h.WQX)(W9);dialog=(0,h.WQX)(rI);router=(0,h.WQX)(er);hide=!0;hideDuplicate=!0;destroyed$=new oe.B;loading=!1;ngOnInit(){this.profileForm=this.fb.group({email:[{value:this.userService.currentUserSig().email,disabled:!0}],password:["",[Rn.required,Rn.minLength(6),Rn.maxLength(40)]],passwordConfirmation:["",[Rn.required,Rn.minLength(6),Rn.maxLength(40)]]},{validators:this.passwordMatchValidator})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}updateProfile(){this.profileForm.valid?(this.loading=!0,this.profileService.updateProfile(this.profileForm.value).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.loading=!1,this.toastr.info("Profile updated","Profile",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:e=>{this.loading=!1,e.message.includes("auth/requires-recent-login")?this.toastr.info("Please logout and login again to perform this action","Profile",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"}):this.toastr.info(e.message,"Profile",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})):this.profileForm.markAllAsTouched()}openDialog(){this.dialog.open(YH,{data:"delete your profile"}).afterClosed().pipe(fn(r=>r),Qn(()=>(this.loading=!0,this.workoutsService.deleteUserWorkouts())),Qn(()=>this.progressService.deleteUserProgress()),Qn(()=>this.profileService.deleteProfile().pipe(gi(()=>Me(void 0)))),Qn(()=>this.userService.logout().pipe(gi(()=>Me(void 0)))),bt(this.destroyed$)).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/connect"]),this.toastr.info("Profile deleted","Profile",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:r=>{this.loading=!1,r.message.includes("auth/requires-recent-login")?this.toastr.info("Please logout and login again to perform this action","Profile",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"}):this.toastr.info(r.message,"Profile",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}passwordMatchValidator(e){const r=e.get("password")?.value,i=e.get("passwordConfirmation")?.value;e.get("password").valid&&i&&""!==i&&r!==i&&!e.get("passwordConfirmation").hasError("minlength")&&!e.get("passwordConfirmation").hasError("maxlength")&&e.get("passwordConfirmation")?.setErrors({passwordMismatch:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-profil"]],decls:3,vars:2,consts:[[1,"content",3,"formGroup"],["matInput","","formControlName","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","passwordConfirmation",3,"type"],[1,"button-container"],["title","Update profile",3,"click"],[1,"bx","bxs-edit-alt"],[1,"text"],["title","Delete profile",1,"delete",3,"click"],[1,"bx","bxs-trash"]],template:function(r,i){1&r&&(h.j41(0,"section"),h.DNE(1,iie,30,11,"form",0),h.k0s(),h.DNE(2,oie,1,0,"mat-spinner")),2&r&&(h.R7$(),h.vxM(i.loading?-1:1),h.R7$(),h.vxM(i.loading?2:-1))},dependencies:[Qi,Vf,Wu,zo,_a,ju,Nl,Gu,fo,Gf,Hl,gy,Ft,Ku,qf,P,QB,zB,HB,ro,by,vy],styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]{position:relative;margin:20px 0;display:flex;align-items:center;justify-content:center;flex-direction:column;width:95%;max-width:1200px;background-color:var(--background);color:var(--accent);box-shadow:var(--box-shadow);border-radius:var(--light-radius)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:30px 0;display:flex;justify-content:center;align-items:center;flex-direction:column;width:70%;gap:20px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]{margin-top:2px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.mat-icon[_ngcontent-%COMP%]{color:var(--accent)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;gap:20px;flex-wrap:wrap}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:var(--accent);padding:10px;display:flex;align-items:center;justify-content:center;gap:10px;border-radius:var(--light-radius);box-shadow:var(--box-shadow);transition:.5s ease;width:140px}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:red;transition:.5s ease}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{background-color:red;box-shadow:var(--box-shadow-active-red)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:20px;font-weight:500}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--invalid) .mdc-floating-label{color:var(--accent)}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--invalid).mdc-text-field--focused .mdc-floating-label{color:var(--accent)}  .mdc-text-field{border-radius:var(--light-radius)!important}  .mdc-text-field--filled{background-color:var(--background)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--accent)!important}  .mat-mdc-form-field-focus-overlay{display:none}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:red!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:red!important}  .mat-mdc-form-field-error{color:red!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--secondary)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom-color:var(--accent)!important}  mat-form-field.mat-form-field-invalid{--secondary: red;--accent: red}  .mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--accent)!important}  .mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--accent)!important}"]})}return n})();function pv(n){return n+.5|0}const Zl=(n,t,e)=>Math.max(Math.min(n,e),t);function YI(n){return Zl(pv(2.55*n),0,255)}function wd(n){return Zl(pv(255*n),0,255)}function Jl(n){return Zl(pv(n/2.55)/100,0,1)}function G9(n){return Zl(pv(100*n),0,100)}const Go={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ZH=[..."0123456789ABCDEF"],aie=n=>ZH[15&n],lie=n=>ZH[(240&n)>>4]+ZH[15&n],Bk=n=>(240&n)>>4==(15&n);const fie=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function q9(n,t,e){const r=t*Math.min(e,1-e),i=(s,c=(s+n/30)%12)=>e-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function pie(n,t,e){const r=(i,s=(i+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function mie(n,t,e){const r=q9(n,1,.5);let i;for(t+e>1&&(i=1/(t+e),t*=i,e*=i),i=0;i<3;i++)r[i]*=1-t-e,r[i]+=t;return r}function JH(n){const e=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(e,r,i),c=Math.min(e,r,i),d=(s+c)/2;let f,g,y;return s!==c&&(y=s-c,g=d>.5?y/(2-s-c):y/(s+c),f=function gie(n,t,e,r,i){return n===i?(t-e)/r+(t<e?6:0):t===i?(e-n)/r+2:(n-t)/r+4}(e,r,i,y,s),f=60*f+.5),[0|f,g||0,d]}function ez(n,t,e,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,r)).map(wd)}function tz(n,t,e){return ez(q9,n,t,e)}function K9(n){return(n%360+360)%360}const X9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Q9={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let jk;const Iie=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,nz=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,mv=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Uk(n,t,e){if(n){let r=JH(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*e,0===t?360:1)),r=tz(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Y9(n,t){return n&&Object.assign(t||{},n)}function Z9(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=wd(n[3]))):(t=Y9(n,{r:0,g:0,b:0,a:1})).a=wd(t.a),t}function Aie(n){return"r"===n.charAt(0)?function xie(n){const t=Iie.exec(n);let r,i,s,e=255;if(t){if(t[7]!==r){const c=+t[7];e=t[8]?YI(c):Zl(255*c,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?YI(r):Zl(r,0,255)),i=255&(t[4]?YI(i):Zl(i,0,255)),s=255&(t[6]?YI(s):Zl(s,0,255)),{r,g:i,b:s,a:e}}}(n):function vie(n){const t=fie.exec(n);let r,e=255;if(!t)return;t[5]!==r&&(e=t[6]?YI(+t[5]):wd(+t[5]));const i=K9(+t[2]),s=+t[3]/100,c=+t[4]/100;return r="hwb"===t[1]?function _ie(n,t,e){return ez(mie,n,t,e)}(i,s,c):"hsv"===t[1]?function yie(n,t,e){return ez(pie,n,t,e)}(i,s,c):tz(i,s,c),{r:r[0],g:r[1],b:r[2],a:e}}(n)}class gv{constructor(t){if(t instanceof gv)return t;const e=typeof t;let r;"object"===e?r=Z9(t):"string"===e&&(r=function uie(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Go[n[1]],g:255&17*Go[n[2]],b:255&17*Go[n[3]],a:5===t?17*Go[n[4]]:255}:(7===t||9===t)&&(e={r:Go[n[1]]<<4|Go[n[2]],g:Go[n[3]]<<4|Go[n[4]],b:Go[n[5]]<<4|Go[n[6]],a:9===t?Go[n[7]]<<4|Go[n[8]]:255})),e}(t)||function Cie(n){jk||(jk=function Eie(){const n={},t=Object.keys(Q9),e=Object.keys(X9);let r,i,s,c,d;for(r=0;r<t.length;r++){for(c=d=t[r],i=0;i<e.length;i++)s=e[i],d=d.replace(s,X9[s]);s=parseInt(Q9[c],16),n[d]=[s>>16&255,s>>8&255,255&s]}return n}(),jk.transparent=[0,0,0,0]);const t=jk[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Aie(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Y9(this._rgb);return t&&(t.a=Jl(t.a)),t}set rgb(t){this._rgb=Z9(t)}rgbString(){return this._valid?function Tie(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Jl(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function hie(n){var t=(n=>Bk(n.r)&&Bk(n.g)&&Bk(n.b)&&Bk(n.a))(n)?aie:lie;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function wie(n){if(!n)return;const t=JH(n),e=t[0],r=G9(t[1]),i=G9(t[2]);return n.a<255?`hsla(${e}, ${r}%, ${i}%, ${Jl(n.a)})`:`hsl(${e}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const r=this.rgb,i=t.rgb;let s;const c=e===s?.5:e,d=2*c-1,f=r.a-i.a,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2;s=1-g,r.r=255&g*r.r+s*i.r+.5,r.g=255&g*r.g+s*i.g+.5,r.b=255&g*r.b+s*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(t,e){return t&&(this._rgb=function Die(n,t,e){const r=mv(Jl(n.r)),i=mv(Jl(n.g)),s=mv(Jl(n.b));return{r:wd(nz(r+e*(mv(Jl(t.r))-r))),g:wd(nz(i+e*(mv(Jl(t.g))-i))),b:wd(nz(s+e*(mv(Jl(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new gv(this.rgb)}alpha(t){return this._rgb.a=wd(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=pv(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Uk(this._rgb,2,t),this}darken(t){return Uk(this._rgb,2,-t),this}saturate(t){return Uk(this._rgb,1,t),this}desaturate(t){return Uk(this._rgb,1,-t),this}rotate(t){return function bie(n,t){var e=JH(n);e[0]=K9(e[0]+t),e=tz(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function ec(){}const Sie=(()=>{let n=0;return()=>n++})();function at(n){return null==n}function ln(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function dt(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function kn(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function yo(n,t){return kn(n)?n:t}function Ye(n,t){return typeof n>"u"?t:n}const J9=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Yt(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Bt(n,t,e,r){let i,s,c;if(ln(n))if(s=n.length,r)for(i=s-1;i>=0;i--)t.call(e,n[i],i);else for(i=0;i<s;i++)t.call(e,n[i],i);else if(dt(n))for(c=Object.keys(n),s=c.length,i=0;i<s;i++)t.call(e,n[c[i]],c[i])}function Hk(n,t){let e,r,i,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,r=n.length;e<r;++e)if(i=n[e],s=t[e],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function zk(n){if(ln(n))return n.map(zk);if(dt(n)){const t=Object.create(null),e=Object.keys(n),r=e.length;let i=0;for(;i<r;++i)t[e[i]]=zk(n[e[i]]);return t}return n}function e7(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function Rie(n,t,e,r){if(!e7(n))return;const i=t[n],s=e[n];dt(i)&&dt(s)?ZI(i,s,r):t[n]=zk(s)}function ZI(n,t,e){const r=ln(t)?t:[t],i=r.length;if(!dt(n))return n;const s=(e=e||{}).merger||Rie;let c;for(let d=0;d<i;++d){if(c=r[d],!dt(c))continue;const f=Object.keys(c);for(let g=0,y=f.length;g<y;++g)s(f[g],n,c,e)}return n}function JI(n,t){return ZI(n,t,{merger:Pie})}function Pie(n,t,e){if(!e7(n))return;const r=t[n],i=e[n];dt(r)&&dt(i)?JI(r,i):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=zk(i))}const t7={"":n=>n,x:n=>n.x,y:n=>n.y};function Ed(n,t){return(t7[t]||(t7[t]=function Oie(n){const t=function kie(n){const t=n.split("."),e=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(e.push(r),r="");return e}(n);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t)))(n)}function rz(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ex=n=>typeof n<"u",Cd=n=>"function"==typeof n,n7=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},cn=Math.PI,un=2*cn,Fie=un+cn,$k=Number.POSITIVE_INFINITY,Lie=cn/180,$n=cn/2,Ep=cn/4,r7=2*cn/3,Id=Math.log10,Ra=Math.sign;function tx(n,t,e){return Math.abs(n-t)<e}function i7(n){const t=Math.round(n);n=tx(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Id(n))),r=n/e;return(r<=1?1:r<=2?2:r<=5?5:10)*e}function _v(n){return!function Bie(n){return"symbol"==typeof n||"object"==typeof n&&null!==n&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function o7(n,t,e){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function As(n){return n*(cn/180)}function iz(n){return n*(180/cn)}function s7(n){if(!kn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function a7(n,t){const e=t.x-n.x,r=t.y-n.y,i=Math.sqrt(e*e+r*r);let s=Math.atan2(r,e);return s<-.5*cn&&(s+=un),{angle:s,distance:i}}function oz(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Uie(n,t){return(n-t+Fie)%un-cn}function vo(n){return(n%un+un)%un}function nx(n,t,e,r){const i=vo(n),s=vo(t),c=vo(e),d=vo(s-i),f=vo(c-i),g=vo(i-s),y=vo(i-c);return i===s||i===c||r&&s===c||d>f&&g<y}function Sr(n,t,e){return Math.max(t,Math.min(e,n))}function tc(n,t,e,r=1e-6){return n>=Math.min(t,e)-r&&n<=Math.max(t,e)+r}function sz(n,t,e){e=e||(c=>n[c]<t);let s,r=n.length-1,i=0;for(;r-i>1;)s=i+r>>1,e(s)?i=s:r=s;return{lo:i,hi:r}}const nc=(n,t,e,r)=>sz(n,e,r?i=>{const s=n[i][t];return s<e||s===e&&n[i+1][t]===e}:i=>n[i][t]<e),zie=(n,t,e)=>sz(n,e,r=>n[r][t]>=e),l7=["push","pop","shift","splice","unshift"];function c7(n,t){const e=n._chartjs;if(!e)return;const r=e.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),!(r.length>0)&&(l7.forEach(s=>{delete n[s]}),delete n._chartjs)}function u7(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const d7=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function h7(n,t){let e=[],r=!1;return function(...i){e=i,r||(r=!0,d7.call(window,()=>{r=!1,n.apply(t,e)}))}}const az=n=>"start"===n?"left":"end"===n?"right":"center",ni=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function f7(n,t,e){const r=t.length;let i=0,s=r;if(n._sorted){const{iScale:c,vScale:d,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:b,max:C,minDefined:x,maxDefined:S}=c.getUserBounds();if(x){if(i=Math.min(nc(f,y,b).lo,e?r:nc(t,y,c.getPixelForValue(b)).lo),g){const M=f.slice(0,i+1).reverse().findIndex(R=>!at(R[d.axis]));i-=Math.max(0,M)}i=Sr(i,0,r-1)}if(S){let M=Math.max(nc(f,c.axis,C,!0).hi+1,e?0:nc(t,y,c.getPixelForValue(C),!0).hi+1);if(g){const R=f.slice(M-1).findIndex(B=>!at(B[d.axis]));M+=Math.max(0,R)}s=Sr(M,i,r)-i}else s=r-i}return{start:i,count:s}}function p7(n){const{xScale:t,yScale:e,_scaleRanges:r}=n,i={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==e.min||r.ymax!==e.max;return Object.assign(r,i),s}const Wk=n=>0===n||1===n,m7=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*un/e),g7=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*un/e)+1,rx={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*$n),easeOutSine:n=>Math.sin(n*$n),easeInOutSine:n=>-.5*(Math.cos(cn*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Wk(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Wk(n)?n:m7(n,.075,.3),easeOutElastic:n=>Wk(n)?n:g7(n,.075,.3),easeInOutElastic:n=>Wk(n)?n:n<.5?.5*m7(2*n,.1125,.45):.5+.5*g7(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-rx.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*rx.easeInBounce(2*n):.5*rx.easeOutBounce(2*n-1)+.5};function lz(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function _7(n){return lz(n)?n:new gv(n)}function cz(n){return lz(n)?n:new gv(n).saturate(.5).darken(.1).hexString()}const Kie=["x","y","borderWidth","radius","tension"],Xie=["color","borderColor","backgroundColor"],y7=new Map;function ix(n,t,e){return function Zie(n,t){t=t||{};const e=n+JSON.stringify(t);let r=y7.get(e);return r||(r=new Intl.NumberFormat(n,t),y7.set(e,r)),r}(t,e).format(n)}const v7={values:n=>ln(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const r=this.chart.options.locale;let i,s=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(i="scientific"),s=function Jie(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const c=Id(Math.abs(s)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:i,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),ix(n,r,f)},logarithmic(n,t,e){if(0===n)return"0";const r=e[t].significand||n/Math.pow(10,Math.floor(Id(n)));return[1,2,3,5,10,15].includes(r)||t>.8*e.length?v7.numeric.call(this,n,t,e):""}};var Gk={formatters:v7};const Cp=Object.create(null),uz=Object.create(null);function ox(n,t){if(!t)return n;const e=t.split(".");for(let r=0,i=e.length;r<i;++r){const s=e[r];n=n[s]||(n[s]=Object.create(null))}return n}function dz(n,t,e){return"string"==typeof t?ZI(ox(n,t),e):ZI(ox(n,""),t)}class toe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>cz(i.backgroundColor),this.hoverBorderColor=(r,i)=>cz(i.borderColor),this.hoverColor=(r,i)=>cz(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return dz(this,t,e)}get(t){return ox(this,t)}describe(t,e){return dz(uz,t,e)}override(t,e){return dz(Cp,t,e)}route(t,e,r,i){const s=ox(this,t),c=ox(this,r),d="_"+e;Object.defineProperties(s,{[d]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[d],g=c[i];return dt(f)?Object.assign({},g,f):Ye(f,g)},set(f){this[d]=f}}})}apply(t){t.forEach(e=>e(this))}}var En=new toe({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Qie(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Xie},numbers:{type:"number",properties:Kie}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function Yie(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function eoe(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function qk(n,t,e,r,i){let s=t[i];return s||(s=t[i]=n.measureText(i).width,e.push(i)),s>r&&(r=s),r}function roe(n,t,e,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},s=r.garbageCollect=[],r.font=t),n.save(),n.font=t;let c=0;const d=e.length;let f,g,y,b,C;for(f=0;f<d;f++)if(b=e[f],null==b||ln(b)){if(ln(b))for(g=0,y=b.length;g<y;g++)C=b[g],null!=C&&!ln(C)&&(c=qk(n,i,s,c,C))}else c=qk(n,i,s,c,b);n.restore();const x=s.length/2;if(x>e.length){for(f=0;f<x;f++)delete i[s[f]];s.splice(0,x)}return c}function Ip(n,t,e){const r=n.currentDevicePixelRatio,i=0!==e?Math.max(e/2,.5):0;return Math.round((t-i)*r)/r+i}function b7(n,t){!t&&!n||((t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function hz(n,t,e,r){w7(n,t,e,r,null)}function w7(n,t,e,r,i){let s,c,d,f,g,y,b,C;const x=t.pointStyle,S=t.rotation,M=t.radius;let R=(S||0)*Lie;if(x&&"object"==typeof x&&(s=x.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,r),n.rotate(R),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void n.restore();if(!(isNaN(M)||M<=0)){switch(n.beginPath(),x){default:i?n.ellipse(e,r,i/2,M,0,0,un):n.arc(e,r,M,0,un),n.closePath();break;case"triangle":y=i?i/2:M,n.moveTo(e+Math.sin(R)*y,r-Math.cos(R)*M),R+=r7,n.lineTo(e+Math.sin(R)*y,r-Math.cos(R)*M),R+=r7,n.lineTo(e+Math.sin(R)*y,r-Math.cos(R)*M),n.closePath();break;case"rectRounded":g=.516*M,f=M-g,c=Math.cos(R+Ep)*f,b=Math.cos(R+Ep)*(i?i/2-g:f),d=Math.sin(R+Ep)*f,C=Math.sin(R+Ep)*(i?i/2-g:f),n.arc(e-b,r-d,g,R-cn,R-$n),n.arc(e+C,r-c,g,R-$n,R),n.arc(e+b,r+d,g,R,R+$n),n.arc(e-C,r+c,g,R+$n,R+cn),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*M,y=i?i/2:f,n.rect(e-y,r-f,2*y,2*f);break}R+=Ep;case"rectRot":b=Math.cos(R)*(i?i/2:M),c=Math.cos(R)*M,d=Math.sin(R)*M,C=Math.sin(R)*(i?i/2:M),n.moveTo(e-b,r-d),n.lineTo(e+C,r-c),n.lineTo(e+b,r+d),n.lineTo(e-C,r+c),n.closePath();break;case"crossRot":R+=Ep;case"cross":b=Math.cos(R)*(i?i/2:M),c=Math.cos(R)*M,d=Math.sin(R)*M,C=Math.sin(R)*(i?i/2:M),n.moveTo(e-b,r-d),n.lineTo(e+b,r+d),n.moveTo(e+C,r-c),n.lineTo(e-C,r+c);break;case"star":b=Math.cos(R)*(i?i/2:M),c=Math.cos(R)*M,d=Math.sin(R)*M,C=Math.sin(R)*(i?i/2:M),n.moveTo(e-b,r-d),n.lineTo(e+b,r+d),n.moveTo(e+C,r-c),n.lineTo(e-C,r+c),R+=Ep,b=Math.cos(R)*(i?i/2:M),c=Math.cos(R)*M,d=Math.sin(R)*M,C=Math.sin(R)*(i?i/2:M),n.moveTo(e-b,r-d),n.lineTo(e+b,r+d),n.moveTo(e+C,r-c),n.lineTo(e-C,r+c);break;case"line":c=i?i/2:Math.cos(R)*M,d=Math.sin(R)*M,n.moveTo(e-c,r-d),n.lineTo(e+c,r+d);break;case"dash":n.moveTo(e,r),n.lineTo(e+Math.cos(R)*(i?i/2:M),r+Math.sin(R)*M);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function rc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Kk(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Xk(n){n.restore()}function ioe(n,t,e,r,i){if(!t)return n.lineTo(e.x,e.y);if("middle"===i){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===i!=!!r?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ooe(n,t,e,r){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?e.cp2x:e.cp1x,r?e.cp2y:e.cp1y,e.x,e.y)}function aoe(n,t,e,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),c=t-s.actualBoundingBoxLeft,d=t+s.actualBoundingBoxRight,g=e+s.actualBoundingBoxDescent,y=i.strikethrough?(e-s.actualBoundingBoxAscent+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(c,y),n.lineTo(d,y),n.stroke()}}function loe(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function xp(n,t,e,r,i,s={}){const c=ln(t)?t:[t],d=s.strokeWidth>0&&""!==s.strokeColor;let f,g;for(n.save(),n.font=i.string,function soe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),at(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),f=0;f<c.length;++f)g=c[f],s.backdrop&&loe(n,s.backdrop),d&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),at(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(g,e,r,s.maxWidth)),n.fillText(g,e,r,s.maxWidth),aoe(n,e,r,g,s),r+=Number(i.lineHeight);n.restore()}function sx(n,t){const{x:e,y:r,w:i,h:s,radius:c}=t;n.arc(e+c.topLeft,r+c.topLeft,c.topLeft,1.5*cn,cn,!0),n.lineTo(e,r+s-c.bottomLeft),n.arc(e+c.bottomLeft,r+s-c.bottomLeft,c.bottomLeft,cn,$n,!0),n.lineTo(e+i-c.bottomRight,r+s),n.arc(e+i-c.bottomRight,r+s-c.bottomRight,c.bottomRight,$n,0,!0),n.lineTo(e+i,r+c.topRight),n.arc(e+i-c.topRight,r+c.topRight,c.topRight,0,-$n,!0),n.lineTo(e+c.topLeft,r)}const coe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uoe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function doe(n,t){const e=(""+n).match(coe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const hoe=n=>+n||0;function fz(n,t){const e={},r=dt(t),i=r?Object.keys(t):t,s=dt(n)?r?c=>Ye(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of i)e[c]=hoe(s(c));return e}function E7(n){return fz(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Tp(n){return fz(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(n){const t=E7(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mr(n,t){let e=Ye((n=n||{}).size,(t=t||En.font).size);"string"==typeof e&&(e=parseInt(e,10));let r=Ye(n.style,t.style);r&&!(""+r).match(uoe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ye(n.family,t.family),lineHeight:doe(Ye(n.lineHeight,t.lineHeight),e),size:e,style:r,weight:Ye(n.weight,t.weight),string:""};return i.string=function noe(n){return!n||at(n.size)||at(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(i),i}function ax(n,t,e,r){let s,c,d,i=!0;for(s=0,c=n.length;s<c;++s)if(d=n[s],void 0!==d&&(void 0!==t&&"function"==typeof d&&(d=d(t),i=!1),void 0!==e&&ln(d)&&(d=d[e%d.length],i=!1),void 0!==d))return r&&!i&&(r.cacheable=!1),d}function xd(n,t){return Object.assign(Object.create(n),t)}function pz(n,t=[""],e,r,i=()=>n[0]){const s=e||n;typeof r>"u"&&(r=D7("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:r,_getTarget:i,override:d=>pz([d,...n],t,s,r)};return new Proxy(c,{deleteProperty:(d,f)=>(delete d[f],delete d._keys,delete n[0][f],!0),get:(d,f)=>I7(d,f,()=>function woe(n,t,e,r){let i;for(const s of t)if(i=D7(poe(s,n),e),typeof i<"u")return mz(n,i)?gz(e,r,n,i):i}(f,t,n,d)),getOwnPropertyDescriptor:(d,f)=>Reflect.getOwnPropertyDescriptor(d._scopes[0],f),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(d,f)=>A7(d).includes(f),ownKeys:d=>A7(d),set(d,f,g){const y=d._storage||(d._storage=i());return d[f]=y[f]=g,delete d._keys,!0}})}function yv(n,t,e,r){const i={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:C7(n,r),setContext:s=>yv(n,s,e,r),override:s=>yv(n.override(s),t,e,r)};return new Proxy(i,{deleteProperty:(s,c)=>(delete s[c],delete n[c],!0),get:(s,c,d)=>I7(s,c,()=>function moe(n,t,e){const{_proxy:r,_context:i,_subProxy:s,_descriptors:c}=n;let d=r[t];return Cd(d)&&c.isScriptable(t)&&(d=function goe(n,t,e,r){const{_proxy:i,_context:s,_subProxy:c,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);d.add(n);let f=t(s,c||r);return d.delete(n),mz(n,f)&&(f=gz(i._scopes,i,n,f)),f}(t,d,n,e)),ln(d)&&d.length&&(d=function _oe(n,t,e,r){const{_proxy:i,_context:s,_subProxy:c,_descriptors:d}=e;if(typeof s.index<"u"&&r(n))return t[s.index%t.length];if(dt(t[0])){const f=t,g=i._scopes.filter(y=>y!==f);t=[];for(const y of f){const b=gz(g,i,n,y);t.push(yv(b,s,c&&c[n],d))}}return t}(t,d,n,c.isIndexable)),mz(t,d)&&(d=yv(d,i,s&&s[t],c)),d}(s,c,d)),getOwnPropertyDescriptor:(s,c)=>s._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,c)=>Reflect.has(n,c),ownKeys:()=>Reflect.ownKeys(n),set:(s,c,d)=>(n[c]=d,delete s[c],!0)})}function C7(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=n;return{allKeys:i,scriptable:e,indexable:r,isScriptable:Cd(e)?e:()=>e,isIndexable:Cd(r)?r:()=>r}}const poe=(n,t)=>n?n+rz(t):t,mz=(n,t)=>dt(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function I7(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||"constructor"===t)return n[t];const r=e();return n[t]=r,r}function x7(n,t,e){return Cd(n)?n(t,e):n}const yoe=(n,t)=>!0===n?t:"string"==typeof n?Ed(t,n):void 0;function voe(n,t,e,r,i){for(const s of t){const c=yoe(e,s);if(c){n.add(c);const d=x7(c._fallback,e,i);if(typeof d<"u"&&d!==e&&d!==r)return d}else if(!1===c&&typeof r<"u"&&e!==r)return null}return!1}function gz(n,t,e,r){const i=t._rootScopes,s=x7(t._fallback,e,r),c=[...n,...i],d=new Set;d.add(r);let f=T7(d,c,e,s||e,r);return!(null===f||typeof s<"u"&&s!==e&&(f=T7(d,c,s,f,r),null===f))&&pz(Array.from(d),[""],i,s,()=>function boe(n,t,e){const r=n._getTarget();t in r||(r[t]={});const i=r[t];return ln(i)&&dt(e)?e:i||{}}(t,e,r))}function T7(n,t,e,r,i){for(;e;)e=voe(n,t,e,r,i);return e}function D7(n,t){for(const e of t){if(!e)continue;const r=e[n];if(typeof r<"u")return r}}function A7(n){let t=n._keys;return t||(t=n._keys=function Eoe(n){const t=new Set;for(const e of n)for(const r of Object.keys(e).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}(n._scopes)),t}function S7(n,t,e,r){const{iScale:i}=n,{key:s="r"}=this._parsing,c=new Array(r);let d,f,g,y;for(d=0,f=r;d<f;++d)g=d+e,y=t[g],c[d]={r:i.parse(Ed(y,s),g)};return c}const Coe=Number.EPSILON||1e-14,vv=(n,t)=>t<n.length&&!n[t].skip&&n[t],M7=n=>"x"===n?"y":"x";function Ioe(n,t,e,r){const i=n.skip?t:n,s=t,c=e.skip?t:e,d=oz(s,i),f=oz(c,s);let g=d/(d+f),y=f/(d+f);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const b=r*g,C=r*y;return{previous:{x:s.x-b*(c.x-i.x),y:s.y-b*(c.y-i.y)},next:{x:s.x+C*(c.x-i.x),y:s.y+C*(c.y-i.y)}}}function Qk(n,t,e){return Math.max(Math.min(n,e),t)}function Soe(n,t,e,r,i){let s,c,d,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===t.cubicInterpolationMode)!function Doe(n,t="x"){const e=M7(t),r=n.length,i=Array(r).fill(0),s=Array(r);let c,d,f,g=vv(n,0);for(c=0;c<r;++c)if(d=f,f=g,g=vv(n,c+1),f){if(g){const y=g[t]-f[t];i[c]=0!==y?(g[e]-f[e])/y:0}s[c]=d?g?Ra(i[c-1])!==Ra(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}(function xoe(n,t,e){const r=n.length;let i,s,c,d,f,g=vv(n,0);for(let y=0;y<r-1;++y)if(f=g,g=vv(n,y+1),f&&g){if(tx(t[y],0,Coe)){e[y]=e[y+1]=0;continue}i=e[y]/t[y],s=e[y+1]/t[y],d=Math.pow(i,2)+Math.pow(s,2),!(d<=9)&&(c=3/Math.sqrt(d),e[y]=i*c*t[y],e[y+1]=s*c*t[y])}})(n,i,s),function Toe(n,t,e="x"){const r=M7(e),i=n.length;let s,c,d,f=vv(n,0);for(let g=0;g<i;++g){if(c=d,d=f,f=vv(n,g+1),!d)continue;const y=d[e],b=d[r];c&&(s=(y-c[e])/3,d[`cp1${e}`]=y-s,d[`cp1${r}`]=b-s*t[g]),f&&(s=(f[e]-y)/3,d[`cp2${e}`]=y+s,d[`cp2${r}`]=b+s*t[g])}}(n,s,t)}(n,i);else{let g=r?n[n.length-1]:n[0];for(s=0,c=n.length;s<c;++s)d=n[s],f=Ioe(g,d,n[Math.min(s+1,c-(r?0:1))%c],t.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}t.capBezierPoints&&function Aoe(n,t){let e,r,i,s,c,d=rc(n[0],t);for(e=0,r=n.length;e<r;++e)c=s,s=d,d=e<r-1&&rc(n[e+1],t),s&&(i=n[e],c&&(i.cp1x=Qk(i.cp1x,t.left,t.right),i.cp1y=Qk(i.cp1y,t.top,t.bottom)),d&&(i.cp2x=Qk(i.cp2x,t.left,t.right),i.cp2y=Qk(i.cp2y,t.top,t.bottom)))}(n,e)}function _z(){return typeof window<"u"&&typeof document<"u"}function yz(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Yk(n,t,e){let r;return"string"==typeof n?(r=parseInt(n,10),-1!==n.indexOf("%")&&(r=r/100*t.parentNode[e])):r=n,r}const Zk=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),Roe=["top","right","bottom","left"];function Dp(n,t,e){const r={};e=e?"-"+e:"";for(let i=0;i<4;i++){const s=Roe[i];r[s]=parseFloat(n[t+"-"+s+e])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Ap(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:r}=t,i=Zk(e),s="border-box"===i.boxSizing,c=Dp(i,"padding"),d=Dp(i,"border","width"),{x:f,y:g,box:y}=function koe(n,t){const e=n.touches,r=e&&e.length?e[0]:n,{offsetX:i,offsetY:s}=r;let d,f,c=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(i,s,n.target))d=i,f=s;else{const g=t.getBoundingClientRect();d=r.clientX-g.left,f=r.clientY-g.top,c=!0}return{x:d,y:f,box:c}}(n,e),b=c.left+(y&&d.left),C=c.top+(y&&d.top);let{width:x,height:S}=t;return s&&(x-=c.width+d.width,S-=c.height+d.height),{x:Math.round((f-b)/x*e.width/r),y:Math.round((g-C)/S*e.height/r)}}const Jk=n=>Math.round(10*n)/10;function R7(n,t,e){const r=t||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==r||c.height!==i||c.width!==s)&&(n.currentDevicePixelRatio=r,c.height=i,c.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0)}const Foe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};_z()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function P7(n,t){const e=function Moe(n,t){return Zk(n).getPropertyValue(t)}(n,t),r=e&&e.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Sp(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Loe(n,t,e,r){return{x:n.x+e*(t.x-n.x),y:"middle"===r?e<.5?n.y:t.y:"after"===r?e<1?n.y:t.y:e>0?t.y:n.y}}function Voe(n,t,e,r){const i={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},c=Sp(n,i,e),d=Sp(i,s,e),f=Sp(s,t,e),g=Sp(c,d,e),y=Sp(d,f,e);return Sp(g,y,e)}function bv(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,r)=>e-r,leftForLtr:(e,r)=>e-r}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function k7(n,t){let e,r;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,r=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=r)}function O7(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function N7(n){return"angle"===n?{between:nx,compare:Uie,normalize:vo}:{between:tc,compare:(t,e)=>t-e,normalize:t=>t}}function F7({start:n,end:t,count:e,loop:r,style:i}){return{start:n%e,end:t%e,loop:r&&(t-n+1)%e==0,style:i}}function L7(n,t,e){if(!e)return[n];const{property:r,start:i,end:s}=e,c=t.length,{compare:d,between:f,normalize:g}=N7(r),{start:y,end:b,loop:C,style:x}=function Uoe(n,t,e){const{property:r,start:i,end:s}=e,{between:c,normalize:d}=N7(r),f=t.length;let C,x,{start:g,end:y,loop:b}=n;if(b){for(g+=f,y+=f,C=0,x=f;C<x&&c(d(t[g%f][r]),i,s);++C)g--,y--;g%=f,y%=f}return y<g&&(y+=f),{start:g,end:y,loop:b,style:n.style}}(n,t,e),S=[];let B,H,G,M=!1,R=null;for(let k=y,L=y;k<=b;++k)H=t[k%c],!H.skip&&(B=g(H[r]),B!==G&&(M=f(B,i,s),null===R&&(M||f(i,G,B)&&0!==d(i,G))&&(R=0===d(B,i)?k:L),null!==R&&(!M||0===d(s,B)||f(s,G,B))&&(S.push(F7({start:R,end:k,loop:C,count:c,style:x})),R=null),L=k,G=B));return null!==R&&S.push(F7({start:R,end:b,loop:C,count:c,style:x})),S}function V7(n,t){const e=[],r=n.segments;for(let i=0;i<r.length;i++){const s=L7(r[i],n.points,t);s.length&&e.push(...s)}return e}function j7(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Goe(n,t){if(!t)return!1;const e=[],r=function(i,s){return lz(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function eO(n,t,e){return n.options.clip?n[e]:t[e]}function U7(n,t){const e=t._clip;if(e.disabled)return!1;const r=function qoe(n,t){const{xScale:e,yScale:r}=n;return e&&r?{left:eO(e,t,"left"),right:eO(e,t,"right"),top:eO(r,t,"top"),bottom:eO(r,t,"bottom")}:t}(t,n.chartArea);return{left:!1===e.left?0:r.left-(!0===e.left?0:e.left),right:!1===e.right?n.width:r.right+(!0===e.right?0:e.right),top:!1===e.top?0:r.top-(!0===e.top?0:e.top),bottom:!1===e.bottom?n.height:r.bottom+(!0===e.bottom?0:e.bottom)}}class Koe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,r,i){const c=e.duration;e.listeners[i].forEach(d=>d({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(r-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=d7.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let f,c=s.length-1,d=!1;for(;c>=0;--c)f=s[c],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(t),d=!0):(s[c]=s[s.length-1],s.pop());d&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let r=e.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,r)),r}listen(t,e,r){this._getAnims(t).listeners[e].push(r)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const r=e.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ic=new Koe;const H7="transparent",Xoe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const r=_7(n||H7),i=r.valid&&_7(t||H7);return i&&i.valid?i.mix(r,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Qoe{constructor(t,e,r,i){const s=e[r];i=ax([t.to,i,s,t.from]);const c=ax([t.from,s,i]);this._active=!0,this._fn=t.fn||Xoe[t.type||typeof c],this._easing=rx[t.easing]||rx.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,c=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=ax([t.to,e,i,t.from]),this._from=ax([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,r=this._duration,i=this._prop,s=this._from,c=this._loop,d=this._to;let f;if(this._active=s!==d&&(c||e<r),!this._active)return this._target[i]=d,void this._notify(!0);e<0?this._target[i]=s:(f=e/r%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(s,d,f))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,r)=>{t.push({res:e,rej:r})})}_notify(t){const e=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][e]()}}class z7{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!dt(t))return;const e=Object.keys(En.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!dt(s))return;const c={};for(const d of e)c[d]=s[d];(ln(s.properties)&&s.properties||[i]).forEach(d=>{(d===i||!r.has(d))&&r.set(d,c)})})}_animateOptions(t,e){const r=e.options,i=function Zoe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&function Yoe(n,t){const e=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,e){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),c=Object.keys(e),d=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if("$"===g.charAt(0))continue;if("options"===g){i.push(...this._animateOptions(t,e));continue}const y=e[g];let b=s[g];const C=r.get(g);if(b){if(C&&b.active()){b.update(C,y,d);continue}b.cancel()}C&&C.duration?(s[g]=b=new Qoe(C,t,g,y),i.push(b)):t[g]=y}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const r=this._createAnimations(t,e);return r.length?(ic.add(this._chart,r),!0):void 0}}function $7(n,t){const e=n&&n.options||{},r=e.reverse,i=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:r?s:i,end:r?i:s}}function W7(n,t){const e=[],r=n._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)e.push(r[i].index);return e}function G7(n,t,e,r={}){const i=n.keys,s="single"===r.mode;let c,d,f,g;if(null===t)return;let y=!1;for(c=0,d=i.length;c<d;++c){if(f=+i[c],f===e){if(y=!0,r.all)continue;break}g=n.values[f],kn(g)&&(s||0===t||Ra(t)===Ra(g))&&(t+=g)}return y||r.all?t:0}function vz(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function ise(n,t,e){const r=n[t]||(n[t]={});return r[e]||(r[e]={})}function q7(n,t,e,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(e&&s>0||!e&&s<0)return i.index}return null}function K7(n,t){const{chart:e,_cachedMeta:r}=n,i=e._stacks||(e._stacks={}),{iScale:s,vScale:c,index:d}=r,f=s.axis,g=c.axis,y=function nse(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,c,r),b=t.length;let C;for(let x=0;x<b;++x){const S=t[x],{[f]:M,[g]:R}=S;C=(S._stacks||(S._stacks={}))[g]=ise(i,y,M),C[d]=R,C._top=q7(C,c,!0,r.type),C._bottom=q7(C,c,!1,r.type),(C._visualValues||(C._visualValues={}))[d]=R}}function bz(n,t){const e=n.scales;return Object.keys(e).filter(r=>e[r].axis===t).shift()}function lx(n,t){const e=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(const i of t){const s=i._stacks;if(!s||void 0===s[r]||void 0===s[r][e])return;delete s[r][e],void 0!==s[r]._visualValues&&void 0!==s[r]._visualValues[e]&&delete s[r]._visualValues[e]}}}const wz=n=>"reset"===n||"none"===n,X7=(n,t)=>t?n:Object.assign({},n);let Td=(()=>class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vz(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&lx(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,i=this.getDataset(),s=(C,x,S,M)=>"x"===C?x:"r"===C?M:S,c=r.xAxisID=Ye(i.xAxisID,bz(e,"x")),d=r.yAxisID=Ye(i.yAxisID,bz(e,"y")),f=r.rAxisID=Ye(i.rAxisID,bz(e,"r")),g=r.indexAxis,y=r.iAxisID=s(g,c,d,f),b=r.vAxisID=s(g,d,c,f);r.xScale=this.getScaleForId(c),r.yScale=this.getScaleForId(d),r.rScale=this.getScaleForId(f),r.iScale=this.getScaleForId(y),r.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&c7(this._data,this),e._stacked&&lx(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),i=this._data;if(dt(r))this._data=function tse(n,t){const{iScale:e,vScale:r}=t,i="x"===e.axis?"x":"y",s="x"===r.axis?"x":"y",c=Object.keys(n),d=new Array(c.length);let f,g,y;for(f=0,g=c.length;f<g;++f)y=c[f],d[f]={[i]:y,[s]:n[y]};return d}(r,this._cachedMeta);else if(i!==r){if(i){c7(i,this);const s=this._cachedMeta;lx(s),s._parsed=[]}r&&Object.isExtensible(r)&&function Wie(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),l7.forEach(e=>{const r="_onData"+rz(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const c=i.apply(this,s);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[r]&&d[r](...s)}),c}})}))}(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const c=r._stacked;r._stacked=vz(r.vScale,r),r.stack!==i.stack&&(s=!0,lx(r),r.stack=i.stack),this._resyncElements(e),(s||c!==r._stacked)&&(K7(this,r._parsed),r._stacked=vz(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:i,_data:s}=this,{iScale:c,_stacked:d}=i,f=c.axis;let b,C,x,g=0===e&&r===s.length||i._sorted,y=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,x=s;else{x=ln(s[e])?this.parseArrayData(i,s,e,r):dt(s[e])?this.parseObjectData(i,s,e,r):this.parsePrimitiveData(i,s,e,r);const S=()=>null===C[f]||y&&C[f]<y[f];for(b=0;b<r;++b)i._parsed[b+e]=C=x[b],g&&(S()&&(g=!1),y=C);i._sorted=g}d&&K7(this,x)}parsePrimitiveData(e,r,i,s){const{iScale:c,vScale:d}=e,f=c.axis,g=d.axis,y=c.getLabels(),b=c===d,C=new Array(s);let x,S,M;for(x=0,S=s;x<S;++x)M=x+i,C[x]={[f]:b||c.parse(y[M],M),[g]:d.parse(r[M],M)};return C}parseArrayData(e,r,i,s){const{xScale:c,yScale:d}=e,f=new Array(s);let g,y,b,C;for(g=0,y=s;g<y;++g)b=g+i,C=r[b],f[g]={x:c.parse(C[0],b),y:d.parse(C[1],b)};return f}parseObjectData(e,r,i,s){const{xScale:c,yScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,y=new Array(s);let b,C,x,S;for(b=0,C=s;b<C;++b)x=b+i,S=r[x],y[b]={x:c.parse(Ed(S,f),x),y:d.parse(Ed(S,g),x)};return y}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,i){const c=this._cachedMeta,d=r[e.axis];return G7({keys:W7(this.chart,!0),values:r._stacks[e.axis]._visualValues},d,c.index,{mode:i})}updateRangeFromParsed(e,r,i,s){const c=i[r.axis];let d=null===c?NaN:c;const f=s&&i._stacks[r.axis];s&&f&&(s.values=f,d=G7(s,c,this._cachedMeta.index)),e.min=Math.min(e.min,d),e.max=Math.max(e.max,d)}getMinMax(e,r){const i=this._cachedMeta,s=i._parsed,c=i._sorted&&e===i.iScale,d=s.length,f=this._getOtherScale(e),g=((n,t)=>n&&!t.hidden&&t._stacked&&{keys:W7(this.chart,!0),values:null})(r,i),y={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:C}=function rse(n){const{min:t,max:e,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}(f);let x,S;function M(){S=s[x];const R=S[f.axis];return!kn(S[e.axis])||b>R||C<R}for(x=0;x<d&&(M()||(this.updateRangeFromParsed(y,e,S,g),!c));++x);if(c)for(x=d-1;x>=0;--x)if(!M()){this.updateRangeFromParsed(y,e,S,g);break}return y}getAllParsedValues(e){const r=this._cachedMeta._parsed,i=[];let s,c,d;for(s=0,c=r.length;s<c;++s)d=r[s][e.axis],kn(d)&&i.push(d);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,i=r.iScale,s=r.vScale,c=this.getParsed(e);return{label:i?""+i.getLabelForValue(c[i.axis]):"",value:s?""+s.getLabelForValue(c[s.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=function ese(n){let t,e,r,i;return dt(n)?(t=n.top,e=n.right,r=n.bottom,i=n.left):t=e=r=i=n,{top:t,right:e,bottom:r,left:i,disabled:!1===n}}(Ye(this.options.clip,function Joe(n,t,e){if(!1===e)return!1;const r=$7(n,e),i=$7(t,e);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this._cachedMeta,s=i.data||[],c=this.chart.chartArea,d=[],f=this._drawStart||0,g=this._drawCount||s.length-f,y=this.options.drawActiveElementsOnTop;let b;for(i.dataset&&i.dataset.draw(e,c,f,g),b=f;b<f+g;++b){const C=s[b];C.hidden||(C.active&&y?d.push(C):C.draw(e,c))}for(b=0;b<d.length;++b)d[b].draw(e,c)}getStyle(e,r){const i=r?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,r,i){const s=this.getDataset();let c;if(e>=0&&e<this._cachedMeta.data.length){const d=this._cachedMeta.data[e];c=d.$context||(d.$context=function sse(n,t,e){return xd(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,d)),c.parsed=this.getParsed(e),c.raw=s.data[e],c.index=c.dataIndex=e}else c=this.$context||(this.$context=function ose(n,t){return xd(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),c.dataset=s,c.index=c.datasetIndex=this.index;return c.active=!!r,c.mode=i,c}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",i){const s="active"===r,c=this._cachedDataOpts,d=e+"-"+r,f=c[d],g=this.enableOptionSharing&&ex(i);if(f)return X7(f,g);const y=this.chart.config,b=y.datasetElementScopeKeys(this._type,e),C=s?[`${e}Hover`,"hover",e,""]:[e,""],x=y.getOptionScopes(this.getDataset(),b),S=Object.keys(En.elements[e]),R=y.resolveNamedOptions(x,S,()=>this.getContext(i,s,r),C);return R.$shared&&(R.$shared=g,c[d]=Object.freeze(X7(R,g))),R}_resolveAnimations(e,r,i){const s=this.chart,c=this._cachedDataOpts,d=`animation-${r}`,f=c[d];if(f)return f;let g;if(!1!==s.options.animation){const b=this.chart.config,C=b.datasetAnimationScopeKeys(this._type,r),x=b.getOptionScopes(this.getDataset(),C);g=b.createResolver(x,this.getContext(e,i,r))}const y=new z7(s,g&&g.animations);return g&&g._cacheable&&(c[d]=Object.freeze(y)),y}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||wz(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const i=this.resolveDataElementOptions(e,r),s=this._sharedOptions,c=this.getSharedOptions(i),d=this.includeOptions(r,c)||c!==s;return this.updateSharedOptions(c,r,i),{sharedOptions:c,includeOptions:d}}updateElement(e,r,i,s){wz(s)?Object.assign(e,i):this._resolveAnimations(r,s).update(e,i)}updateSharedOptions(e,r,i){e&&!wz(r)&&this._resolveAnimations(void 0,r).update(e,i)}_setStyle(e,r,i,s){e.active=s;const c=this.getStyle(r,s);this._resolveAnimations(r,i,s).update(e,{options:!s&&this.getSharedOptions(c)||c})}removeHoverStyle(e,r,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,r,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,i=this._cachedMeta.data;for(const[f,g,y]of this._syncList)this[f](g,y);this._syncList=[];const s=i.length,c=r.length,d=Math.min(c,s);d&&this.parse(0,d),c>s?this._insertElements(s,c-s,e):c<s&&this._removeElements(c,s-c)}_insertElements(e,r,i=!0){const s=this._cachedMeta,c=s.data,d=e+r;let f;const g=y=>{for(y.length+=r,f=y.length-1;f>=d;f--)y[f]=y[f-r]};for(g(c),f=e;f<d;++f)c[f]=new this.dataElementType;this._parsing&&g(s._parsed),this.parse(e,r),i&&this.updateElements(c,e,r,"reset")}updateElements(e,r,i,s){}_removeElements(e,r){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,r);i._stacked&&lx(i,s)}i.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,i,s]=e;this[r](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function cse(n){const t=n.iScale,e=function lse(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=e.length;i<s;i++)r=r.concat(e[i].controller.getAllParsedValues(n));n._cache.$bar=u7(r.sort((i,s)=>i-s))}return n._cache.$bar}(t,n.type);let i,s,c,d,r=t._length;const f=()=>{32767===c||-32768===c||(ex(d)&&(r=Math.min(r,Math.abs(c-d)||r)),d=c)};for(i=0,s=e.length;i<s;++i)c=t.getPixelForValue(e[i]),f();for(d=void 0,i=0,s=t.ticks.length;i<s;++i)c=t.getPixelForTick(i),f();return r}function Q7(n,t,e,r){return ln(n)?function hse(n,t,e,r){const i=e.parse(n[0],r),s=e.parse(n[1],r),c=Math.min(i,s),d=Math.max(i,s);let f=c,g=d;Math.abs(c)>Math.abs(d)&&(f=d,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:i,end:s,min:c,max:d}}(n,t,e,r):t[e.axis]=e.parse(n,r),t}function Y7(n,t,e,r){const i=n.iScale,s=n.vScale,c=i.getLabels(),d=i===s,f=[];let g,y,b,C;for(g=e,y=e+r;g<y;++g)C=t[g],b={},b[i.axis]=d||i.parse(c[g],g),f.push(Q7(C,b,s,g));return f}function Ez(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function mse(n,t,e,r){let i=t.borderSkipped;const s={};if(!i)return void(n.borderSkipped=s);if(!0===i)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:c,end:d,reverse:f,top:g,bottom:y}=function pse(n){let t,e,r,i,s;return n.horizontal?(t=n.base>n.x,e="left",r="right"):(t=n.base<n.y,e="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:e,end:r,reverse:t,top:i,bottom:s}}(n);"middle"===i&&e&&(n.enableBorderRadius=!0,(e._top||0)===r?i=g:(e._bottom||0)===r?i=y:(s[Z7(y,c,d,f)]=!0,i=g)),s[Z7(i,c,d,f)]=!0,n.borderSkipped=s}function Z7(n,t,e,r){return r?(n=function gse(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=J7(n,e,t)):n=J7(n,t,e),n}function J7(n,t,e){return"start"===n?t:"end"===n?e:n}function _se(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}let yse=(()=>class n extends Td{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,i,s){return Y7(e,r,i,s)}parseArrayData(e,r,i,s){return Y7(e,r,i,s)}parseObjectData(e,r,i,s){const{iScale:c,vScale:d}=e,{xAxisKey:f="x",yAxisKey:g="y"}=this._parsing,y="x"===c.axis?f:g,b="x"===d.axis?f:g,C=[];let x,S,M,R;for(x=i,S=i+s;x<S;++x)R=r[x],M={},M[c.axis]=c.parse(Ed(R,y),x),C.push(Q7(Ed(R,b),M,d,x));return C}updateRangeFromParsed(e,r,i,s){super.updateRangeFromParsed(e,r,i,s);const c=i._custom;c&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,c.min),e.max=Math.max(e.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:i,vScale:s}=r,c=this.getParsed(e),d=c._custom,f=Ez(d)?"["+d.start+", "+d.end+"]":""+s.getLabelForValue(c[s.axis]);return{label:""+i.getLabelForValue(c[i.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,i,s){const c="reset"===s,{index:d,_cachedMeta:{vScale:f}}=this,g=f.getBasePixel(),y=f.isHorizontal(),b=this._getRuler(),{sharedOptions:C,includeOptions:x}=this._getSharedOptions(r,s);for(let S=r;S<r+i;S++){const M=this.getParsed(S),R=c||at(M[f.axis])?{base:g,head:g}:this._calculateBarValuePixels(S),B=this._calculateBarIndexPixels(S,b),H=(M._stacks||{})[f.axis],G={horizontal:y,base:R.base,enableBorderRadius:!H||Ez(M._custom)||d===H._top||d===H._bottom,x:y?R.head:B.center,y:y?B.center:R.head,height:y?B.size:Math.abs(R.size),width:y?Math.abs(R.size):B.size};x&&(G.options=C||this.resolveDataElementOptions(S,e[S].active?"active":s));const Y=G.options||e[S].options;mse(G,Y,H,d),_se(G,Y,b.ratio),this.updateElement(e[S],S,G,s)}}_getStacks(e,r){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(b=>b.controller.options.grouped),c=i.options.stacked,d=[],f=this._cachedMeta.controller.getParsed(r),g=f&&f[i.axis],y=b=>{const C=b._parsed.find(S=>S[i.axis]===g),x=C&&C[b.vScale.axis];if(at(x)||isNaN(x))return!0};for(const b of s)if((void 0===r||!y(b))&&((!1===c||-1===d.indexOf(b.stack)||void 0===c&&void 0===b.stack)&&d.push(b.stack),b.index===e))break;return d.length||d.push(void 0),d}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,r,i){const s=this._getStacks(e,i),c=void 0!==r?s.indexOf(r):-1;return-1===c?s.length-1:c}_getRuler(){const e=this.options,r=this._cachedMeta,i=r.iScale,s=[];let c,d;for(c=0,d=r.data.length;c<d;++c)s.push(i.getPixelForValue(this.getParsed(c)[i.axis],c));const f=e.barThickness;return{min:f||cse(r),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:i,index:s},options:{base:c,minBarLength:d}}=this,f=c||0,g=this.getParsed(e),y=g._custom,b=Ez(y);let M,R,C=g[r.axis],x=0,S=i?this.applyStack(r,g,i):C;S!==C&&(x=S-C,S=C),b&&(C=y.barStart,S=y.barEnd-y.barStart,0!==C&&Ra(C)!==Ra(y.barEnd)&&(x=0),x+=C);const B=at(c)||b?x:c;let H=r.getPixelForValue(B);if(M=this.chart.getDataVisibility(e)?r.getPixelForValue(x+S):H,R=M-H,Math.abs(R)<d){R=function fse(n,t,e){return 0!==n?Ra(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(R,r,f)*d,C===f&&(H-=R/2);const G=r.getPixelForDecimal(0),Y=r.getPixelForDecimal(1),Q=Math.min(G,Y),Z=Math.max(G,Y);H=Math.max(Math.min(H,Z),Q),M=H+R,i&&!b&&(g._stacks[r.axis]._visualValues[s]=r.getValueForPixel(M)-r.getValueForPixel(H))}if(H===r.getPixelForValue(f)){const G=Ra(R)*r.getLineWidthForValue(f)/2;H+=G,R-=G}return{size:R,base:H,head:M,center:M+R/2}}_calculateBarIndexPixels(e,r){const i=r.scale,s=this.options,c=s.skipNull,d=Ye(s.maxBarThickness,1/0);let f,g;if(r.grouped){const y=c?this._getStackCount(e):r.stackCount,b="flex"===s.barThickness?function dse(n,t,e,r){const i=t.pixels,s=i[n];let c=n>0?i[n-1]:null,d=n<i.length-1?i[n+1]:null;const f=e.categoryPercentage;null===c&&(c=s-(null===d?t.end-t.start:d-s)),null===d&&(d=s+s-c);const g=s-(s-Math.min(c,d))/2*f;return{chunk:Math.abs(d-c)/2*f/r,ratio:e.barPercentage,start:g}}(e,r,s,y):function use(n,t,e,r){const i=e.barThickness;let s,c;return at(i)?(s=t.min*e.categoryPercentage,c=e.barPercentage):(s=i*r,c=1),{chunk:s/r,ratio:c,start:t.pixels[n]-s/2}}(e,r,s,y),C=this._getStackIndex(this.index,this._cachedMeta.stack,c?e:void 0);f=b.start+b.chunk*C+b.chunk/2,g=Math.min(d,b.chunk*b.ratio)}else f=i.getPixelForValue(this.getParsed(e)[i.axis],e),g=Math.min(d,r.min*r.ratio);return{base:f-g/2,head:f+g/2,center:f,size:g}}draw(){const e=this._cachedMeta,r=e.vScale,i=e.data,s=i.length;let c=0;for(;c<s;++c)null!==this.getParsed(c)[r.axis]&&!i[c].hidden&&i[c].draw(this._ctx)}})(),vse=(()=>class n extends Td{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,i,s){const c=super.parsePrimitiveData(e,r,i,s);for(let d=0;d<c.length;d++)c[d]._custom=this.resolveDataElementOptions(d+i).radius;return c}parseArrayData(e,r,i,s){const c=super.parseArrayData(e,r,i,s);for(let d=0;d<c.length;d++)c[d]._custom=Ye(r[i+d][2],this.resolveDataElementOptions(d+i).radius);return c}parseObjectData(e,r,i,s){const c=super.parseObjectData(e,r,i,s);for(let d=0;d<c.length;d++){const f=r[i+d];c[d]._custom=Ye(f&&f.r&&+f.r,this.resolveDataElementOptions(d+i).radius)}return c}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let i=e.length-1;i>=0;--i)r=Math.max(r,e[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:c}=r,d=this.getParsed(e),f=s.getLabelForValue(d.x),g=c.getLabelForValue(d.y),y=d._custom;return{label:i[e]||"",value:"("+f+", "+g+(y?", "+y:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,i,s){const c="reset"===s,{iScale:d,vScale:f}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(r,s),b=d.axis,C=f.axis;for(let x=r;x<r+i;x++){const S=e[x],M=!c&&this.getParsed(x),R={},B=R[b]=c?d.getPixelForDecimal(.5):d.getPixelForValue(M[b]),H=R[C]=c?f.getBasePixel():f.getPixelForValue(M[C]);R.skip=isNaN(B)||isNaN(H),y&&(R.options=g||this.resolveDataElementOptions(x,S.active?"active":s),c&&(R.options.radius=0)),this.updateElement(S,x,R,s)}}resolveDataElementOptions(e,r){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,r);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const c=s.radius;return"active"!==r&&(s.radius=0),s.radius+=Ye(i&&i._custom,c),s}})(),Cz=(()=>class n extends Td{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return r.labels.map((c,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:s,lineWidth:g.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let d,f,c=g=>+i[g];if(dt(i[e])){const{key:g="value"}=this._parsing;c=y=>+Ed(i[y],g)}for(d=e,f=e+r;d<f;++d)s._parsed[d]=c(d)}}_getRotation(){return As(this.options.rotation-90)}_getCircumference(){return As(this.options.circumference)}_getRotationExtents(){let e=un,r=-un;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,c=s._getRotation(),d=s._getCircumference();e=Math.min(e,c),r=Math.max(r,c+d)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:i}=r,s=this._cachedMeta,c=s.data,d=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,f=Math.max((Math.min(i.width,i.height)-d)/2,0),g=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,f),1),y=this._getRingWeight(this.index),{circumference:b,rotation:C}=this._getRotationExtents(),{ratioX:x,ratioY:S,offsetX:M,offsetY:R}=function bse(n,t,e){let r=1,i=1,s=0,c=0;if(t<un){const d=n,f=d+t,g=Math.cos(d),y=Math.sin(d),b=Math.cos(f),C=Math.sin(f),x=(G,Y,Q)=>nx(G,d,f,!0)?1:Math.max(Y,Y*e,Q,Q*e),S=(G,Y,Q)=>nx(G,d,f,!0)?-1:Math.min(Y,Y*e,Q,Q*e),M=x(0,g,b),R=x($n,y,C),B=S(cn,g,b),H=S(cn+$n,y,C);r=(M-B)/2,i=(R-H)/2,s=-(M+B)/2,c=-(R+H)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:c}}(C,b,g),G=Math.max(Math.min((i.width-d)/x,(i.height-d)/S)/2,0),Y=J9(this.options.radius,G),Z=(Y-Math.max(Y*g,0))/this._getVisibleDatasetWeightTotal();this.offsetX=M*Y,this.offsetY=R*Y,s.total=this.calculateTotal(),this.outerRadius=Y-Z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Z*y,0),this.updateElements(c,0,c.length,e)}_circumference(e,r){const i=this.options,s=this._cachedMeta,c=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*c/un)}updateElements(e,r,i,s){const c="reset"===s,d=this.chart,f=d.chartArea,b=(f.left+f.right)/2,C=(f.top+f.bottom)/2,x=c&&d.options.animation.animateScale,S=x?0:this.innerRadius,M=x?0:this.outerRadius,{sharedOptions:R,includeOptions:B}=this._getSharedOptions(r,s);let G,H=this._getRotation();for(G=0;G<r;++G)H+=this._circumference(G,c);for(G=r;G<r+i;++G){const Y=this._circumference(G,c),Q=e[G],Z={x:b+this.offsetX,y:C+this.offsetY,startAngle:H,endAngle:H+Y,circumference:Y,outerRadius:M,innerRadius:S};B&&(Z.options=R||this.resolveDataElementOptions(G,Q.active?"active":s)),H+=Y,this.updateElement(Q,G,Z,s)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let s,i=0;for(s=0;s<r.length;s++){const c=e._parsed[s];null!==c&&!isNaN(c)&&this.chart.getDataVisibility(s)&&!r[s].hidden&&(i+=Math.abs(c))}return i}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?un*(Math.abs(e)/r):0}getLabelAndValue(e){const i=this.chart,s=i.data.labels||[],c=ix(this._cachedMeta._parsed[e],i.options.locale);return{label:s[e]||"",value:c}}getMaxBorderWidth(e){let r=0;const i=this.chart;let s,c,d,f,g;if(!e)for(s=0,c=i.data.datasets.length;s<c;++s)if(i.isDatasetVisible(s)){d=i.getDatasetMeta(s),e=d.data,f=d.controller;break}if(!e)return 0;for(s=0,c=e.length;s<c;++s)g=f.resolveDataElementOptions(s),"inner"!==g.borderAlign&&(r=Math.max(r,g.borderWidth||0,g.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let i=0,s=e.length;i<s;++i){const c=this.resolveDataElementOptions(i);r=Math.max(r,c.offset||0,c.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(e){return Math.max(Ye(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),wse=(()=>class n extends Td{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:i,data:s=[],_dataset:c}=r,d=this.chart._animationsDisabled;let{start:f,count:g}=f7(r,s,d);this._drawStart=f,this._drawCount=g,p7(r)&&(f=0,g=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!c._decimated,i.points=s;const y=this.resolveDatasetElementOptions(e);this.options.showLine||(y.borderWidth=0),y.segment=this.options.segment,this.updateElement(i,void 0,{animated:!d,options:y},e),this.updateElements(s,f,g,e)}updateElements(e,r,i,s){const c="reset"===s,{iScale:d,vScale:f,_stacked:g,_dataset:y}=this._cachedMeta,{sharedOptions:b,includeOptions:C}=this._getSharedOptions(r,s),x=d.axis,S=f.axis,{spanGaps:M,segment:R}=this.options,B=_v(M)?M:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||c||"none"===s,G=r+i,Y=e.length;let Q=r>0&&this.getParsed(r-1);for(let Z=0;Z<Y;++Z){const V=e[Z],k=H?V:{};if(Z<r||Z>=G){k.skip=!0;continue}const L=this.getParsed(Z),z=at(L[S]),W=k[x]=d.getPixelForValue(L[x],Z),q=k[S]=c||z?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,L,g):L[S],Z);k.skip=isNaN(W)||isNaN(q)||z,k.stop=Z>0&&Math.abs(L[x]-Q[x])>B,R&&(k.parsed=L,k.raw=y.data[Z]),C&&(k.options=b||this.resolveDataElementOptions(Z,V.active?"active":s)),H||this.updateElement(V,Z,k,s),Q=L}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,i=r.options&&r.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const c=s[0].size(this.resolveDataElementOptions(0)),d=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,c,d)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}})(),eK=(()=>class n extends Td{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return r.labels.map((c,d)=>{const g=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:g.backgroundColor,strokeStyle:g.borderColor,fontColor:s,lineWidth:g.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(d),index:d}})}return[]}},onClick(e,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this.chart,s=i.data.labels||[],c=ix(this._cachedMeta._parsed[e].r,i.options.locale);return{label:s[e]||"",value:c}}parseObjectData(e,r,i,s){return S7.bind(this)(e,r,i,s)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,s)=>{const c=this.getParsed(s).r;!isNaN(c)&&this.chart.getDataVisibility(s)&&(c<r.min&&(r.min=c),c>r.max&&(r.max=c))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,i=e.options,s=Math.min(r.right-r.left,r.bottom-r.top),c=Math.max(s/2,0),f=(c-Math.max(i.cutoutPercentage?c/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=c-f*this.index,this.innerRadius=this.outerRadius-f}updateElements(e,r,i,s){const c="reset"===s,d=this.chart,g=d.options.animation,y=this._cachedMeta.rScale,b=y.xCenter,C=y.yCenter,x=y.getIndexAngle(0)-.5*cn;let M,S=x;const R=360/this.countVisibleElements();for(M=0;M<r;++M)S+=this._computeAngle(M,s,R);for(M=r;M<r+i;M++){const B=e[M];let H=S,G=S+this._computeAngle(M,s,R),Y=d.getDataVisibility(M)?y.getDistanceFromCenterForValue(this.getParsed(M).r):0;S=G,c&&(g.animateScale&&(Y=0),g.animateRotate&&(H=G=x));const Q={x:b,y:C,innerRadius:0,outerRadius:Y,startAngle:H,endAngle:G,options:this.resolveDataElementOptions(M,B.active?"active":s)};this.updateElement(B,M,Q,s)}}countVisibleElements(){let r=0;return this._cachedMeta.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&r++}),r}_computeAngle(e,r,i){return this.chart.getDataVisibility(e)?As(this.resolveDataElementOptions(e,r).angle||i):0}})();var Ese=Object.freeze({__proto__:null,BarController:yse,BubbleController:vse,DoughnutController:Cz,LineController:wse,PieController:(()=>class n extends Cz{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),PolarAreaController:eK,RadarController:(()=>class n extends Td{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const r=this._cachedMeta.vScale,i=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(e,r,i,s){return S7.bind(this)(e,r,i,s)}update(e){const r=this._cachedMeta,i=r.dataset,s=r.data||[],c=r.iScale.getLabels();if(i.points=s,"resize"!==e){const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:c.length===s.length,options:d},e)}this.updateElements(s,0,s.length,e)}updateElements(e,r,i,s){const c=this._cachedMeta.rScale,d="reset"===s;for(let f=r;f<r+i;f++){const g=e[f],y=this.resolveDataElementOptions(f,g.active?"active":s),b=c.getPointPositionForValue(f,this.getParsed(f).r),C=d?c.xCenter:b.x,x=d?c.yCenter:b.y,S={x:C,y:x,angle:b.angle,skip:isNaN(C)||isNaN(x),options:y};this.updateElement(g,f,S,s)}}})(),ScatterController:(()=>class n extends Td{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:c}=r,d=this.getParsed(e),f=s.getLabelForValue(d.x),g=c.getLabelForValue(d.y);return{label:i[e]||"",value:"("+f+", "+g+")"}}update(e){const r=this._cachedMeta,{data:i=[]}=r,s=this.chart._animationsDisabled;let{start:c,count:d}=f7(r,i,s);if(this._drawStart=c,this._drawCount=d,p7(r)&&(c=0,d=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:f,_dataset:g}=r;f._chart=this.chart,f._datasetIndex=this.index,f._decimated=!!g._decimated,f.points=i;const y=this.resolveDatasetElementOptions(e);y.segment=this.options.segment,this.updateElement(f,void 0,{animated:!s,options:y},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,c,d,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,i,s){const c="reset"===s,{iScale:d,vScale:f,_stacked:g,_dataset:y}=this._cachedMeta,b=this.resolveDataElementOptions(r,s),C=this.getSharedOptions(b),x=this.includeOptions(s,C),S=d.axis,M=f.axis,{spanGaps:R,segment:B}=this.options,H=_v(R)?R:Number.POSITIVE_INFINITY,G=this.chart._animationsDisabled||c||"none"===s;let Y=r>0&&this.getParsed(r-1);for(let Q=r;Q<r+i;++Q){const Z=e[Q],V=this.getParsed(Q),k=G?Z:{},L=at(V[M]),z=k[S]=d.getPixelForValue(V[S],Q),W=k[M]=c||L?f.getBasePixel():f.getPixelForValue(g?this.applyStack(f,V,g):V[M],Q);k.skip=isNaN(z)||isNaN(W)||L,k.stop=Q>0&&Math.abs(V[S]-Y[S])>H,B&&(k.parsed=V,k.raw=y.data[Q]),x&&(k.options=C||this.resolveDataElementOptions(Q,Z.active?"active":s)),G||this.updateElement(Z,Q,k,s),Y=V}this.updateSharedOptions(C,s,b)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let f=0;for(let g=r.length-1;g>=0;--g)f=Math.max(f,r[g].size(this.resolveDataElementOptions(g))/2);return f>0&&f}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!r.length)return s;const c=r[0].size(this.resolveDataElementOptions(0)),d=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,c,d)/2}})()});function Mp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Iz{static override(t){Object.assign(Iz.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Mp()}parse(){return Mp()}format(){return Mp()}add(){return Mp()}diff(){return Mp()}startOf(){return Mp()}endOf(){return Mp()}}var Cse__date=Iz;function Ise(n,t,e,r){const{controller:i,data:s,_sorted:c}=n,d=i._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(d&&t===d.axis&&"r"!==t&&c&&s.length){const g=d._reversePixels?zie:nc;if(!r){const y=g(s,t,e);if(f){const{vScale:b}=i._cachedMeta,{_parsed:C}=n,x=C.slice(0,y.lo+1).reverse().findIndex(M=>!at(M[b.axis]));y.lo-=Math.max(0,x);const S=C.slice(y.hi).findIndex(M=>!at(M[b.axis]));y.hi+=Math.max(0,S)}return y}if(i._sharedOptions){const y=s[0],b="function"==typeof y.getRange&&y.getRange(t);if(b){const C=g(s,t,e-b),x=g(s,t,e+b);return{lo:C.lo,hi:x.hi}}}}return{lo:0,hi:s.length-1}}function cx(n,t,e,r,i){const s=n.getSortedVisibleDatasetMetas(),c=e[t];for(let d=0,f=s.length;d<f;++d){const{index:g,data:y}=s[d],{lo:b,hi:C}=Ise(s[d],t,c,i);for(let x=b;x<=C;++x){const S=y[x];S.skip||r(S,g,x)}}}function xz(n,t,e,r,i){const s=[];return!i&&!n.isPointInArea(t)||cx(n,e,t,function(d,f,g){!i&&!rc(d,n.chartArea,0)||d.inRange(t.x,t.y,r)&&s.push({element:d,datasetIndex:f,index:g})},!0),s}function Tz(n,t,e,r,i,s){return s||n.isPointInArea(t)?"r"!==e||r?function Dse(n,t,e,r,i,s){let c=[];const d=function xse(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(r,i){const s=t?Math.abs(r.x-i.x):0,c=e?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(c,2))}}(e);let f=Number.POSITIVE_INFINITY;return cx(n,e,t,function g(y,b,C){const x=y.inRange(t.x,t.y,i);if(r&&!x)return;const S=y.getCenterPoint(i);if(!s&&!n.isPointInArea(S)&&!x)return;const R=d(t,S);R<f?(c=[{element:y,datasetIndex:b,index:C}],f=R):R===f&&c.push({element:y,datasetIndex:b,index:C})}),c}(n,t,e,r,i,s):function Tse(n,t,e,r){let i=[];return cx(n,e,t,function s(c,d,f){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],r),{angle:b}=a7(c,{x:t.x,y:t.y});nx(b,g,y)&&i.push({element:c,datasetIndex:d,index:f})}),i}(n,t,e,i):[]}function tK(n,t,e,r,i){const s=[],c="x"===e?"inXRange":"inYRange";let d=!1;return cx(n,e,t,(f,g,y)=>{f[c]&&f[c](t[e],i)&&(s.push({element:f,datasetIndex:g,index:y}),d=d||f.inRange(t.x,t.y,i))}),r&&!d?[]:s}var Ase={evaluateInteractionItems:cx,modes:{index(n,t,e,r){const i=Ap(t,n),s=e.axis||"x",c=e.includeInvisible||!1,d=e.intersect?xz(n,i,s,r,c):Tz(n,i,s,!1,r,c),f=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=d[0].index,b=g.data[y];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,r){const i=Ap(t,n),s=e.axis||"xy",c=e.includeInvisible||!1;let d=e.intersect?xz(n,i,s,r,c):Tz(n,i,s,!1,r,c);if(d.length>0){const f=d[0].datasetIndex,g=n.getDatasetMeta(f).data;d=[];for(let y=0;y<g.length;++y)d.push({element:g[y],datasetIndex:f,index:y})}return d},point:(n,t,e,r)=>xz(n,Ap(t,n),e.axis||"xy",r,e.includeInvisible||!1),nearest:(n,t,e,r)=>Tz(n,Ap(t,n),e.axis||"xy",e.intersect,r,e.includeInvisible||!1),x:(n,t,e,r)=>tK(n,Ap(t,n),"x",e.intersect,r),y:(n,t,e,r)=>tK(n,Ap(t,n),"y",e.intersect,r)}};const nK=["left","top","right","bottom"];function ux(n,t){return n.filter(e=>e.pos===t)}function rK(n,t){return n.filter(e=>-1===nK.indexOf(e.pos)&&e.box.axis===t)}function dx(n,t){return n.sort((e,r)=>{const i=t?r:e,s=t?e:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function iK(n,t,e,r){return Math.max(n[e],t[e])+Math.max(n[r],t[r])}function oK(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function kse(n,t,e,r){const{pos:i,box:s}=e,c=n.maxPadding;if(!dt(i)){e.size&&(n[i]-=e.size);const b=r[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?s.height:s.width),e.size=b.size/b.count,n[i]+=e.size}s.getPadding&&oK(c,s.getPadding());const d=Math.max(0,t.outerWidth-iK(c,n,"left","right")),f=Math.max(0,t.outerHeight-iK(c,n,"top","bottom")),g=d!==n.w,y=f!==n.h;return n.w=d,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function Nse(n,t){const e=t.maxPadding;return function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{s[c]=Math.max(t[c],e[c])}),s}(n?["left","right"]:["top","bottom"])}function hx(n,t,e,r){const i=[];let s,c,d,f,g,y;for(s=0,c=n.length,g=0;s<c;++s){d=n[s],f=d.box,f.update(d.width||t.w,d.height||t.h,Nse(d.horizontal,t));const{same:b,other:C}=kse(t,e,d,r);g|=b&&i.length,y=y||C,f.fullSize||i.push(d)}return g&&hx(i,t,e,r)||y}function tO(n,t,e,r,i){n.top=e,n.left=t,n.right=t+r,n.bottom=e+i,n.width=r,n.height=i}function sK(n,t,e,r){const i=e.padding;let{x:s,y:c}=t;for(const d of n){const f=d.box,g=r[d.stack]||{count:1,placed:0,weight:1},y=d.stackWeight/g.weight||1;if(d.horizontal){const b=t.w*y,C=g.size||f.height;ex(g.start)&&(c=g.start),f.fullSize?tO(f,i.left,c,e.outerWidth-i.right-i.left,C):tO(f,t.left+g.placed,c,b,C),g.start=c,g.placed+=b,c=f.bottom}else{const b=t.h*y,C=g.size||f.width;ex(g.start)&&(s=g.start),f.fullSize?tO(f,s,i.top,C,e.outerHeight-i.bottom-i.top):tO(f,s,t.top+g.placed,C,b),g.start=s,g.placed+=b,s=f.right}}t.x=s,t.y=c}var ii={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,r){if(!n)return;const i=ri(n.options.layout.padding),s=Math.max(t-i.width,0),c=Math.max(e-i.height,0),d=function Pse(n){const t=function Sse(n){const t=[];let e,r,i,s,c,d;for(e=0,r=(n||[]).length;e<r;++e)i=n[e],({position:s,options:{stack:c,stackWeight:d=1}}=i),t.push({index:e,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&s+c,stackWeight:d});return t}(n),e=dx(t.filter(g=>g.box.fullSize),!0),r=dx(ux(t,"left"),!0),i=dx(ux(t,"right")),s=dx(ux(t,"top"),!0),c=dx(ux(t,"bottom")),d=rK(t,"x"),f=rK(t,"y");return{fullSize:e,leftAndTop:r.concat(s),rightAndBottom:i.concat(f).concat(c).concat(d),chartArea:ux(t,"chartArea"),vertical:r.concat(i).concat(f),horizontal:s.concat(c).concat(d)}}(n.boxes),f=d.vertical,g=d.horizontal;Bt(n.boxes,M=>{"function"==typeof M.beforeLayout&&M.beforeLayout()});const y=f.reduce((M,R)=>R.box.options&&!1===R.box.options.display?M:M+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:s,availableHeight:c,vBoxMaxWidth:s/2/y,hBoxMaxHeight:c/2}),C=Object.assign({},i);oK(C,ri(r));const x=Object.assign({maxPadding:C,w:s,h:c,x:i.left,y:i.top},i),S=function Rse(n,t){const e=function Mse(n){const t={};for(const e of n){const{stack:r,pos:i,stackWeight:s}=e;if(!r||!nK.includes(i))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=s}return t}(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,c,d;for(s=0,c=n.length;s<c;++s){d=n[s];const{fullSize:f}=d.box,g=e[d.stack],y=g&&d.stackWeight/g.weight;d.horizontal?(d.width=y?y*r:f&&t.availableWidth,d.height=i):(d.width=r,d.height=y?y*i:f&&t.availableHeight)}return e}(f.concat(g),b);hx(d.fullSize,x,b,S),hx(f,x,b,S),hx(g,x,b,S)&&hx(f,x,b,S),function Ose(n){const t=n.maxPadding;function e(r){const i=Math.max(t[r]-n[r],0);return n[r]+=i,i}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(x),sK(d.leftAndTop,x,b,S),x.x+=x.w,x.y+=x.h,sK(d.rightAndBottom,x,b,S),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Bt(d.chartArea,M=>{const R=M.box;Object.assign(R,n.chartArea),R.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class aK{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,r){}removeEventListener(t,e,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,r,i){return e=Math.max(0,e||t.width),r=r||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):r)}}isAttached(t){return!0}updateConfig(t){}}class Fse extends aK{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nO="$chartjs",Lse={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lK=n=>null===n||""===n,cK=!!Foe&&{passive:!0};function jse(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,cK)}function rO(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Hse(n,t,e){const r=n.canvas,i=new MutationObserver(s=>{let c=!1;for(const d of s)c=c||rO(d.addedNodes,r),c=c&&!rO(d.removedNodes,r);c&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function zse(n,t,e){const r=n.canvas,i=new MutationObserver(s=>{let c=!1;for(const d of s)c=c||rO(d.removedNodes,r),c=c&&!rO(d.addedNodes,r);c&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const fx=new Map;let uK=0;function dK(){const n=window.devicePixelRatio;n!==uK&&(uK=n,fx.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Gse(n,t,e){const r=n.canvas,i=r&&yz(r);if(!i)return;const s=h7((d,f)=>{const g=i.clientWidth;e(d,f),g<i.clientWidth&&e()},window),c=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,y=f.contentRect.height;0===g&&0===y||s(g,y)});return c.observe(i),function $se(n,t){fx.size||window.addEventListener("resize",dK),fx.set(n,t)}(n,s),c}function Dz(n,t,e){e&&e.disconnect(),"resize"===t&&function Wse(n){fx.delete(n),fx.size||window.removeEventListener("resize",dK)}(n)}function qse(n,t,e){const r=n.canvas,i=h7(s=>{null!==n.ctx&&e(function Use(n,t){const e=Lse[n.type]||n.type,{x:r,y:i}=Ap(n,t);return{type:e,chart:t,native:n,x:void 0!==r?r:null,y:void 0!==i?i:null}}(s,n))},n);return function Bse(n,t,e){n&&n.addEventListener(t,e,cK)}(r,t,i),i}class Kse extends aK{acquireContext(t,e){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(function Vse(n,t){const e=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[nO]={initial:{height:r,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",lK(i)){const s=P7(n,"width");void 0!==s&&(n.width=s)}if(lK(r))if(""===n.style.height)n.height=n.width/(t||2);else{const s=P7(n,"height");void 0!==s&&(n.height=s)}}(t,e),r):null}releaseContext(t){const e=t.canvas;if(!e[nO])return!1;const r=e[nO].initial;["height","width"].forEach(s=>{const c=r[s];at(c)?e.removeAttribute(s):e.setAttribute(s,c)});const i=r.style||{};return Object.keys(i).forEach(s=>{e.style[s]=i[s]}),e.width=e.width,delete e[nO],!0}addEventListener(t,e,r){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Hse,detach:zse,resize:Gse}[e]||qse)(t,e,r)}removeEventListener(t,e){const r=t.$proxies||(t.$proxies={}),i=r[e];i&&(({attach:Dz,detach:Dz,resize:Dz}[e]||jse)(t,e,i),r[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,r,i){return function Noe(n,t,e,r){const i=Zk(n),s=Dp(i,"margin"),c=Yk(i.maxWidth,n,"clientWidth")||$k,d=Yk(i.maxHeight,n,"clientHeight")||$k,f=function Ooe(n,t,e){let r,i;if(void 0===t||void 0===e){const s=n&&yz(n);if(s){const c=s.getBoundingClientRect(),d=Zk(s),f=Dp(d,"border","width"),g=Dp(d,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,r=Yk(d.maxWidth,s,"clientWidth"),i=Yk(d.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:r||$k,maxHeight:i||$k}}(n,t,e);let{width:g,height:y}=f;if("content-box"===i.boxSizing){const C=Dp(i,"border","width"),x=Dp(i,"padding");g-=x.width+C.width,y-=x.height+C.height}return g=Math.max(0,g-s.width),y=Math.max(0,r?g/r:y-s.height),g=Jk(Math.min(g,c,f.maxWidth)),y=Jk(Math.min(y,d,f.maxHeight)),g&&!y&&(y=Jk(g/2)),(void 0!==t||void 0!==e)&&r&&f.height&&y>f.height&&(y=f.height,g=Jk(Math.floor(y*r))),{width:g,height:y}}(t,e,r,i)}isAttached(t){const e=t&&yz(t);return!(!e||!e.isConnected)}}class oc{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:r}=this.getProps(["x","y"],t);return{x:e,y:r}}hasValue(){return _v(this.x)&&_v(this.y)}getProps(t,e){const r=this.$animations;if(!e||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}function iO(n,t,e,r,i){const s=Ye(r,0),c=Math.min(Ye(i,n.length),n.length);let f,g,y,d=0;for(e=Math.ceil(e),i&&(f=i-r,e=f/Math.floor(f/e)),y=s;y<0;)d++,y=Math.round(s+d*e);for(g=Math.max(s,0);g<c;g++)g===y&&(t.push(n[g]),d++,y=Math.round(s+d*e))}const hK=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,fK=(n,t)=>Math.min(t||n,n);function pK(n,t){const e=[],r=n.length/t,i=n.length;let s=0;for(;s<i;s+=r)e.push(n[Math.floor(s)]);return e}function rae(n,t,e){const r=n.ticks.length,i=Math.min(t,r-1),s=n._startPixel,c=n._endPixel,d=1e-6;let g,f=n.getPixelForTick(i);if(!(e&&(g=1===r?Math.max(f-s,c-f):0===t?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(i-1))/2,f+=i<t?g:-g,f<s-d||f>c+d)))return f}function px(n){return n.drawTicks?n.tickLength:0}function mK(n,t){if(!n.display)return 0;const e=mr(n.font,t),r=ri(n.padding);return(ln(n.text)?n.text.length:1)*e.lineHeight+r.height}function aae(n,t,e){let r=az(n);return(e&&"right"!==t||!e&&"right"===t)&&(r=(n=>"left"===n?"right":"right"===n?"left":n)(r)),r}class Rp extends oc{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:r,_suggestedMax:i}=this;return t=yo(t,Number.POSITIVE_INFINITY),e=yo(e,Number.NEGATIVE_INFINITY),r=yo(r,Number.POSITIVE_INFINITY),i=yo(i,Number.NEGATIVE_INFINITY),{min:yo(t,r),max:yo(e,i),minDefined:kn(t),maxDefined:kn(e)}}getMinMax(t){let c,{min:e,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:e,max:r};const d=this.getMatchingVisibleMetas();for(let f=0,g=d.length;f<g;++f)c=d[f].controller.getMinMax(this,t),i||(e=Math.min(e,c.min)),s||(r=Math.max(r,c.max));return e=s&&e>r?r:e,r=i&&e>r?e:r,{min:yo(e,yo(r,e)),max:yo(r,yo(e,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yt(this.options.beforeUpdate,[this])}update(t,e,r){const{beginAtZero:i,grace:s,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function foe(n,t,e){const{min:r,max:i}=n,s=J9(t,(i-r)/2),c=(d,f)=>e&&0===d?0:d+f;return{min:c(r,-Math.abs(s)),max:c(i,s)}}(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?pK(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||"auto"===c.source)&&(this.ticks=function Qse(n,t){const e=n.options.ticks,r=function Yse(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),i=Math.min(e.maxTicksLimit||r,r),s=e.major.enabled?function Jse(n){const t=[];let e,r;for(e=0,r=n.length;e<r;e++)n[e].major&&t.push(e);return t}(t):[],c=s.length,d=s[0],f=s[c-1],g=[];if(c>i)return function eae(n,t,e,r){let c,i=0,s=e[0];for(r=Math.ceil(r),c=0;c<n.length;c++)c===s&&(t.push(n[c]),i++,s=e[i*r])}(t,g,s,c/i),g;const y=function Zse(n,t,e){const r=function tae(n){const t=n.length;let e,r;if(t<2)return!1;for(r=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==r)return!1;return r}(n),i=t.length/e;if(!r)return Math.max(i,1);const s=function Vie(n){const t=[],e=Math.sqrt(n);let r;for(r=1;r<e;r++)n%r==0&&(t.push(r),t.push(n/r));return e===(0|e)&&t.push(e),t.sort((i,s)=>i-s).pop(),t}(r);for(let c=0,d=s.length-1;c<d;c++){const f=s[c];if(f>i)return f}return Math.max(i,1)}(s,t,i);if(c>0){let b,C;const x=c>1?Math.round((f-d)/(c-1)):null;for(iO(t,g,y,at(x)?0:d-x,d),b=0,C=c-1;b<C;b++)iO(t,g,y,s[b],s[b+1]);return iO(t,g,y,f,at(x)?t.length:f+x),g}return iO(t,g,y),g}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,r,t=this.options.reverse;this.isHorizontal()?(e=this.left,r=this.right):(e=this.top,r=this.bottom,t=!t),this._startPixel=e,this._endPixel=r,this._reversePixels=t,this._length=r-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yt(this.options.afterUpdate,[this])}beforeSetDimensions(){Yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Yt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=Yt(e.callback,[s.value,r,t],this)}afterTickToLabelConversion(){Yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,r=fK(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,s=e.maxRotation;let d,f,g,c=i;if(!this._isVisible()||!e.display||i>=s||r<=1||!this.isHorizontal())return void(this.labelRotation=i);const y=this._getLabelSizes(),b=y.widest.width,C=y.highest.height,x=Sr(this.chart.width-b,0,this.maxWidth);d=t.offset?this.maxWidth/r:x/(r-1),b+6>d&&(d=x/(r-(t.offset?.5:1)),f=this.maxHeight-px(t.grid)-e.padding-mK(t.title,this.chart.options.font),g=Math.sqrt(b*b+C*C),c=iz(Math.min(Math.asin(Sr((y.highest.height+6)/d,-1,1)),Math.asin(Sr(f/g,-1,1))-Math.asin(Sr(C/g,-1,1)))),c=Math.max(i,Math.min(s,c))),this.labelRotation=c}afterCalculateLabelRotation(){Yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:r,title:i,grid:s}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const f=mK(i,e.options.font);if(d?(t.width=this.maxWidth,t.height=px(s)+f):(t.height=this.maxHeight,t.width=px(s)+f),r.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:C}=this._getLabelSizes(),x=2*r.padding,S=As(this.labelRotation),M=Math.cos(S),R=Math.sin(S);d?t.height=Math.min(this.maxHeight,t.height+(r.mirror?0:R*b.width+M*C.height)+x):t.width=Math.min(this.maxWidth,t.width+(r.mirror?0:M*b.width+R*C.height)+x),this._calculatePadding(g,y,R,M)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,r,i){const{ticks:{align:s,padding:c},position:d}=this.options,f=0!==this.labelRotation,g="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,x=0;f?g?(C=i*t.width,x=r*e.height):(C=r*t.height,x=i*e.width):"start"===s?x=e.width:"end"===s?C=t.width:"inner"!==s&&(C=t.width/2,x=e.width/2),this.paddingLeft=Math.max((C-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;"start"===s?(y=0,b=t.height):"end"===s&&(y=e.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,r=t.length;e<r;e++)at(t[e].label)&&(t.splice(e,1),r--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let r=this.ticks;e<r.length&&(r=pK(r,e)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,r){const{ctx:i,_longestTextCache:s}=this,c=[],d=[],f=Math.floor(e/fK(e,r));let b,C,x,S,M,R,B,H,G,Y,Q,g=0,y=0;for(b=0;b<e;b+=f){if(S=t[b].label,M=this._resolveTickFontOptions(b),i.font=R=M.string,B=s[R]=s[R]||{data:{},gc:[]},H=M.lineHeight,G=Y=0,at(S)||ln(S)){if(ln(S))for(C=0,x=S.length;C<x;++C)Q=S[C],!at(Q)&&!ln(Q)&&(G=qk(i,B.data,B.gc,G,Q),Y+=H)}else G=qk(i,B.data,B.gc,G,S),Y=H;c.push(G),d.push(Y),g=Math.max(G,g),y=Math.max(Y,y)}!function iae(n,t){Bt(n,e=>{const r=e.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete e.data[r[s]];r.splice(0,i)}})}(s,e);const Z=c.indexOf(g),V=d.indexOf(y),k=L=>({width:c[L]||0,height:d[L]||0});return{first:k(0),last:k(e-1),widest:k(Z),highest:k(V),widths:c,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function Hie(n){return Sr(n,-32768,32767)}(this._alignToPixels?Ip(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const r=e[t];return r.$context||(r.$context=function sae(n,t,e){return xd(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,r))}return this.$context||(this.$context=function oae(n,t){return xd(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=As(this.labelRotation),r=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),s=this._getLabelSizes(),c=t.autoSkipPadding||0,d=s?s.widest.width+c:0,f=s?s.highest.height+c:0;return this.isHorizontal()?f*r>d*i?d/r:f/i:f*i<d*r?f/r:d/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,r=this.chart,i=this.options,{grid:s,position:c,border:d}=i,f=s.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),C=px(s),x=[],S=d.setContext(this.getContext()),M=S.display?S.width:0,R=M/2,B=function(Zt){return Ip(r,Zt,M)};let H,G,Y,Q,Z,V,k,L,z,W,q,U;if("top"===c)H=B(this.bottom),V=this.bottom-C,L=H-R,W=B(t.top)+R,U=t.bottom;else if("bottom"===c)H=B(this.top),W=t.top,U=B(t.bottom)-R,V=H+R,L=this.top+C;else if("left"===c)H=B(this.right),Z=this.right-C,k=H-R,z=B(t.left)+R,q=t.right;else if("right"===c)H=B(this.left),z=t.left,q=B(t.right)-R,Z=H+R,k=this.left+C;else if("x"===e){if("center"===c)H=B((t.top+t.bottom)/2+.5);else if(dt(c)){const Zt=Object.keys(c)[0];H=B(this.chart.scales[Zt].getPixelForValue(c[Zt]))}W=t.top,U=t.bottom,V=H+R,L=V+C}else if("y"===e){if("center"===c)H=B((t.left+t.right)/2);else if(dt(c)){const Zt=Object.keys(c)[0];H=B(this.chart.scales[Zt].getPixelForValue(c[Zt]))}Z=H-R,k=Z-C,z=t.left,q=t.right}const Dn=Ye(i.ticks.maxTicksLimit,b),yt=Math.max(1,Math.ceil(b/Dn));for(G=0;G<b;G+=yt){const Zt=this.getContext(G),Wt=s.setContext(Zt),Br=d.setContext(Zt),sr=Wt.lineWidth,ac=Wt.color,Ev=Br.dash||[],wi=Br.dashOffset,On=Wt.tickWidth,lc=Wt.tickColor,Ss=Wt.tickBorderDash||[],cc=Wt.tickBorderDashOffset;Y=rae(this,G,f),void 0!==Y&&(Q=Ip(r,Y,sr),g?Z=k=z=q=Q:V=L=W=U=Q,x.push({tx1:Z,ty1:V,tx2:k,ty2:L,x1:z,y1:W,x2:q,y2:U,width:sr,color:ac,borderDash:Ev,borderDashOffset:wi,tickWidth:On,tickColor:lc,tickBorderDash:Ss,tickBorderDashOffset:cc}))}return this._ticksLength=b,this._borderValue=H,x}_computeLabelItems(t){const e=this.axis,r=this.options,{position:i,ticks:s}=r,c=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:g,padding:y,mirror:b}=s,C=px(r.grid),x=C+y,S=b?-y:x,M=-As(this.labelRotation),R=[];let B,H,G,Y,Q,Z,V,k,L,z,W,q,U="middle";if("top"===i)Z=this.bottom-S,V=this._getXAxisLabelAlignment();else if("bottom"===i)Z=this.top+S,V=this._getXAxisLabelAlignment();else if("left"===i){const yt=this._getYAxisLabelAlignment(C);V=yt.textAlign,Q=yt.x}else if("right"===i){const yt=this._getYAxisLabelAlignment(C);V=yt.textAlign,Q=yt.x}else if("x"===e){if("center"===i)Z=(t.top+t.bottom)/2+x;else if(dt(i)){const yt=Object.keys(i)[0];Z=this.chart.scales[yt].getPixelForValue(i[yt])+x}V=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)Q=(t.left+t.right)/2-x;else if(dt(i)){const yt=Object.keys(i)[0];Q=this.chart.scales[yt].getPixelForValue(i[yt])}V=this._getYAxisLabelAlignment(C).textAlign}"y"===e&&("start"===f?U="top":"end"===f&&(U="bottom"));const Dn=this._getLabelSizes();for(B=0,H=d.length;B<H;++B){G=d[B],Y=G.label;const yt=s.setContext(this.getContext(B));k=this.getPixelForTick(B)+s.labelOffset,L=this._resolveTickFontOptions(B),z=L.lineHeight,W=ln(Y)?Y.length:1;const Zt=W/2,Wt=yt.color,Br=yt.textStrokeColor,sr=yt.textStrokeWidth;let Ev,ac=V;if(c?(Q=k,"inner"===V&&(ac=B===H-1?this.options.reverse?"left":"right":0===B?this.options.reverse?"right":"left":"center"),q="top"===i?"near"===g||0!==M?-W*z+z/2:"center"===g?-Dn.highest.height/2-Zt*z+z:z/2-Dn.highest.height:"near"===g||0!==M?z/2:"center"===g?Dn.highest.height/2-Zt*z:Dn.highest.height-W*z,b&&(q*=-1),0!==M&&!yt.showLabelBackdrop&&(Q+=z/2*Math.sin(M))):(Z=k,q=(1-W)*z/2),yt.showLabelBackdrop){const wi=ri(yt.backdropPadding),On=Dn.heights[B],lc=Dn.widths[B];let Ss=q-wi.top,cc=0-wi.left;switch(U){case"middle":Ss-=On/2;break;case"bottom":Ss-=On}switch(V){case"center":cc-=lc/2;break;case"right":cc-=lc;break;case"inner":B===H-1?cc-=lc:B>0&&(cc-=lc/2)}Ev={left:cc,top:Ss,width:lc+wi.width,height:On+wi.height,color:yt.backdropColor}}R.push({label:Y,font:L,textOffset:q,options:{rotation:M,color:Wt,strokeColor:Br,strokeWidth:sr,textAlign:ac,textBaseline:U,translation:[Q,Z],backdrop:Ev}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-As(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,d=t+s,f=this._getLabelSizes().widest.width;let g,y;return"left"===e?i?(y=this.right+s,"near"===r?g="left":"center"===r?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-d,"near"===r?g="right":"center"===r?(g="center",y-=f/2):(g="left",y=this.left)):"right"===e?i?(y=this.left+s,"near"===r?g="right":"center"===r?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+d,"near"===r?g="left":"center"===r?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:r,top:i,width:s,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(r,i,s,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,c;const d=(f,g,y)=>{!y.width||!y.color||(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(g.x,g.y),r.stroke(),r.restore())};if(e.display)for(s=0,c=i.length;s<c;++s){const f=i[s];e.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),c=r.display?s.width:0;if(!c)return;const d=i.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,b,C;this.isHorizontal()?(g=Ip(t,this.left,c)-c/2,y=Ip(t,this.right,d)+d/2,b=C=f):(b=Ip(t,this.top,c)-c/2,C=Ip(t,this.bottom,d)+d/2,g=y=f),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,C),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Kk(r,i);const s=this.getLabelItems(t);for(const c of s)xp(r,c.label,0,c.textOffset,c.font,c.options);i&&Xk(r)}drawTitle(){const{ctx:t,options:{position:e,title:r,reverse:i}}=this;if(!r.display)return;const s=mr(r.font),c=ri(r.padding),d=r.align;let f=s.lineHeight/2;"bottom"===e||"center"===e||dt(e)?(f+=c.bottom,ln(r.text)&&(f+=s.lineHeight*(r.text.length-1))):f+=c.top;const{titleX:g,titleY:y,maxWidth:b,rotation:C}=function lae(n,t,e,r){const{top:i,left:s,bottom:c,right:d,chart:f}=n,{chartArea:g,scales:y}=f;let C,x,S,b=0;const M=c-i,R=d-s;if(n.isHorizontal()){if(x=ni(r,s,d),dt(e)){const B=Object.keys(e)[0];S=y[B].getPixelForValue(e[B])+M-t}else S="center"===e?(g.bottom+g.top)/2+M-t:hK(n,e,t);C=d-s}else{if(dt(e)){const B=Object.keys(e)[0];x=y[B].getPixelForValue(e[B])-R+t}else x="center"===e?(g.left+g.right)/2-R+t:hK(n,e,t);S=ni(r,c,i),b="left"===e?-$n:$n}return{titleX:x,titleY:S,maxWidth:C,rotation:b}}(this,f,e,d);xp(t,r.text,0,0,s,{color:r.color,maxWidth:b,rotation:C,textAlign:aae(d,e,i),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,r=Ye(t.grid&&t.grid.z,-1),i=Ye(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Rp.prototype.draw?[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,c;for(s=0,c=e.length;s<c;++s){const d=e[s];d[r]===this.id&&(!t||d.type===t)&&i.push(d)}return i}_resolveTickFontOptions(t){return mr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class oO{constructor(t,e,r){this.type=t,this.scope=e,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let r;(function dae(n){return"id"in n&&"defaults"in n})(e)&&(r=this.register(e));const i=this.items,s=t.id,c=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,function cae(n,t,e){const r=ZI(Object.create(null),[e?En.get(e):{},En.get(t),n.defaults]);En.set(t,r),n.defaultRoutes&&function uae(n,t){Object.keys(t).forEach(e=>{const r=e.split("."),i=r.pop(),s=[n].concat(r).join("."),c=t[e].split("."),d=c.pop(),f=c.join(".");En.route(s,i,f,d)})}(t,n.defaultRoutes),n.descriptors&&En.describe(t,n.descriptors)}(t,c,r),this.override&&En.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,r=t.id,i=this.scope;r in e&&delete e[r],i&&r in En[i]&&(delete En[i][r],this.override&&delete Cp[r])}}class hae{constructor(){this.controllers=new oO(Td,"datasets",!0),this.elements=new oO(oc,"elements"),this.plugins=new oO(Object,"plugins"),this.scales=new oO(Rp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,r){[...e].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):Bt(i,c=>{const d=r||this._getRegistryForType(c);this._exec(t,d,c)})})}_exec(t,e,r){const i=rz(t);Yt(r["before"+i],[],r),e[t](r),Yt(r["after"+i],[],r)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const r=this._typedRegistries[e];if(r.isForType(t))return r}return this.plugins}_get(t,e,r){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var Pa=new hae;class fae{constructor(){this._init=[]}notify(t,e,r,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(s,t,e,r);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,r,i){i=i||{};for(const s of t){const c=s.plugin;if(!1===Yt(c[r],[e,i,s.options],c)&&i.cancelable)return!1}return!0}invalidate(){at(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const r=t&&t.config,i=Ye(r.options&&r.options.plugins,{}),s=function pae(n){const t={},e=[],r=Object.keys(Pa.plugins.items);for(let s=0;s<r.length;s++)e.push(Pa.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const c=i[s];-1===e.indexOf(c)&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}(r);return!1!==i||e?function gae(n,{plugins:t,localIds:e},r,i){const s=[],c=n.getContext();for(const d of t){const f=d.id,g=mae(r[f],i);null!==g&&s.push({plugin:d,options:_ae(n.config,{plugin:d,local:e[f]},g,c)})}return s}(t,s,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],r=this._cache,i=(s,c)=>s.filter(d=>!c.some(f=>d.plugin.id===f.plugin.id));this._notify(i(e,r),t,"stop"),this._notify(i(r,e),t,"start")}}function mae(n,t){return t||!1!==n?!0===n?{}:n:null}function _ae(n,{plugin:t,local:e},r,i){const s=n.pluginScopeKeys(t),c=n.getOptionScopes(r,s);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Az(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(En.datasets[n]||{}).indexAxis||"x"}function gK(n){if("x"===n||"y"===n||"r"===n)return n}function bae(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function Sz(n,...t){if(gK(n))return n;for(const e of t){const r=e.axis||bae(e.position)||n.length>1&&gK(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _K(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function yK(n){const t=n.options||(n.options={});t.plugins=Ye(t.plugins,{}),t.scales=function Eae(n,t){const e=Cp[n.type]||{scales:{}},r=t.scales||{},i=Az(n.type,t),s=Object.create(null);return Object.keys(r).forEach(c=>{const d=r[c];if(!dt(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Sz(c,d,function wae(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(e.length)return _K(n,"x",e[0])||_K(n,"y",e[0])}return{}}(c,n),En.scales[d.type]),g=function vae(n,t){return n===t?"_index_":"_value_"}(f,i),y=e.scales||{};s[c]=JI(Object.create(null),[{axis:f},d,y[f],y[g]])}),n.data.datasets.forEach(c=>{const d=c.type||n.type,f=c.indexAxis||Az(d,t),y=(Cp[d]||{}).scales||{};Object.keys(y).forEach(b=>{const C=function yae(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(b,f),x=c[C+"AxisID"]||C;s[x]=s[x]||Object.create(null),JI(s[x],[{axis:C},r[x],y[b]])})}),Object.keys(s).forEach(c=>{const d=s[c];JI(d,[En.scales[d.type],En.scale])}),s}(n,t)}function vK(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const bK=new Map,wK=new Set;function sO(n,t){let e=bK.get(n);return e||(e=t(),bK.set(n,e),wK.add(e)),e}const mx=(n,t,e)=>{const r=Ed(t,e);void 0!==r&&n.add(r)};class Iae{constructor(t){this._config=function Cae(n){return(n=n||{}).data=vK(n.data),yK(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=vK(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),yK(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sO(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return sO(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return sO(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return sO(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const r=this._scopeCache;let i=r.get(t);return(!i||e)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,e,r){const{options:i,type:s}=this,c=this._cachedScopes(t,r),d=c.get(e);if(d)return d;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(b=>mx(f,t,b))),y.forEach(b=>mx(f,i,b)),y.forEach(b=>mx(f,Cp[s]||{},b)),y.forEach(b=>mx(f,En,b)),y.forEach(b=>mx(f,uz,b))});const g=Array.from(f);return 0===g.length&&g.push(Object.create(null)),wK.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Cp[e]||{},En.datasets[e]||{},{type:e},En,uz]}resolveNamedOptions(t,e,r,i=[""]){const s={$shared:!0},{resolver:c,subPrefixes:d}=EK(this._resolverCache,t,i);let f=c;(function Tae(n,t){const{isScriptable:e,isIndexable:r}=C7(n);for(const i of t){const s=e(i),c=r(i),d=(c||s)&&n[i];if(s&&(Cd(d)||xae(d))||c&&ln(d))return!0}return!1})(c,e)&&(s.$shared=!1,f=yv(c,r=Cd(r)?r():r,this.createResolver(t,r,d)));for(const g of e)s[g]=f[g];return s}createResolver(t,e,r=[""],i){const{resolver:s}=EK(this._resolverCache,t,r);return dt(e)?yv(s,e,void 0,i):s}}function EK(n,t,e){let r=n.get(t);r||(r=new Map,n.set(t,r));const i=e.join();let s=r.get(i);return s||(s={resolver:pz(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},r.set(i,s)),s}const xae=n=>dt(n)&&Object.getOwnPropertyNames(n).some(t=>Cd(n[t])),Aae=["top","bottom","left","right","chartArea"];function CK(n,t){return"top"===n||"bottom"===n||-1===Aae.indexOf(n)&&"x"===t}function IK(n,t){return function(e,r){return e[n]===r[n]?e[t]-r[t]:e[n]-r[n]}}function xK(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Yt(e&&e.onComplete,[n],t)}function Sae(n){const t=n.chart,e=t.options.animation;Yt(e&&e.onProgress,[n],t)}function TK(n){return _z()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const aO={},DK=n=>{const t=TK(n);return Object.values(aO).filter(e=>e.canvas===t).pop()};function Mae(n,t,e){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=t){const c=n[i];delete n[i],(e>0||s>t)&&(n[s+e]=c)}}}let Mz=(()=>class n{static defaults=En;static instances=aO;static overrides=Cp;static registry=Pa;static version="4.4.9";static getChart=DK;static register(...e){Pa.add(...e),AK()}static unregister(...e){Pa.remove(...e),AK()}constructor(e,r){const i=this.config=new Iae(r),s=TK(e),c=DK(s);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");const d=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Xse(n){return!_z()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Fse:Kse}(s)),this.platform.updateConfig(i);const f=this.platform.acquireContext(s,d.aspectRatio),g=f&&f.canvas,y=g&&g.height,b=g&&g.width;this.id=Sie(),this.ctx=f,this.canvas=g,this.width=b,this.height=y,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fae,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Gie(n,t){let e;return function(...r){return t?(clearTimeout(e),e=setTimeout(n,t,r)):n.apply(this,r),t}}(C=>this.update(C),d.resizeDelay||0),this._dataChanges=[],aO[this.id]=this,f&&g?(ic.listen(this,"complete",xK),ic.listen(this,"progress",Sae),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:i,height:s,_aspectRatio:c}=this;return at(e)?r&&c?c:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Pa}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():R7(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return b7(this.canvas,this.ctx),this}stop(){return ic.stop(this),this}resize(e,r){ic.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const i=this.options,d=this.platform.getMaximumSize(this.canvas,e,r,i.maintainAspectRatio&&this.aspectRatio),f=i.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,R7(this,f,!0)&&(this.notifyPlugins("resize",{size:d}),Yt(i.onResize,[this,d],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){Bt(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,r=e.scales,i=this.scales,s=Object.keys(i).reduce((d,f)=>(d[f]=!1,d),{});let c=[];r&&(c=c.concat(Object.keys(r).map(d=>{const f=r[d],g=Sz(d,f),y="r"===g,b="x"===g;return{options:f,dposition:y?"chartArea":b?"bottom":"left",dtype:y?"radialLinear":b?"category":"linear"}}))),Bt(c,d=>{const f=d.options,g=f.id,y=Sz(g,f),b=Ye(f.type,d.dtype);(void 0===f.position||CK(f.position,y)!==CK(d.dposition))&&(f.position=d.dposition),s[g]=!0;let C=null;g in i&&i[g].type===b?C=i[g]:(C=new(Pa.getScale(b))({id:g,type:b,ctx:this.ctx,chart:this}),i[C.id]=C),C.init(f,e)}),Bt(s,(d,f)=>{d||delete i[f]}),Bt(i,d=>{ii.configure(this,d,d.options),ii.addBox(this,d)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,i=e.length;if(e.sort((s,c)=>s.index-c.index),i>r){for(let s=r;s<i;++s)this._destroyDatasetMeta(s);e.splice(r,i-r)}this._sortedMetasets=e.slice(0).sort(IK("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((i,s)=>{0===r.filter(c=>c===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=r.length;i<s;i++){const c=r[i];let d=this.getDatasetMeta(i);const f=c.type||this.config.type;if(d.type&&d.type!==f&&(this._destroyDatasetMeta(i),d=this.getDatasetMeta(i)),d.type=f,d.indexAxis=c.indexAxis||Az(f,this.options),d.order=c.order||0,d.index=i,d.label=""+c.label,d.visible=this.isDatasetVisible(i),d.controller)d.controller.updateIndex(i),d.controller.linkScales();else{const g=Pa.getController(f),{datasetElementType:y,dataElementType:b}=En.datasets[f];Object.assign(g,{dataElementType:Pa.getElement(b),datasetElementType:y&&Pa.getElement(y)}),d.controller=new g(this,i),e.push(d.controller)}}return this._updateMetasets(),e}_resetElements(){Bt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let y=0,b=this.data.datasets.length;y<b;y++){const{controller:C}=this.getDatasetMeta(y),x=!s&&-1===c.indexOf(C);C.buildOrUpdateElements(x),d=Math.max(+C.getMaxOverflow(),d)}d=this._minPadding=i.layout.autoPadding?d:0,this._updateLayout(d),s||Bt(c,y=>{y.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(IK("z","_idx"));const{_active:f,_lastEvent:g}=this;g?this._eventHandler(g,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Bt(this.scales,e=>{ii.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!n7(r,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:c}of r)Mae(e,s,"_removeElements"===i?-c:c)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,i=c=>new Set(e.filter(d=>d[0]===c).map((d,f)=>f+","+d.splice(1).join(","))),s=i(0);for(let c=1;c<r;c++)if(!n7(s,i(c)))return;return Array.from(s).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ii.update(this,this.width,this.height,e);const r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],Bt(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,c)=>{s._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,Cd(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(r),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ic.has(this)?this.attached&&!ic.running(this)&&ic.start(this):(this.draw(),xK({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,i=[];let s,c;for(s=0,c=r.length;s<c;++s){const d=r[s];(!e||d.visible)&&i.push(d)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=U7(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(s&&Kk(r,s),e.controller.draw(),s&&Xk(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return rc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,i,s){const c=Ase.modes[r];return"function"==typeof c?c(this,e,i,s):[]}getDatasetMeta(e){const r=this.data.datasets[e],i=this._metasets;let s=i.filter(c=>c&&c._dataset===r).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=xd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!r.hidden}setDatasetVisibility(e,r){this.getDatasetMeta(e).hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,i){const s=i?"show":"hide",c=this.getDatasetMeta(e),d=c.controller._resolveAnimations(void 0,s);ex(r)?(c.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),d.update(c,{visible:i}),this.update(f=>f.datasetIndex===e?s:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),ic.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),b7(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete aO[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,i=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},s=(c,d,f)=>{c.offsetX=d,c.offsetY=f,this._eventHandler(c)};Bt(this.options.events,c=>i(c,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,i=(g,y)=>{r.addEventListener(this,g,y),e[g]=y},s=(g,y)=>{e[g]&&(r.removeEventListener(this,g,y),delete e[g])},c=(g,y)=>{this.canvas&&this.resize(g,y)};let d;const f=()=>{s("attach",f),this.attached=!0,this.resize(),i("resize",c),i("detach",d)};d=()=>{this.attached=!1,s("resize",c),this._stop(),this._resize(0,0),i("attach",f)},r.isAttached(this.canvas)?f():d()}unbindEvents(){Bt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Bt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,i){const s=i?"set":"remove";let c,d,f,g;for("dataset"===r&&(c=this.getDatasetMeta(e[0].datasetIndex),c.controller["_"+s+"DatasetHoverStyle"]()),f=0,g=e.length;f<g;++f){d=e[f];const y=d&&this.getDatasetMeta(d.datasetIndex).controller;y&&y[s+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],i=e.map(({datasetIndex:c,index:d})=>{const f=this.getDatasetMeta(c);if(!f)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:f.data[d],index:d}});!Hk(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(e,r,i){return this._plugins.notify(this,e,r,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(r=>r.plugin.id===e).length}_updateHoverStyles(e,r,i){const s=this.options.hover,c=(g,y)=>g.filter(b=>!y.some(C=>b.datasetIndex===C.datasetIndex&&b.index===C.index)),d=c(r,e),f=i?e:c(e,r);d.length&&this.updateHoverStyle(d,s.mode,!1),f.length&&s.mode&&this.updateHoverStyle(f,s.mode,!0)}_eventHandler(e,r){const i={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},s=d=>(d.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const c=this._handleEvent(e,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(c||i.changed)&&this.render(),this}_handleEvent(e,r,i){const{_active:s=[],options:c}=this,f=this._getActiveElements(e,s,i,r),g=function Nie(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),y=function Rae(n,t,e,r){return e&&"mouseout"!==n.type?r?t:n:null}(e,this._lastEvent,i,g);i&&(this._lastEvent=null,Yt(c.onHover,[e,f,this],this),g&&Yt(c.onClick,[e,f,this],this));const b=!Hk(f,s);return(b||r)&&(this._active=f,this._updateHoverStyles(f,s,r)),this._lastEvent=y,b}_getActiveElements(e,r,i,s){if("mouseout"===e.type)return[];if(!i)return r;const c=this.options.hover;return this.getElementsAtEventForMode(e,c.mode,c,s)}})();function AK(){return Bt(Mz.instances,n=>n._plugins.invalidate())}function wv(n,t,e,r){return{x:e+n*Math.cos(t),y:r+n*Math.sin(t)}}function lO(n,t,e,r,i,s){const{x:c,y:d,startAngle:f,pixelMargin:g,innerRadius:y}=t,b=Math.max(t.outerRadius+r+e-g,0),C=y>0?y+r+e+g:0;let x=0;const S=i-f;if(r){const Wt=((y>0?y-r:0)+(b>0?b-r:0))/2;x=(S-(0!==Wt?S*Wt/(Wt+r):S))/2}const R=(S-Math.max(.001,S*b-e/cn)/b)/2,B=f+R+x,H=i-R-x,{outerStart:G,outerEnd:Y,innerStart:Q,innerEnd:Z}=function Oae(n,t,e,r){const i=function kae(n){return fz(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,c=Math.min(s,r*t/2),d=f=>{const g=(e-Math.min(s,f))*r/2;return Sr(f,0,Math.min(s,g))};return{outerStart:d(i.outerStart),outerEnd:d(i.outerEnd),innerStart:Sr(i.innerStart,0,c),innerEnd:Sr(i.innerEnd,0,c)}}(t,C,b,H-B),V=b-G,k=b-Y,L=B+G/V,z=H-Y/k,W=C+Q,q=C+Z,U=B+Q/W,Dn=H-Z/q;if(n.beginPath(),s){const yt=(L+z)/2;if(n.arc(c,d,b,L,yt),n.arc(c,d,b,yt,z),Y>0){const sr=wv(k,z,c,d);n.arc(sr.x,sr.y,Y,z,H+$n)}const Zt=wv(q,H,c,d);if(n.lineTo(Zt.x,Zt.y),Z>0){const sr=wv(q,Dn,c,d);n.arc(sr.x,sr.y,Z,H+$n,Dn+Math.PI)}const Wt=(H-Z/C+(B+Q/C))/2;if(n.arc(c,d,C,H-Z/C,Wt,!0),n.arc(c,d,C,Wt,B+Q/C,!0),Q>0){const sr=wv(W,U,c,d);n.arc(sr.x,sr.y,Q,U+Math.PI,B-$n)}const Br=wv(V,B,c,d);if(n.lineTo(Br.x,Br.y),G>0){const sr=wv(V,L,c,d);n.arc(sr.x,sr.y,G,B-$n,L)}}else{n.moveTo(c,d);const yt=Math.cos(L)*b+c,Zt=Math.sin(L)*b+d;n.lineTo(yt,Zt);const Wt=Math.cos(z)*b+c,Br=Math.sin(z)*b+d;n.lineTo(Wt,Br)}n.closePath()}function SK(n,t,e=t){n.lineCap=Ye(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ye(e.borderDash,t.borderDash)),n.lineDashOffset=Ye(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ye(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ye(e.borderWidth,t.borderWidth),n.strokeStyle=Ye(e.borderColor,t.borderColor)}function Vae(n,t,e){n.lineTo(e.x,e.y)}function MK(n,t,e={}){const r=n.length,{start:i=0,end:s=r-1}=e,{start:c,end:d}=t,f=Math.max(i,c),g=Math.min(s,d);return{count:r,start:f,loop:t.loop,ilen:g<f&&!(i<c&&s<c||i>d&&s>d)?r+g-f:g-f}}function jae(n,t,e,r){const{points:i,options:s}=t,{count:c,start:d,loop:f,ilen:g}=MK(i,e,r),y=function Bae(n){return n.stepped?ioe:n.tension||"monotone"===n.cubicInterpolationMode?ooe:Vae}(s);let x,S,M,{move:b=!0,reverse:C}=r||{};for(x=0;x<=g;++x)S=i[(d+(C?g-x:x))%c],!S.skip&&(b?(n.moveTo(S.x,S.y),b=!1):y(n,M,S,C,s.stepped),M=S);return f&&(S=i[(d+(C?g:0))%c],y(n,M,S,C,s.stepped)),!!f}function Uae(n,t,e,r){const i=t.points,{count:s,start:c,ilen:d}=MK(i,e,r),{move:f=!0,reverse:g}=r||{};let C,x,S,M,R,B,y=0,b=0;const H=Y=>(c+(g?d-Y:Y))%s,G=()=>{M!==R&&(n.lineTo(y,R),n.lineTo(y,M),n.lineTo(y,B))};for(f&&(x=i[H(0)],n.moveTo(x.x,x.y)),C=0;C<=d;++C){if(x=i[H(C)],x.skip)continue;const Y=x.x,Q=x.y,Z=0|Y;Z===S?(Q<M?M=Q:Q>R&&(R=Q),y=(b*y+Y)/++b):(G(),n.lineTo(Y,Q),S=Z,b=0,M=R=Q),B=Q}G()}function Rz(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?jae:Uae}const Wae="function"==typeof Path2D;let cO=(()=>class n extends oc{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(Soe(this._points,i,e,i.spanGaps?this._loop:this._fullLoop,r),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function $oe(n,t){const e=n.points,r=n.options.spanGaps,i=e.length;if(!i)return[];const s=!!n._loop,{start:c,end:d}=function Hoe(n,t,e,r){let i=0,s=t-1;if(e&&!r)for(;i<t&&!n[i].skip;)i++;for(;i<t&&n[i].skip;)i++;for(i%=t,e&&(s+=i);s>i&&n[s%t].skip;)s--;return s%=t,{start:i,end:s}}(e,i,s,r);return function B7(n,t,e,r){return r&&r.setContext&&e?function Woe(n,t,e,r){const i=n._chart.getContext(),s=j7(n.options),{_datasetIndex:c,options:{spanGaps:d}}=n,f=e.length,g=[];let y=s,b=t[0].start,C=b;function x(S,M,R,B){const H=d?-1:1;if(S!==M){for(S+=f;e[S%f].skip;)S-=H;for(;e[M%f].skip;)M+=H;S%f!=M%f&&(g.push({start:S%f,end:M%f,loop:R,style:B}),y=B,b=M%f)}}for(const S of t){b=d?b:S.start;let R,M=e[b%f];for(C=b+1;C<=S.end;C++){const B=e[C%f];R=j7(r.setContext(xd(i,{type:"segment",p0:M,p1:B,p0DataIndex:(C-1)%f,p1DataIndex:C%f,datasetIndex:c}))),Goe(R,y)&&x(b,C-1,S.loop,y),M=B,y=R}b<C-1&&x(b,C-1,S.loop,y)}return g}(n,t,e,r):t}(n,!0===r?[{start:c,end:d,loop:s}]:function zoe(n,t,e,r){const i=n.length,s=[];let f,c=t,d=n[t];for(f=t+1;f<=e;++f){const g=n[f%i];g.skip||g.stop?d.skip||(s.push({start:t%i,end:(f-1)%i,loop:r=!1}),t=c=g.stop?f:null):(c=f,d.skip&&(t=f)),d=g}return null!==c&&s.push({start:t%i,end:c%i,loop:r}),s}(e,c,d<c?d+i:d,!!n._fullLoop&&0===c&&d===i-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,i=e.length;return i&&this.points[e[i-1].end]}interpolate(e,r){const i=this.options,s=e[r],c=this.points,d=V7(this,{property:r,start:s,end:s});if(!d.length)return;const f=[],g=function Hae(n){return n.stepped?Loe:n.tension||"monotone"===n.cubicInterpolationMode?Voe:Sp}(i);let y,b;for(y=0,b=d.length;y<b;++y){const{start:C,end:x}=d[y],S=c[C],M=c[x];if(S===M){f.push(S);continue}const B=g(S,M,Math.abs((s-S[r])/(M[r]-S[r])),i.stepped);B[r]=e[r],f.push(B)}return 1===f.length?f[0]:f}pathSegment(e,r,i){return Rz(this)(e,this,r,i)}path(e,r,i){const s=this.segments,c=Rz(this);let d=this._loop;r=r||0,i=i||this.points.length-r;for(const f of s)d&=c(e,this,f,{start:r,end:r+i-1});return!!d}draw(e,r,i,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Gae(n,t,e,r){Wae&&!t.options.segment?function zae(n,t,e,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,r)&&i.closePath()),SK(n,t.options),n.stroke(i)}(n,t,e,r):function $ae(n,t,e,r){const{segments:i,options:s}=t,c=Rz(t);for(const d of i)SK(n,s,d.style),n.beginPath(),c(n,t,d,{start:e,end:e+r-1})&&n.closePath(),n.stroke()}(n,t,e,r)}(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function RK(n,t,e,r){const i=n.options,{[e]:s}=n.getProps([e],r);return Math.abs(t-s)<i.radius+i.hitRadius}let qae=(()=>class n extends oc{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,i){const s=this.options,{x:c,y:d}=this.getProps(["x","y"],i);return Math.pow(e-c,2)+Math.pow(r-d,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,r){return RK(this,e,"x",r)}inYRange(e,r){return RK(this,e,"y",r)}getCenterPoint(e){const{x:r,y:i}=this.getProps(["x","y"],e);return{x:r,y:i}}size(e){let r=(e=e||this.options||{}).radius||0;return r=Math.max(r,r&&e.hoverRadius||0),2*(r+(r&&e.borderWidth||0))}draw(e,r){const i=this.options;this.skip||i.radius<.1||!rc(this,r,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,hz(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}})();function PK(n,t){const{x:e,y:r,base:i,width:s,height:c}=n.getProps(["x","y","base","width","height"],t);let d,f,g,y,b;return n.horizontal?(b=c/2,d=Math.min(e,i),f=Math.max(e,i),g=r-b,y=r+b):(b=s/2,d=e-b,f=e+b,g=Math.min(r,i),y=Math.max(r,i)),{left:d,top:g,right:f,bottom:y}}function Dd(n,t,e,r){return n?0:Sr(t,e,r)}function Pz(n,t,e,r){const i=null===t,s=null===e,d=n&&!(i&&s)&&PK(n,r);return d&&(i||tc(t,d.left,d.right))&&(s||tc(e,d.top,d.bottom))}function Zae(n,t){n.rect(t.x,t.y,t.w,t.h)}function kz(n,t,e={}){const r=n.x!==e.x?-t:0,i=n.y!==e.y?-t:0;return{x:n.x+r,y:n.y+i,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-r),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-i),radius:n.radius}}var ele=Object.freeze({__proto__:null,ArcElement:class Lae extends oc{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,r){const i=this.getProps(["x","y"],r),{angle:s,distance:c}=a7(i,{x:t,y:e}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),C=(this.options.spacing+this.options.borderWidth)/2,x=Ye(b,f-d),S=nx(s,d,f)&&d!==f,M=x>=un||S,R=tc(c,g+C,y+C);return M&&R}getCenterPoint(t){const{x:e,y:r,startAngle:i,endAngle:s,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,y=(i+s)/2,b=(c+d+g+f)/2;return{x:e+Math.cos(y)*b,y:r+Math.sin(y)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:r}=this,i=(e.offset||0)/4,s=(e.spacing||0)/2,c=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=r>un?Math.floor(r/un):0,0===r||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*i,Math.sin(d)*i);const g=i*(1-Math.sin(Math.min(cn,r||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function Nae(n,t,e,r,i){const{fullCircles:s,startAngle:c,circumference:d}=t;let f=t.endAngle;if(s){lO(n,t,e,r,f,i);for(let g=0;g<s;++g)n.fill();isNaN(d)||(f=c+(d%un||un))}lO(n,t,e,r,f,i),n.fill()}(t,this,g,s,c),function Fae(n,t,e,r,i){const{fullCircles:s,startAngle:c,circumference:d,options:f}=t,{borderWidth:g,borderJoinStyle:y,borderDash:b,borderDashOffset:C}=f,x="inner"===f.borderAlign;if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=C,x?(n.lineWidth=2*g,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let S=t.endAngle;if(s){lO(n,t,e,r,S,i);for(let M=0;M<s;++M)n.stroke();isNaN(d)||(S=c+(d%un||un))}x&&function Pae(n,t,e){const{startAngle:r,pixelMargin:i,x:s,y:c,outerRadius:d,innerRadius:f}=t;let g=i/d;n.beginPath(),n.arc(s,c,d,r-g,e+g),f>i?(g=i/f,n.arc(s,c,f,e+g,r-g,!0)):n.arc(s,c,i,e+$n,r-$n),n.closePath(),n.clip()}(n,t,S),s||(lO(n,t,e,r,S,i),n.stroke())}(t,this,g,s,c),t.restore()}},BarElement:class Jae extends oc{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:c}=function Qae(n){const t=PK(n),e=t.right-t.left,r=t.bottom-t.top,i=function Kae(n,t,e){const i=n.borderSkipped,s=E7(n.options.borderWidth);return{t:Dd(i.top,s.top,0,e),r:Dd(i.right,s.right,0,t),b:Dd(i.bottom,s.bottom,0,e),l:Dd(i.left,s.left,0,t)}}(n,e/2,r/2),s=function Xae(n,t,e){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=Tp(i),c=Math.min(t,e),d=n.borderSkipped,f=r||dt(i);return{topLeft:Dd(!f||d.top||d.left,s.topLeft,0,c),topRight:Dd(!f||d.top||d.right,s.topRight,0,c),bottomLeft:Dd(!f||d.bottom||d.left,s.bottomLeft,0,c),bottomRight:Dd(!f||d.bottom||d.right,s.bottomRight,0,c)}}(n,e/2,r/2);return{outer:{x:t.left,y:t.top,w:e,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}(this),d=function Yae(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(c.radius)?sx:Zae;t.save(),(c.w!==s.w||c.h!==s.h)&&(t.beginPath(),d(t,kz(c,e,s)),t.clip(),d(t,kz(s,-e,c)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),d(t,kz(s,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,r){return Pz(this,t,e,r)}inXRange(t,e){return Pz(this,t,null,e)}inYRange(t,e){return Pz(this,null,t,e)}getCenterPoint(t){const{x:e,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+i)/2:e,y:s?r:(r+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:cO,PointElement:qae});const Oz=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],kK=Oz.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function OK(n){return Oz[n%Oz.length]}function NK(n){return kK[n%kK.length]}function FK(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var ale={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:r},options:i}=n.config,{elements:s}=i,c=FK(r)||function ole(n){return n&&(n.borderColor||n.backgroundColor)}(i)||s&&FK(s)||function sle(){return"rgba(0,0,0,0.1)"!==En.borderColor||"rgba(0,0,0,0.1)"!==En.backgroundColor}();if(!e.forceOverride&&c)return;const d=function ile(n){let t=0;return(e,r)=>{const i=n.getDatasetMeta(r).controller;i instanceof Cz?t=function nle(n,t){return n.backgroundColor=n.data.map(()=>OK(t++)),t}(e,t):i instanceof eK?t=function rle(n,t){return n.backgroundColor=n.data.map(()=>NK(t++)),t}(e,t):i&&(t=function tle(n,t){return n.borderColor=OK(t),n.backgroundColor=NK(t),++t}(e,t))}}(n);r.forEach(d)}};function LK(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function VK(n){n.data.datasets.forEach(t=>{LK(t)})}var dle={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void VK(n);const r=n.width;n.data.datasets.forEach((i,s)=>{const{_data:c,indexAxis:d}=i,f=n.getDatasetMeta(s),g=c||i.data;if("y"===ax([d,n.options.indexAxis])||!f.controller.supportsDecimation)return;const y=n.scales[f.xAxisID];if("linear"!==y.type&&"time"!==y.type||n.options.parsing)return;let S,{start:b,count:C}=function ule(n,t){const e=t.length;let i,r=0;const{iScale:s}=n,{min:c,max:d,minDefined:f,maxDefined:g}=s.getUserBounds();return f&&(r=Sr(nc(t,s.axis,c).lo,0,e-1)),i=g?Sr(nc(t,s.axis,d).hi+1,r,e)-r:e-r,{start:r,count:i}}(f,g);if(C<=(e.threshold||4*r))LK(i);else{switch(at(c)&&(i._data=g,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(M){this._data=M}})),e.algorithm){case"lttb":S=function lle(n,t,e,r,i){const s=i.samples||r;if(s>=e)return n.slice(t,t+e);const c=[],d=(e-2)/(s-2);let f=0;const g=t+e-1;let b,C,x,S,M,y=t;for(c[f++]=n[y],b=0;b<s-2;b++){let H,R=0,B=0;const G=Math.floor((b+1)*d)+1+t,Y=Math.min(Math.floor((b+2)*d)+1,e)+t,Q=Y-G;for(H=G;H<Y;H++)R+=n[H].x,B+=n[H].y;R/=Q,B/=Q;const Z=Math.floor(b*d)+1+t,V=Math.min(Math.floor((b+1)*d)+1,e)+t,{x:k,y:L}=n[y];for(x=S=-1,H=Z;H<V;H++)S=.5*Math.abs((k-R)*(n[H].y-L)-(k-n[H].x)*(B-L)),S>x&&(x=S,C=n[H],M=H);c[f++]=C,y=M}return c[f++]=n[g],c}(g,b,C,r,e);break;case"min-max":S=function cle(n,t,e,r){let c,d,f,g,y,b,C,x,S,M,i=0,s=0;const R=[],H=n[t].x,Y=n[t+e-1].x-H;for(c=t;c<t+e;++c){d=n[c],f=(d.x-H)/Y*r,g=d.y;const Q=0|f;if(Q===y)g<S?(S=g,b=c):g>M&&(M=g,C=c),i=(s*i+d.x)/++s;else{const Z=c-1;if(!at(b)&&!at(C)){const V=Math.min(b,C),k=Math.max(b,C);V!==x&&V!==Z&&R.push({...n[V],x:i}),k!==x&&k!==Z&&R.push({...n[k],x:i})}c>0&&Z!==x&&R.push(n[Z]),R.push(d),y=Q,s=0,S=M=g,b=C=x=c}}return R}(g,b,C,r);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=S}})},destroy(n){VK(n)}};function Nz(n,t,e,r){if(r)return;let i=t[n],s=e[n];return"angle"===n&&(i=vo(i),s=vo(s)),{property:n,start:i,end:s}}function Fz(n,t,e){for(;t>n;t--){const r=e[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function BK(n,t,e,r){return n&&t?r(n[e],t[e]):n?n[e]:t?t[e]:0}function jK(n,t){let e=[],r=!1;return ln(n)?(r=!0,e=n):e=function fle(n,t){const{x:e=null,y:r=null}=n||{},i=t.points,s=[];return t.segments.forEach(({start:c,end:d})=>{d=Fz(c,d,i);const f=i[c],g=i[d];null!==r?(s.push({x:f.x,y:r}),s.push({x:g.x,y:r})):null!==e&&(s.push({x:e,y:f.y}),s.push({x:e,y:g.y}))}),s}(n,t),e.length?new cO({points:e,options:{tension:0},_loop:r,_fullLoop:r}):null}function UK(n){return n&&!1!==n.fill}function ple(n,t,e){let i=n[t].fill;const s=[t];let c;if(!e)return i;for(;!1!==i&&-1===s.indexOf(i);){if(!kn(i))return i;if(c=n[i],!c)return!1;if(c.visible)return i;s.push(i),i=c.fill}return!1}function mle(n,t,e){const r=function vle(n){const t=n.options,e=t.fill;let r=Ye(e&&e.target,e);return void 0===r&&(r=!!t.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(n);if(dt(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return kn(i)&&Math.floor(i)===i?function gle(n,t,e,r){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=r)&&e}(r[0],t,i,e):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Ele(n,t,e){const r=[];for(let i=0;i<e.length;i++){const s=e[i],{first:c,last:d,point:f}=Cle(s,t,"x");if(!(!f||c&&d))if(c)r.unshift(f);else if(n.push(f),!d)break}n.push(...r)}function Cle(n,t,e){const r=n.interpolate(t,e);if(!r)return{};const i=r[e],s=n.segments,c=n.points;let d=!1,f=!1;for(let g=0;g<s.length;g++){const y=s[g],b=c[y.start][e],C=c[y.end][e];if(tc(i,b,C)){d=i===b,f=i===C;break}}return{first:d,last:f,point:r}}class HK{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,r){const{x:i,y:s,radius:c}=this;return t.arc(i,s,c,(e=e||{start:0,end:un}).end,e.start,!0),!r.bounds}interpolate(t){const{x:e,y:r,radius:i}=this,s=t.angle;return{x:e+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Lz(n,t,e){const r=function Ile(n){const{chart:t,fill:e,line:r}=n;if(kn(e))return function xle(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function ble(n){const{scale:t,index:e,line:r}=n,i=[],s=r.segments,c=r.points,d=function wle(n,t){const e=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);d.push(jK({x:null,y:t.bottom},r));for(let f=0;f<s.length;f++){const g=s[f];for(let y=g.start;y<=g.end;y++)Ele(i,c[y],d)}return new cO({points:i,options:{}})}(n);if("shape"===e)return!0;const i=function Tle(n){return(n.scale||{}).getPointPositionForValue?function Ale(n){const{scale:t,fill:e}=n,r=t.options,i=t.getLabels().length,s=r.reverse?t.max:t.min,c=function yle(n,t,e){let r;return r="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:dt(n)?n.value:t.getBaseValue(),r}(e,t,s),d=[];if(r.grid.circular){const f=t.getPointPositionForValue(0,s);return new HK({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<i;++f)d.push(t.getPointPositionForValue(f,c));return d}(n):function Dle(n){const{scale:t={},fill:e}=n,r=function _le(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:dt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(kn(r)){const i=t.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}(n)}(n);return i instanceof HK?i:jK(i,r)}(t),{chart:i,index:s,line:c,scale:d,axis:f}=t,g=c.options,y=g.fill,b=g.backgroundColor,{above:C=b,below:x=b}=y||{},S=i.getDatasetMeta(s),M=U7(i,S);r&&c.points.length&&(Kk(n,e),function Sle(n,t){const{line:e,target:r,above:i,below:s,area:c,scale:d,clip:f}=t,g=e._loop?"angle":t.axis;n.save(),"x"===g&&s!==i&&(zK(n,r,c.top),$K(n,{line:e,target:r,color:i,scale:d,property:g,clip:f}),n.restore(),n.save(),zK(n,r,c.bottom)),$K(n,{line:e,target:r,color:s,scale:d,property:g,clip:f}),n.restore()}(n,{line:c,target:r,above:C,below:x,area:e,scale:d,axis:f,clip:M}),Xk(n))}function zK(n,t,e){const{segments:r,points:i}=t;let s=!0,c=!1;n.beginPath();for(const d of r){const{start:f,end:g}=d,y=i[f],b=i[Fz(f,g,i)];s?(n.moveTo(y.x,y.y),s=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,d,{move:c}),c?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function $K(n,t){const{line:e,target:r,property:i,color:s,scale:c,clip:d}=t,f=function hle(n,t,e){const r=n.segments,i=n.points,s=t.points,c=[];for(const d of r){let{start:f,end:g}=d;g=Fz(f,g,i);const y=Nz(e,i[f],i[g],d.loop);if(!t.segments){c.push({source:d,target:y,start:i[f],end:i[g]});continue}const b=V7(t,y);for(const C of b){const x=Nz(e,s[C.start],s[C.end],C.loop),S=L7(d,i,x);for(const M of S)c.push({source:M,target:C,start:{[e]:BK(y,x,"start",Math.max)},end:{[e]:BK(y,x,"end",Math.min)}})}}return c}(e,r,i);for(const{source:g,target:y,start:b,end:C}of f){const{style:{backgroundColor:x=s}={}}=g,S=!0!==r;n.save(),n.fillStyle=x,Mle(n,c,d,S&&Nz(i,b,C)),n.beginPath();const M=!!e.pathSegment(n,g);let R;if(S){M?n.closePath():WK(n,r,C,i);const B=!!r.pathSegment(n,y,{move:M,reverse:!0});R=M&&B,R||WK(n,r,b,i)}n.closePath(),n.fill(R?"evenodd":"nonzero"),n.restore()}}function Mle(n,t,e,r){const i=t.chart.chartArea,{property:s,start:c,end:d}=r||{};if("x"===s||"y"===s){let f,g,y,b;"x"===s?(f=c,g=i.top,y=d,b=i.bottom):(f=i.left,g=c,y=i.right,b=d),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),g=Math.max(g,e.top),b=Math.min(b,e.bottom)),n.rect(f,g,y-f,b-g),n.clip()}}function WK(n,t,e,r){const i=t.interpolate(e,r);i&&n.lineTo(i.x,i.y)}var Rle={id:"filler",afterDatasetsUpdate(n,t,e){const r=(n.data.datasets||[]).length,i=[];let s,c,d,f;for(c=0;c<r;++c)s=n.getDatasetMeta(c),d=s.dataset,f=null,d&&d.options&&d instanceof cO&&(f={visible:n.isDatasetVisible(c),index:c,fill:mle(d,c,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:d}),s.$filler=f,i.push(f);for(c=0;c<r;++c)f=i[c],f&&!1!==f.fill&&(f.fill=ple(i,c,e.propagate))},beforeDraw(n,t,e){const r="beforeDraw"===e.drawTime,i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let c=i.length-1;c>=0;--c){const d=i[c].$filler;d&&(d.line.updateControlPoints(s,d.axis),r&&d.fill&&Lz(n.ctx,d,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;UK(s)&&Lz(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const r=t.meta.$filler;!UK(r)||"beforeDatasetDraw"!==e.drawTime||Lz(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const GK=(n,t)=>{let{boxHeight:e=t,boxWidth:r=t}=n;return n.usePointStyle&&(e=Math.min(e,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:e,itemHeight:Math.max(t,e)}};class qK extends oc{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,r){this.maxWidth=t,this.maxHeight=e,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Yt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(r=>t.filter(r,this.chart.data))),t.sort&&(e=e.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const r=t.labels,i=mr(r.font),s=i.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=GK(r,s);let g,y;e.font=i.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,s,d,f)+10):(y=this.maxHeight,g=this._fitCols(c,i,d,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,r,i){const{ctx:s,maxWidth:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=i+d;let b=t;s.textAlign="left",s.textBaseline="middle";let C=-1,x=-y;return this.legendItems.forEach((S,M)=>{const R=r+e/2+s.measureText(S.text).width;(0===M||g[g.length-1]+R+2*d>c)&&(b+=y,g[g.length-(M>0?0:1)]=0,x+=y,C++),f[M]={left:0,top:x,row:C,width:R,height:i},g[g.length-1]+=R+d}),b}_fitCols(t,e,r,i){const{ctx:s,maxHeight:c,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let b=d,C=0,x=0,S=0,M=0;return this.legendItems.forEach((R,B)=>{const{itemWidth:H,itemHeight:G}=function kle(n,t,e,r,i){const s=function Ole(n,t,e,r){let i=n.text;return i&&"string"!=typeof i&&(i=i.reduce((s,c)=>s.length>c.length?s:c)),t+e.size/2+r.measureText(i).width}(r,n,t,e),c=function Nle(n,t,e){let r=n;return"string"!=typeof t.text&&(r=KK(t,e)),r}(i,r,t.lineHeight);return{itemWidth:s,itemHeight:c}}(r,e,s,R,i);B>0&&x+G+2*d>y&&(b+=C+d,g.push({width:C,height:x}),S+=C+d,M++,C=x=0),f[B]={left:S,top:x,col:M,width:H,height:G},C=Math.max(C,H),x+=G+d}),b+=C,g.push({width:C,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:r,labels:{padding:i},rtl:s}}=this,c=bv(s,this.left,this.width);if(this.isHorizontal()){let d=0,f=ni(r,this.left+i,this.right-this.lineWidths[d]);for(const g of e)d!==g.row&&(d=g.row,f=ni(r,this.left+i,this.right-this.lineWidths[d])),g.top+=this.top+t+i,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+i}else{let d=0,f=ni(r,this.top+t+i,this.bottom-this.columnSizes[d].height);for(const g of e)g.col!==d&&(d=g.col,f=ni(r,this.top+t+i,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+i,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Kk(t,this),this._draw(),Xk(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:r,ctx:i}=this,{align:s,labels:c}=t,d=En.color,f=bv(t.rtl,this.left,this.width),g=mr(c.font),{padding:y}=c,b=g.size,C=b/2;let x;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=g.string;const{boxWidth:S,boxHeight:M,itemHeight:R}=GK(c,b),G=this.isHorizontal(),Y=this._computeTitleHeight();x=G?{x:ni(s,this.left+y,this.right-r[0]),y:this.top+y+Y,line:0}:{x:this.left+y,y:ni(s,this.top+Y+y,this.bottom-e[0].height),line:0},k7(this.ctx,t.textDirection);const Q=R+y;this.legendItems.forEach((Z,V)=>{i.strokeStyle=Z.fontColor,i.fillStyle=Z.fontColor;const k=i.measureText(Z.text).width,L=f.textAlign(Z.textAlign||(Z.textAlign=c.textAlign)),z=S+C+k;let W=x.x,q=x.y;f.setWidth(this.width),G?V>0&&W+z+y>this.right&&(q=x.y+=Q,x.line++,W=x.x=ni(s,this.left+y,this.right-r[x.line])):V>0&&q+Q>this.bottom&&(W=x.x=W+e[x.line].width+y,x.line++,q=x.y=ni(s,this.top+Y+y,this.bottom-e[x.line].height)),function(Z,V,k){if(isNaN(S)||S<=0||isNaN(M)||M<0)return;i.save();const L=Ye(k.lineWidth,1);if(i.fillStyle=Ye(k.fillStyle,d),i.lineCap=Ye(k.lineCap,"butt"),i.lineDashOffset=Ye(k.lineDashOffset,0),i.lineJoin=Ye(k.lineJoin,"miter"),i.lineWidth=L,i.strokeStyle=Ye(k.strokeStyle,d),i.setLineDash(Ye(k.lineDash,[])),c.usePointStyle){const z={radius:M*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:L},W=f.xPlus(Z,S/2);w7(i,z,W,V+C,c.pointStyleWidth&&S)}else{const z=V+Math.max((b-M)/2,0),W=f.leftForLtr(Z,S),q=Tp(k.borderRadius);i.beginPath(),Object.values(q).some(U=>0!==U)?sx(i,{x:W,y:z,w:S,h:M,radius:q}):i.rect(W,z,S,M),i.fill(),0!==L&&i.stroke()}i.restore()}(f.x(W),q,Z),W=((n,t,e,r)=>n===(r?"left":"right")?e:"center"===n?(t+e)/2:t)(L,W+S+C,G?W+z:this.right,t.rtl),function(Z,V,k){xp(i,k.text,Z,V+R/2,g,{strikethrough:k.hidden,textAlign:f.textAlign(k.textAlign)})}(f.x(W),q,Z),G?x.x+=z+y:x.y+="string"!=typeof Z.text?KK(Z,g.lineHeight)+y:Q}),O7(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,r=mr(e.font),i=ri(e.padding);if(!e.display)return;const s=bv(t.rtl,this.left,this.width),c=this.ctx,d=e.position,g=i.top+r.size/2;let y,b=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),y=this.top+g,b=ni(t.align,b,this.right-C);else{const S=this.columnSizes.reduce((M,R)=>Math.max(M,R.height),0);y=g+ni(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const x=ni(d,b,b+C);c.textAlign=s.textAlign(az(d)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=r.string,xp(c,e.text,x,y,r)}_computeTitleHeight(){const t=this.options.title,e=mr(t.font),r=ri(t.padding);return t.display?e.lineHeight+r.height:0}_getLegendItemAt(t,e){let r,i,s;if(tc(t,this.left,this.right)&&tc(e,this.top,this.bottom))for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],tc(t,i.left,i.left+i.width)&&tc(e,i.top,i.top+i.height))return this.legendItems[r];return null}handleEvent(t){const e=this.options;if(!function Fle(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const r=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(i,r);i&&!s&&Yt(e.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&Yt(e.onHover,[t,r,this],this)}else r&&Yt(e.onClick,[t,r,this],this)}}function KK(n,t){return t*(n.text?n.text.length:0)}var Lle={id:"legend",_element:qK,start(n,t,e){const r=n.legend=new qK({ctx:n.ctx,options:e,chart:n});ii.configure(n,r,e),ii.addBox(n,r)},stop(n){ii.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const r=n.legend;ii.configure(n,r,e),r.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const r=t.datasetIndex,i=e.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:r,textAlign:i,color:s,useBorderRadius:c,borderRadius:d}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=ri(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:s,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:r||g.pointStyle,rotation:g.rotation,textAlign:i||g.textAlign,borderRadius:c&&(d||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Vz extends oc{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=ln(r.text)?r.text.length:1;this._padding=ri(r.padding);const s=i*mr(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:r,bottom:i,right:s,options:c}=this,d=c.align;let g,y,b,f=0;return this.isHorizontal()?(y=ni(d,r,s),b=e+t,g=s-r):("left"===c.position?(y=r+t,b=ni(d,i,e),f=-.5*cn):(y=s-t,b=ni(d,e,i),f=.5*cn),g=i-e),{titleX:y,titleY:b,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const r=mr(e.font),s=r.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:f,rotation:g}=this._drawArgs(s);xp(t,e.text,0,0,r,{color:e.color,maxWidth:f,rotation:g,textAlign:az(e.align),textBaseline:"middle",translation:[c,d]})}}var Ble={id:"title",_element:Vz,start(n,t,e){!function Vle(n,t){const e=new Vz({ctx:n.ctx,options:t,chart:n});ii.configure(n,e,t),ii.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){ii.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const r=n.titleBlock;ii.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uO=new WeakMap;var jle={id:"subtitle",start(n,t,e){const r=new Vz({ctx:n.ctx,options:e,chart:n});ii.configure(n,r,e),ii.addBox(n,r),uO.set(n,r)},stop(n){ii.removeBox(n,uO.get(n)),uO.delete(n)},beforeUpdate(n,t,e){const r=uO.get(n);ii.configure(n,r,e),r.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gx={average(n){if(!n.length)return!1;let t,e,r=new Set,i=0,s=0;for(t=0,e=n.length;t<e;++t){const d=n[t].element;if(d&&d.hasValue()){const f=d.tooltipPosition();r.add(f.x),i+=f.y,++s}}return 0!==s&&0!==r.size&&{x:[...r].reduce((d,f)=>d+f)/r.size,y:i/s}},nearest(n,t){if(!n.length)return!1;let s,c,d,e=t.x,r=t.y,i=Number.POSITIVE_INFINITY;for(s=0,c=n.length;s<c;++s){const f=n[s].element;if(f&&f.hasValue()){const y=oz(t,f.getCenterPoint());y<i&&(i=y,d=f)}}if(d){const f=d.tooltipPosition();e=f.x,r=f.y}return{x:e,y:r}}};function ka(n,t){return t&&(ln(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function sc(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Ule(n,t){const{element:e,datasetIndex:r,index:i}=t,s=n.getDatasetMeta(r).controller,{label:c,value:d}=s.getLabelAndValue(i);return{chart:n,label:c,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:d,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:e}}function XK(n,t){const e=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:c,boxHeight:d}=t,f=mr(t.bodyFont),g=mr(t.titleFont),y=mr(t.footerFont),b=s.length,C=i.length,x=r.length,S=ri(t.padding);let M=S.height,R=0,B=r.reduce((Y,Q)=>Y+Q.before.length+Q.lines.length+Q.after.length,0);B+=n.beforeBody.length+n.afterBody.length,b&&(M+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),B&&(M+=x*(t.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(B-x)*f.lineHeight+(B-1)*t.bodySpacing),C&&(M+=t.footerMarginTop+C*y.lineHeight+(C-1)*t.footerSpacing);let H=0;const G=function(Y){R=Math.max(R,e.measureText(Y).width+H)};return e.save(),e.font=g.string,Bt(n.title,G),e.font=f.string,Bt(n.beforeBody.concat(n.afterBody),G),H=t.displayColors?c+2+t.boxPadding:0,Bt(r,Y=>{Bt(Y.before,G),Bt(Y.lines,G),Bt(Y.after,G)}),H=0,e.font=y.string,Bt(n.footer,G),e.restore(),R+=S.width,{width:R,height:M}}function $le(n,t,e,r){const{x:i,width:s}=e,{width:c,chartArea:{left:d,right:f}}=n;let g="center";return"center"===r?g=i<=(d+f)/2?"left":"right":i<=s/2?g="left":i>=c-s/2&&(g="right"),function zle(n,t,e,r){const{x:i,width:s}=r,c=e.caretSize+e.caretPadding;if("left"===n&&i+s+c>t.width||"right"===n&&i-s-c<0)return!0}(g,n,t,e)&&(g="center"),g}function QK(n,t,e){const r=e.yAlign||t.yAlign||function Hle(n,t){const{y:e,height:r}=t;return e<r/2?"top":e>n.height-r/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||$le(n,t,e,r),yAlign:r}}function YK(n,t,e,r){const{caretSize:i,caretPadding:s,cornerRadius:c}=n,{xAlign:d,yAlign:f}=e,g=i+s,{topLeft:y,topRight:b,bottomLeft:C,bottomRight:x}=Tp(c);let S=function Wle(n,t){let{x:e,width:r}=n;return"right"===t?e-=r:"center"===t&&(e-=r/2),e}(t,d);const M=function Gle(n,t,e){let{y:r,height:i}=n;return"top"===t?r+=e:r-="bottom"===t?i+e:i/2,r}(t,f,g);return"center"===f?"left"===d?S+=g:"right"===d&&(S-=g):"left"===d?S-=Math.max(y,C)+i:"right"===d&&(S+=Math.max(b,x)+i),{x:Sr(S,0,r.width-t.width),y:Sr(M,0,r.height-t.height)}}function dO(n,t,e){const r=ri(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-r.right:n.x+r.left}function ZK(n){return ka([],sc(n))}function JK(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const eX={beforeTitle:ec,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,r=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return e[t.dataIndex]}return""},afterTitle:ec,beforeBody:ec,beforeLabel:ec,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return at(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ec,afterBody:ec,beforeFooter:ec,footer:ec,afterFooter:ec};function $i(n,t,e,r){const i=n[t].call(e,r);return typeof i>"u"?eX[t].call(e,r):i}let tX=(()=>class n extends oc{static positioners=gx;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&r.options.animation&&i.animations,c=new z7(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=function qle(n,t,e){return xd(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:i}=r,s=$i(i,"beforeTitle",this,e),c=$i(i,"title",this,e),d=$i(i,"afterTitle",this,e);let f=[];return f=ka(f,sc(s)),f=ka(f,sc(c)),f=ka(f,sc(d)),f}getBeforeBody(e,r){return ZK($i(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:i}=r,s=[];return Bt(e,c=>{const d={before:[],lines:[],after:[]},f=JK(i,c);ka(d.before,sc($i(f,"beforeLabel",this,c))),ka(d.lines,$i(f,"label",this,c)),ka(d.after,sc($i(f,"afterLabel",this,c))),s.push(d)}),s}getAfterBody(e,r){return ZK($i(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:i}=r,s=$i(i,"beforeFooter",this,e),c=$i(i,"footer",this,e),d=$i(i,"afterFooter",this,e);let f=[];return f=ka(f,sc(s)),f=ka(f,sc(c)),f=ka(f,sc(d)),f}_createItems(e){const r=this._active,i=this.chart.data,s=[],c=[],d=[];let g,y,f=[];for(g=0,y=r.length;g<y;++g)f.push(Ule(this.chart,r[g]));return e.filter&&(f=f.filter((b,C,x)=>e.filter(b,C,x,i))),e.itemSort&&(f=f.sort((b,C)=>e.itemSort(b,C,i))),Bt(f,b=>{const C=JK(e.callbacks,b);s.push($i(C,"labelColor",this,b)),c.push($i(C,"labelPointStyle",this,b)),d.push($i(C,"labelTextColor",this,b))}),this.labelColors=s,this.labelPointStyles=c,this.labelTextColors=d,this.dataPoints=f,f}update(e,r){const i=this.options.setContext(this.getContext()),s=this._active;let c,d=[];if(s.length){const f=gx[i.position].call(this,s,this._eventPosition);d=this._createItems(i),this.title=this.getTitle(d,i),this.beforeBody=this.getBeforeBody(d,i),this.body=this.getBody(d,i),this.afterBody=this.getAfterBody(d,i),this.footer=this.getFooter(d,i);const g=this._size=XK(this,i),y=Object.assign({},f,g),b=QK(this.chart,i,y),C=YK(i,y,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,c={opacity:1,x:C.x,y:C.y,width:g.width,height:g.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(c={opacity:0});this._tooltipItems=d,this.$context=void 0,c&&this._resolveAnimations().update(this,c),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,i,s){const c=this.getCaretPosition(e,i,s);r.lineTo(c.x1,c.y1),r.lineTo(c.x2,c.y2),r.lineTo(c.x3,c.y3)}getCaretPosition(e,r,i){const{xAlign:s,yAlign:c}=this,{caretSize:d,cornerRadius:f}=i,{topLeft:g,topRight:y,bottomLeft:b,bottomRight:C}=Tp(f),{x,y:S}=e,{width:M,height:R}=r;let B,H,G,Y,Q,Z;return"center"===c?(Q=S+R/2,"left"===s?(B=x,H=B-d,Y=Q+d,Z=Q-d):(B=x+M,H=B+d,Y=Q-d,Z=Q+d),G=B):(H="left"===s?x+Math.max(g,b)+d:"right"===s?x+M-Math.max(y,C)-d:this.caretX,"top"===c?(Y=S,Q=Y-d,B=H-d,G=H+d):(Y=S+R,Q=Y+d,B=H+d,G=H-d),Z=Y),{x1:B,x2:H,x3:G,y1:Y,y2:Q,y3:Z}}drawTitle(e,r,i){const s=this.title,c=s.length;let d,f,g;if(c){const y=bv(i.rtl,this.x,this.width);for(e.x=dO(this,i.titleAlign,i),r.textAlign=y.textAlign(i.titleAlign),r.textBaseline="middle",d=mr(i.titleFont),f=i.titleSpacing,r.fillStyle=i.titleColor,r.font=d.string,g=0;g<c;++g)r.fillText(s[g],y.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+f,g+1===c&&(e.y+=i.titleMarginBottom-f)}}_drawColorBox(e,r,i,s,c){const d=this.labelColors[i],f=this.labelPointStyles[i],{boxHeight:g,boxWidth:y}=c,b=mr(c.bodyFont),C=dO(this,"left",c),x=s.x(C),M=r.y+(g<b.lineHeight?(b.lineHeight-g)/2:0);if(c.usePointStyle){const R={radius:Math.min(y,g)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},B=s.leftForLtr(x,y)+y/2,H=M+g/2;e.strokeStyle=c.multiKeyBackground,e.fillStyle=c.multiKeyBackground,hz(e,R,B,H),e.strokeStyle=d.borderColor,e.fillStyle=d.backgroundColor,hz(e,R,B,H)}else{e.lineWidth=dt(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,e.strokeStyle=d.borderColor,e.setLineDash(d.borderDash||[]),e.lineDashOffset=d.borderDashOffset||0;const R=s.leftForLtr(x,y),B=s.leftForLtr(s.xPlus(x,1),y-2),H=Tp(d.borderRadius);Object.values(H).some(G=>0!==G)?(e.beginPath(),e.fillStyle=c.multiKeyBackground,sx(e,{x:R,y:M,w:y,h:g,radius:H}),e.fill(),e.stroke(),e.fillStyle=d.backgroundColor,e.beginPath(),sx(e,{x:B,y:M+1,w:y-2,h:g-2,radius:H}),e.fill()):(e.fillStyle=c.multiKeyBackground,e.fillRect(R,M,y,g),e.strokeRect(R,M,y,g),e.fillStyle=d.backgroundColor,e.fillRect(B,M+1,y-2,g-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,r,i){const{body:s}=this,{bodySpacing:c,bodyAlign:d,displayColors:f,boxHeight:g,boxWidth:y,boxPadding:b}=i,C=mr(i.bodyFont);let x=C.lineHeight,S=0;const M=bv(i.rtl,this.x,this.width),R=function(L){r.fillText(L,M.x(e.x+S),e.y+x/2),e.y+=x+c},B=M.textAlign(d);let H,G,Y,Q,Z,V,k;for(r.textAlign=d,r.textBaseline="middle",r.font=C.string,e.x=dO(this,B,i),r.fillStyle=i.bodyColor,Bt(this.beforeBody,R),S=f&&"right"!==B?"center"===d?y/2+b:y+2+b:0,Q=0,V=s.length;Q<V;++Q){for(H=s[Q],G=this.labelTextColors[Q],r.fillStyle=G,Bt(H.before,R),Y=H.lines,f&&Y.length&&(this._drawColorBox(r,e,Q,M,i),x=Math.max(C.lineHeight,g)),Z=0,k=Y.length;Z<k;++Z)R(Y[Z]),x=C.lineHeight;Bt(H.after,R)}S=0,x=C.lineHeight,Bt(this.afterBody,R),e.y-=c}drawFooter(e,r,i){const s=this.footer,c=s.length;let d,f;if(c){const g=bv(i.rtl,this.x,this.width);for(e.x=dO(this,i.footerAlign,i),e.y+=i.footerMarginTop,r.textAlign=g.textAlign(i.footerAlign),r.textBaseline="middle",d=mr(i.footerFont),r.fillStyle=i.footerColor,r.font=d.string,f=0;f<c;++f)r.fillText(s[f],g.x(e.x),e.y+d.lineHeight/2),e.y+=d.lineHeight+i.footerSpacing}}drawBackground(e,r,i,s){const{xAlign:c,yAlign:d}=this,{x:f,y:g}=e,{width:y,height:b}=i,{topLeft:C,topRight:x,bottomLeft:S,bottomRight:M}=Tp(s.cornerRadius);r.fillStyle=s.backgroundColor,r.strokeStyle=s.borderColor,r.lineWidth=s.borderWidth,r.beginPath(),r.moveTo(f+C,g),"top"===d&&this.drawCaret(e,r,i,s),r.lineTo(f+y-x,g),r.quadraticCurveTo(f+y,g,f+y,g+x),"center"===d&&"right"===c&&this.drawCaret(e,r,i,s),r.lineTo(f+y,g+b-M),r.quadraticCurveTo(f+y,g+b,f+y-M,g+b),"bottom"===d&&this.drawCaret(e,r,i,s),r.lineTo(f+S,g+b),r.quadraticCurveTo(f,g+b,f,g+b-S),"center"===d&&"left"===c&&this.drawCaret(e,r,i,s),r.lineTo(f,g+C),r.quadraticCurveTo(f,g,f+C,g),r.closePath(),r.fill(),s.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,i=this.$animations,s=i&&i.x,c=i&&i.y;if(s||c){const d=gx[e.position].call(this,this._active,this._eventPosition);if(!d)return;const f=this._size=XK(this,e),g=Object.assign({},d,this._size),y=QK(r,e,g),b=YK(e,g,y,r);(s._to!==b.x||c._to!==b.y)&&(this.xAlign=y.xAlign,this.yAlign=y.yAlign,this.width=f.width,this.height=f.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(r);const s={width:this.width,height:this.height},c={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const d=ri(r.padding);r.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=i,this.drawBackground(c,e,s,r),k7(e,r.textDirection),c.y+=d.top,this.drawTitle(c,e,r),this.drawBody(c,e,r),this.drawFooter(c,e,r),O7(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const i=this._active,s=e.map(({datasetIndex:f,index:g})=>{const y=this.chart.getDatasetMeta(f);if(!y)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:y.data[g],index:g}}),c=!Hk(i,s),d=this._positionChanged(s,r);(c||d)&&(this._active=s,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,c=this._active||[],d=this._getActiveElements(e,c,r,i),f=this._positionChanged(d,e),g=r||!Hk(d,c)||f;return g&&(this._active=d,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),g}_getActiveElements(e,r,i,s){const c=this.options;if("mouseout"===e.type)return[];if(!s)return r.filter(f=>this.chart.data.datasets[f.datasetIndex]&&void 0!==this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index));const d=this.chart.getElementsAtEventForMode(e,c.mode,c,i);return c.reverse&&d.reverse(),d}_positionChanged(e,r){const{caretX:i,caretY:s,options:c}=this,d=gx[c.position].call(this,e,r);return!1!==d&&(i!==d.x||s!==d.y)}})();var Xle=Object.freeze({__proto__:null,Colors:ale,Decimation:dle,Filler:Rle,Legend:Lle,SubTitle:jle,Title:Ble,Tooltip:{id:"tooltip",_element:tX,positioners:gx,afterInit(n,t,e){e&&(n.tooltip=new tX({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0}))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:eX},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function nX(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}let Jle=(()=>class n extends Rp{static id="category";static defaults={ticks:{callback:nX}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const i=this.getLabels();for(const{index:s,label:c}of r)i[s]===c&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(at(e))return null;const i=this.getLabels();return((n,t)=>null===n?null:Sr(Math.round(n),0,t))(r=isFinite(r)&&i[r]===e?r:function Yle(n,t,e,r){const i=n.indexOf(t);return-1===i?((n,t,e,r)=>("string"==typeof t?(e=n.push(t)-1,r.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,r):i!==n.lastIndexOf(t)?e:i}(i,e,Ye(r,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),r||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,r=this.max,i=this.options.offset,s=[];let c=this.getLabels();c=0===e&&r===c.length-1?c:c.slice(e,r+1),this._valueRange=Math.max(c.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let d=e;d<=r;d++)s.push({value:d});return s}getLabelForValue(e){return nX.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}})();function rX(n,t,{horizontal:e,minRotation:r}){const i=As(r),s=(e?Math.sin(i):Math.cos(i))||.001;return Math.min(t/s,.75*t*(""+n).length)}class hO extends Rp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return at(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const c=f=>i=e?i:f,d=f=>s=r?s:f;if(t){const f=Ra(i),g=Ra(s);f<0&&g<0?d(0):f>0&&g>0&&c(0)}if(i===s){let f=0===s?1:Math.abs(.05*s);d(s+f),t||c(i-f)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let i,{maxTicksLimit:e,stepSize:r}=t;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const c=function ece(n,t){const e=[],{bounds:i,step:s,min:c,max:d,precision:f,count:g,maxTicks:y,maxDigits:b,includeBounds:C}=n,x=s||1,S=y-1,{min:M,max:R}=t,B=!at(c),H=!at(d),G=!at(g),Y=(R-M)/(b+1);let Z,V,k,L,Q=i7((R-M)/S/x)*x;if(Q<1e-14&&!B&&!H)return[{value:M},{value:R}];L=Math.ceil(R/Q)-Math.floor(M/Q),L>S&&(Q=i7(L*Q/S/x)*x),at(f)||(Z=Math.pow(10,f),Q=Math.ceil(Q*Z)/Z),"ticks"===i?(V=Math.floor(M/Q)*Q,k=Math.ceil(R/Q)*Q):(V=M,k=R),B&&H&&s&&function jie(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((d-c)/s,Q/1e3)?(L=Math.round(Math.min((d-c)/Q,y)),Q=(d-c)/L,V=c,k=d):G?(V=B?c:V,k=H?d:k,L=g-1,Q=(k-V)/L):(L=(k-V)/Q,L=tx(L,Math.round(L),Q/1e3)?Math.round(L):Math.ceil(L));const z=Math.max(s7(Q),s7(V));Z=Math.pow(10,at(f)?z:f),V=Math.round(V*Z)/Z,k=Math.round(k*Z)/Z;let W=0;for(B&&(C&&V!==c?(e.push({value:c}),V<c&&W++,tx(Math.round((V+W*Q)*Z)/Z,c,rX(c,Y,n))&&W++):V<c&&W++);W<L;++W){const q=Math.round((V+W*Q)*Z)/Z;if(H&&q>d)break;e.push({value:q})}return H&&C&&k!==d?e.length&&tx(e[e.length-1].value,d,rX(d,Y,n))?e[e.length-1].value=d:e.push({value:d}):(!H||k===d)&&e.push({value:k}),e}({maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&o7(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-e)/Math.max(t.length-1,1)/2;e-=i,r+=i}this._startValue=e,this._endValue=r,this._valueRange=r-e}getLabelForValue(t){return ix(t,this.chart.options.locale,this.options.ticks.format)}}const _x=n=>Math.floor(Id(n)),Pp=(n,t)=>Math.pow(10,_x(n)+t);function iX(n){return n/Math.pow(10,_x(n))==1}function oX(n,t,e){const r=Math.pow(10,e),i=Math.floor(n/r);return Math.ceil(t/r)-i}function Bz(n){const t=n.ticks;if(t.display&&n.display){const e=ri(t.backdropPadding);return Ye(t.font&&t.font.size,En.font.size)+e.height}return 0}function oce(n,t,e){return e=ln(e)?e:[e],{w:roe(n,t.string,e),h:e.length*t.lineHeight}}function sX(n,t,e,r,i){return n===r||n===i?{start:t-e/2,end:t+e/2}:n<r||n>i?{start:t-e,end:t}:{start:t,end:t+e}}function ace(n,t,e,r,i){const s=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));let d=0,f=0;r.start<t.l?(d=(t.l-r.start)/s,n.l=Math.min(n.l,t.l-d)):r.end>t.r&&(d=(r.end-t.r)/s,n.r=Math.max(n.r,t.r+d)),i.start<t.t?(f=(t.t-i.start)/c,n.t=Math.min(n.t,t.t-f)):i.end>t.b&&(f=(i.end-t.b)/c,n.b=Math.max(n.b,t.b+f))}function lce(n,t,e){const r=n.drawingArea,{extra:i,additionalAngle:s,padding:c,size:d}=e,f=n.getPointPosition(t,r+i+c,s),g=Math.round(iz(vo(f.angle+$n))),y=function fce(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(f.y,d.h,g),b=function dce(n){return 0===n||180===n?"center":n<180?"left":"right"}(g),C=function hce(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(f.x,d.w,b);return{visible:!0,x:f.x,y,textAlign:b,left:C,top:y,right:C+d.w,bottom:y+d.h}}function cce(n,t){if(!t)return!0;const{left:e,top:r,right:i,bottom:s}=n;return!(rc({x:e,y:r},t)||rc({x:e,y:s},t)||rc({x:i,y:r},t)||rc({x:i,y:s},t))}function pce(n,t,e){const{left:r,top:i,right:s,bottom:c}=e,{backdropColor:d}=t;if(!at(d)){const f=Tp(t.borderRadius),g=ri(t.backdropPadding);n.fillStyle=d;const y=r-g.left,b=i-g.top,C=s-r+g.width,x=c-i+g.height;Object.values(f).some(S=>0!==S)?(n.beginPath(),sx(n,{x:y,y:b,w:C,h:x,radius:f}),n.fill()):n.fillRect(y,b,C,x)}}function aX(n,t,e,r){const{ctx:i}=n;if(e)i.arc(n.xCenter,n.yCenter,t,0,un);else{let s=n.getPointPosition(0,t);i.moveTo(s.x,s.y);for(let c=1;c<r;c++)s=n.getPointPosition(c,t),i.lineTo(s.x,s.y)}}const fO={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wi=Object.keys(fO);function lX(n,t){return n-t}function cX(n,t){if(at(t))return null;const e=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let c=t;return"function"==typeof r&&(c=r(c)),kn(c)||(c="string"==typeof r?e.parse(c,r):e.parse(c)),null===c?null:(i&&(c="week"!==i||!_v(s)&&!0!==s?e.startOf(c,i):e.startOf(c,"isoWeek",s)),+c)}function uX(n,t,e,r){const i=Wi.length;for(let s=Wi.indexOf(n);s<i-1;++s){const c=fO[Wi[s]];if(c.common&&Math.ceil((e-t)/((c.steps?c.steps:Number.MAX_SAFE_INTEGER)*c.size))<=r)return Wi[s]}return Wi[i-1]}function dX(n,t,e){if(e){if(e.length){const{lo:r,hi:i}=sz(e,t);n[e[r]>=t?e[r]:e[i]]=!0}}else n[t]=!0}function hX(n,t,e){const r=[],i={},s=t.length;let c,d;for(c=0;c<s;++c)d=t[c],i[d]=c,r.push({value:d,major:!1});return 0!==s&&e?function wce(n,t,e,r){const i=n._adapter,s=+i.startOf(t[0].value,r),c=t[t.length-1].value;let d,f;for(d=s;d<=c;d=+i.add(d,1,r))f=e[d],f>=0&&(t[f].major=!0);return t}(n,r,i,e):r}let jz=(()=>class n extends Rp{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const i=e.time||(e.time={}),s=this._adapter=new Cse__date(e.adapters.date);s.init(r),JI(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return void 0===e?null:cX(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,i=e.time.unit||"day";let{min:s,max:c,minDefined:d,maxDefined:f}=this.getUserBounds();function g(y){!d&&!isNaN(y.min)&&(s=Math.min(s,y.min)),!f&&!isNaN(y.max)&&(c=Math.max(c,y.max))}(!d||!f)&&(g(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&g(this.getMinMax(!1))),s=kn(s)&&!isNaN(s)?s:+r.startOf(Date.now(),i),c=kn(c)&&!isNaN(c)?c:+r.endOf(Date.now(),i)+1,this.min=Math.min(s,c-1),this.max=Math.max(s+1,c)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],i=e[e.length-1]),{min:r,max:i}}buildTicks(){const e=this.options,r=e.time,i=e.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const c=this.min,f=function $ie(n,t,e){let r=0,i=n.length;for(;r<i&&n[r]<t;)r++;for(;i>r&&n[i-1]>e;)i--;return r>0||i<n.length?n.slice(r,i):n}(s,c,this.max);return this._unit=r.unit||(i.autoSkip?uX(r.minUnit,this.min,this.max,this._getLabelCapacity(c)):function vce(n,t,e,r,i){for(let s=Wi.length-1;s>=Wi.indexOf(e);s--){const c=Wi[s];if(fO[c].common&&n._adapter.diff(i,r,c)>=t-1)return c}return Wi[e?Wi.indexOf(e):0]}(this,f.length,r.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function bce(n){for(let t=Wi.indexOf(n)+1,e=Wi.length;t<e;++t)if(fO[Wi[t]].common)return Wi[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&f.reverse(),hX(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s,c,r=0,i=0;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),r=1===e.length?1-s:(this.getDecimalForValue(e[1])-s)/2,c=this.getDecimalForValue(e[e.length-1]),i=1===e.length?c:(c-this.getDecimalForValue(e[e.length-2]))/2);const d=e.length<3?.5:.25;r=Sr(r,0,d),i=Sr(i,0,d),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,r=this.min,i=this.max,s=this.options,c=s.time,d=c.unit||uX(c.minUnit,r,i,this._getLabelCapacity(r)),f=Ye(s.ticks.stepSize,1),g="week"===d&&c.isoWeekday,y=_v(g)||!0===g,b={};let x,S,C=r;if(y&&(C=+e.startOf(C,"isoWeek",g)),C=+e.startOf(C,y?"day":d),e.diff(i,r,d)>1e5*f)throw new Error(r+" and "+i+" are too far apart with stepSize of "+f+" "+d);const M="data"===s.ticks.source&&this.getDataTimestamps();for(x=C,S=0;x<i;x=+e.add(x,f,d),S++)dX(b,x,M);return(x===i||"ticks"===s.bounds||1===S)&&dX(b,x,M),Object.keys(b).sort(lX).map(R=>+R)}getLabelForValue(e){const i=this.options.time;return this._adapter.format(e,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(e,r){return this._adapter.format(e,r||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,r,i,s){const c=this.options,d=c.ticks.callback;if(d)return Yt(d,[e,r,i],this);const f=c.time.displayFormats,g=this._unit,y=this._majorUnit,C=y&&f[y],x=i[r];return this._adapter.format(e,s||(y&&C&&x&&x.major?C:g&&f[g]))}generateTickLabels(e){let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],s.label=this._tickFormatFunction(s.value,r,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(e){const r=this._offsets,i=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,i=this.ctx.measureText(e).width,s=As(this.isHorizontal()?r.maxRotation:r.minRotation),c=Math.cos(s),d=Math.sin(s),f=this._resolveTickFontOptions(0).size;return{w:i*c+f*d,h:i*d+f*c}}_getLabelCapacity(e){const r=this.options.time,i=r.displayFormats,s=i[r.unit]||i.millisecond,c=this._tickFormatFunction(e,0,hX(this,[e],this._majorUnit),s),d=this._getLabelSize(c),f=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return f>0?f:1}getDataTimestamps(){let r,i,e=this._cache.data||[];if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(r=0,i=s.length;r<i;++r)e=e.concat(s[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,i;if(e.length)return e;const s=this.getLabels();for(r=0,i=s.length;r<i;++r)e.push(cX(this,s[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return u7(e.sort(lX))}})();function pO(n,t,e){let s,c,d,f,r=0,i=n.length-1;e?(t>=n[r].pos&&t<=n[i].pos&&({lo:r,hi:i}=nc(n,"pos",t)),({pos:s,time:d}=n[r]),({pos:c,time:f}=n[i])):(t>=n[r].time&&t<=n[i].time&&({lo:r,hi:i}=nc(n,"time",t)),({time:s,pos:d}=n[r]),({time:c,pos:f}=n[i]));const g=c-s;return g?d+(f-d)*(t-s)/g:d}Mz.register(Ese,ele,Xle,Object.freeze({__proto__:null,CategoryScale:Jle,LinearScale:class tce extends hO{static id="linear";static defaults={ticks:{callback:Gk.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=kn(t)?t:0,this.max=kn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,r=As(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}},LogarithmicScale:class ice extends Rp{static id="logarithmic";static defaults={ticks:{callback:Gk.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const r=hO.prototype.parse.apply(this,[t,e]);if(0!==r)return kn(r)&&r>0?r:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=kn(t)?Math.max(0,t):null,this.max=kn(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!kn(this._userMin)&&(this.min=t===Pp(this.min,0)?Pp(this.min,-1):Pp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let r=this.min,i=this.max;const s=d=>r=t?r:d,c=d=>i=e?i:d;r===i&&(r<=0?(s(1),c(10)):(s(Pp(r,-1)),c(Pp(i,1)))),r<=0&&s(Pp(i,-1)),i<=0&&c(Pp(r,1)),this.min=r,this.max=i}buildTicks(){const t=this.options,r=function rce(n,{min:t,max:e}){t=yo(n.min,t);const r=[],i=_x(t);let s=function nce(n,t){let r=_x(t-n);for(;oX(n,t,r)>10;)r++;for(;oX(n,t,r)<10;)r--;return Math.min(r,_x(n))}(t,e),c=s<0?Math.pow(10,Math.abs(s)):1;const d=Math.pow(10,s),f=i>s?Math.pow(10,i):0,g=Math.round((t-f)*c)/c,y=Math.floor((t-f)/d/10)*d*10;let b=Math.floor((g-y)/Math.pow(10,s)),C=yo(n.min,Math.round((f+y+b*Math.pow(10,s))*c)/c);for(;C<e;)r.push({value:C,major:iX(C),significand:b}),b>=10?b=b<15?15:20:b++,b>=20&&(s++,b=2,c=s>=0?1:c),C=Math.round((f+y+b*Math.pow(10,s))*c)/c;const x=yo(n.max,C);return r.push({value:x,major:iX(x),significand:b}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&o7(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(t){return void 0===t?"0":ix(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Id(t),this._valueRange=Id(this.max)-Id(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Id(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}},RadialLinearScale:class yce extends hO{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Gk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ri(Bz(this.options)/2),e=this.width=this.maxWidth-t.width,r=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+r/2+t.top),this.drawingArea=Math.floor(Math.min(e,r)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=kn(t)&&!isNaN(t)?t:0,this.max=kn(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Bz(this.options))}generateTickLabels(t){hO.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,r)=>{const i=Yt(this.options.pointLabels.callback,[e,r],this);return i||0===i?i:""}).filter((e,r)=>this.chart.getDataVisibility(r))}fit(){const t=this.options;t.display&&t.pointLabels.display?function sce(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),r=[],i=[],s=n._pointLabels.length,c=n.options.pointLabels,d=c.centerPointLabels?cn/s:0;for(let f=0;f<s;f++){const g=c.setContext(n.getPointLabelContext(f));i[f]=g.padding;const y=n.getPointPosition(f,n.drawingArea+i[f],d),b=mr(g.font),C=oce(n.ctx,b,n._pointLabels[f]);r[f]=C;const x=vo(n.getIndexAngle(f)+d),S=Math.round(iz(x));ace(e,t,x,sX(S,y.x,C.w,0,180),sX(S,y.y,C.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function uce(n,t,e){const r=[],i=n._pointLabels.length,s=n.options,{centerPointLabels:c,display:d}=s.pointLabels,f={extra:Bz(s)/2,additionalAngle:c?cn/i:0};let g;for(let y=0;y<i;y++){f.padding=e[y],f.size=t[y];const b=lce(n,y,f);r.push(b),"auto"===d&&(b.visible=cce(b,g),b.visible&&(g=b))}return r}(n,r,i)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,r,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,r,i))}getIndexAngle(t){return vo(t*(un/(this._pointLabels.length||1))+As(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(at(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(at(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const r=e[t];return function _ce(n,t,e){return xd(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,r)}}getPointPosition(t,e,r=0){const i=this.getIndexAngle(t)-$n+r;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:r,right:i,bottom:s}=this._pointLabelItems[t];return{left:e,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const r=this.ctx;r.save(),r.beginPath(),aX(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:r,grid:i,border:s}=e,c=this._pointLabels.length;let d,f,g;if(e.pointLabels.display&&function mce(n,t){const{ctx:e,options:{pointLabels:r}}=n;for(let i=t-1;i>=0;i--){const s=n._pointLabelItems[i];if(!s.visible)continue;const c=r.setContext(n.getPointLabelContext(i));pce(e,c,s);const d=mr(c.font),{x:f,y:g,textAlign:y}=s;xp(e,n._pointLabels[i],f,g+d.lineHeight/2,d,{color:c.color,textAlign:y,textBaseline:"middle"})}}(this,c),i.display&&this.ticks.forEach((y,b)=>{if(0!==b||0===b&&this.min<0){f=this.getDistanceFromCenterForValue(y.value);const C=this.getContext(b),x=i.setContext(C),S=s.setContext(C);!function gce(n,t,e,r,i){const s=n.ctx,c=t.circular,{color:d,lineWidth:f}=t;!c&&!r||!d||!f||e<0||(s.save(),s.strokeStyle=d,s.lineWidth=f,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),aX(n,e,c,r),s.closePath(),s.stroke(),s.restore())}(this,x,f,c,S)}}),r.display){for(t.save(),d=c-1;d>=0;d--){const y=r.setContext(this.getPointLabelContext(d)),{color:b,lineWidth:C}=y;!C||!b||(t.lineWidth=C,t.strokeStyle=b,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),g=this.getPointPosition(d,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,r=e.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,f)=>{if(0===f&&this.min>=0&&!e.reverse)return;const g=r.setContext(this.getContext(f)),y=mr(g.font);if(s=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=y.string,c=t.measureText(d.label).width,t.fillStyle=g.backdropColor;const b=ri(g.backdropPadding);t.fillRect(-c/2-b.left,-s-y.size/2-b.top,c+b.width,y.size+b.height)}xp(t,d.label,0,-s,y,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}},TimeScale:jz,TimeSeriesScale:class Ece extends jz{static id="timeseries";static defaults=jz.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pO(e,this.min),this._tableRange=pO(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:r}=this,i=[],s=[];let c,d,f,g,y;for(c=0,d=t.length;c<d;++c)g=t[c],g>=e&&g<=r&&i.push(g);if(i.length<2)return[{time:e,pos:0},{time:r,pos:1}];for(c=0,d=i.length;c<d;++c)y=i[c+1],f=i[c-1],g=i[c],Math.round((y+f)/2)!==g&&s.push({time:g,pos:c/(d-1)});return s}_generate(){const t=this.min,e=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(e)||1===r.length)&&r.push(e),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),r=this.getLabelTimestamps();return t=e.length&&r.length?this.normalize(e.concat(r)):e.length?e:r,t=this._cache.all=t,t}getDecimalForValue(t){return(pO(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,r=this.getDecimalForPixel(t)/e.factor-e.end;return pO(this._table,r*this._tableRange+this._minPos,!0)}}}));const xce=Mz,Tce=n=>({visible:n});function Dce(n,t){if(1&n&&(h.j41(0,"div",1)(1,"div",9),h.nrm(2,"i",10),h.j41(3,"span"),h.EFF(4,"Last :"),h.k0s()(),h.j41(5,"span",11),h.EFF(6),h.k0s()()),2&n){const e=h.XpG();h.R7$(6),h.Lme(" ",e.progress.measures[e.progress.measures.length-1].weight," kg (",e.progress.measures[e.progress.measures.length-1].fat," % Fat) ")}}function Ace(n,t){if(1&n){const e=h.RV6();h.j41(0,"div",4)(1,"mat-form-field")(2,"mat-label"),h.EFF(3,"WEIGHT"),h.k0s(),h.j41(4,"input",12),h.mxI("ngModelChange",function(i){const s=h.eBV(e).$implicit;return h.DH7(s.weight,i)||(s.weight=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.toggleUpdateNeeded())}),h.k0s(),h.j41(5,"span",13),h.EFF(6,"kg"),h.k0s()(),h.j41(7,"mat-form-field")(8,"mat-label"),h.EFF(9,"MUSCLE"),h.k0s(),h.j41(10,"input",14),h.mxI("ngModelChange",function(i){const s=h.eBV(e).$implicit;return h.DH7(s.muscle,i)||(s.muscle=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.toggleUpdateNeeded())}),h.k0s(),h.j41(11,"span",13),h.EFF(12,"%"),h.k0s()(),h.j41(13,"mat-form-field")(14,"mat-label"),h.EFF(15,"FAT"),h.k0s(),h.j41(16,"input",14),h.mxI("ngModelChange",function(i){const s=h.eBV(e).$implicit;return h.DH7(s.fat,i)||(s.fat=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.toggleUpdateNeeded())}),h.k0s(),h.j41(17,"span",13),h.EFF(18,"%"),h.k0s()(),h.j41(19,"div",15)(20,"a",16),h.bIt("click",function(){const i=h.eBV(e).$index,s=h.XpG();return h.Njj(s.deleteMeasure(i))}),h.nrm(21,"i",17),h.k0s()()()}if(2&n){const e=t.$implicit,r=t.$index;h.R7$(4),h.R50("ngModel",e.weight),h.Y8G("name","weight"+r),h.R7$(6),h.R50("ngModel",e.muscle),h.Y8G("name","muscle"+r),h.R7$(6),h.R50("ngModel",e.fat),h.Y8G("name","fat"+r)}}function Sce(n,t){if(1&n){const e=h.RV6();h.j41(0,"a",18),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.updateProgress())}),h.nrm(1,"i",19),h.k0s()}}function Mce(n,t){1&n&&h.nrm(0,"mat-spinner")}let Rce=(()=>{class n{progressService=(0,h.WQX)(W9);destroyed$=new oe.B;loading=!0;progress={};toastr=(0,h.WQX)(ko);datePipe=new d1("fr");updateNeeded=!1;graph;dialog=(0,h.WQX)(rI);ngOnInit(){this.progress.measures=[],this.progressService.getProgress().pipe(zr(1),bt(this.destroyed$)).subscribe({next:e=>{e[0]?.measures?.length>=0&&(this.progress=e[0],this.progress.measures=this.progress.measures.map(r=>({...r,date:r.date instanceof yn?r.date.toDate():new Date(r.date)})),this.progress.measures.sort((r,i)=>r.date.getTime()-i.date.getTime())),this.loading=!1,this.displayGraph()},error:e=>{this.loading=!1,e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}displayGraph(){const e=document.getElementById("graph");e&&(this.graph=new xce(e,{type:"line",data:{labels:this.progress.measures.map(r=>this.datePipe.transform(r.date,"dd/MM/yyyy")),datasets:[{label:"Weight",data:this.progress.measures.map(r=>r.weight)},{label:"Muscle",data:this.progress.measures.map(r=>r.muscle)},{label:"Fat",data:this.progress.measures.map(r=>r.fat)}]},options:{maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,font:{size:16,weight:800}}}},scales:{x:{title:{display:!0,text:"Date",font:{size:18,weight:800},color:"#38a95a"}},y:{title:{display:!0,text:"Value (kg or %)",font:{size:18,weight:800},color:"#38a95a"}}}}}))}updateGraph(){this.graph&&(this.graph.data.labels=this.progress.measures.map(e=>this.datePipe.transform(e.date,"dd/MM/yyyy")),this.graph.data.datasets[0].data=this.progress.measures.map(e=>e.weight),this.graph.data.datasets[1].data=this.progress.measures.map(e=>e.muscle),this.graph.data.datasets[2].data=this.progress.measures.map(e=>e.fat),this.graph.update())}toggleUpdateNeeded(){this.updateNeeded=!0}addProgress(){this.loading=!0,this.progress.measures.push({date:new Date,weight:60,fat:10,muscle:45}),this.saveUserProgress("added")}updateProgress(){!this.progress.measures.some(e=>e.weight<0||e.fat<0||e.muscle<0||e.weight>300||e.fat>100||e.muscle>100||e.fat+e.muscle>100)&&this.progress.measures.every(e=>null!=e.weight&&null!=e.fat&&null!=e.muscle)?this.saveUserProgress("updated"):this.toastr.info("Invalid measure","Progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}deleteMeasure(e){this.dialog.open(YH,{data:"delete this measure"}).afterClosed().pipe(fn(i=>i)).subscribe({next:()=>{this.progress.measures.splice(e,1),this.saveUserProgress("deleted")},error:i=>{i.message.includes("Missing or insufficient permissions.")||this.toastr.error(i.message,"Progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}saveUserProgress(e){this.loading=!0,this.progress.id?this.progressService.updateProgress(this.progress).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.loading=!1,this.updateGraph(),this.updateNeeded=!1,this.toastr.info("Measure "+e,"Progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:r=>{this.loading=!1,r.message.includes("Missing or insufficient permissions.")||this.toastr.error(r.message,"progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}}):this.progressService.addProgress(this.progress).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.loading=!1,this.updateGraph(),this.toastr.info("Measure added","Progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:r=>{this.loading=!1,r.message.includes("Missing or insufficient permissions.")||this.toastr.error(r.message,"Progress",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-progress"]],decls:13,vars:6,consts:[[1,"column"],[1,"value-container"],[1,"graph",3,"ngClass"],["id","graph"],[1,"row"],[1,"button-container"],["title","Add Measure",1,"add",3,"click"],[1,"bx","bx-plus"],["title","Update Measures",1,"update"],[1,"subtitle"],[1,"bx","bxs-time-five"],[1,"number"],["matInput","","type","number","min","0","max","1000000000","required","",3,"ngModelChange","ngModel","name"],["matSuffix",""],["matInput","","type","number","min","0","max","100","required","",3,"ngModelChange","ngModel","name"],[1,"delete-container"],["title","Delete Measure",1,"delete",3,"click"],[1,"bx","bx-x"],["title","Update Measures",1,"update",3,"click"],[1,"bx","bx-check"]],template:function(r,i){1&r&&(h.j41(0,"section")(1,"div",0),h.DNE(2,Dce,7,2,"div",1),h.j41(3,"div",2),h.nrm(4,"canvas",3),h.k0s(),h.j41(5,"form"),h.Z7z(6,Ace,22,6,"div",4,h.Vm6),h.k0s(),h.j41(8,"div",5)(9,"a",6),h.bIt("click",function(){return i.addProgress()}),h.nrm(10,"i",7),h.k0s(),h.DNE(11,Sce,2,0,"a",8),h.k0s()()(),h.DNE(12,Mce,1,0,"mat-spinner")),2&r&&(h.R7$(2),h.vxM(i.progress.measures.length>0?2:-1),h.R7$(),h.Y8G("ngClass",h.eq3(4,Tce,i.progress.measures.length>0)),h.R7$(3),h.Dyx(i.progress.measures),h.R7$(5),h.vxM(i.updateNeeded?11:-1),h.R7$(),h.vxM(i.loading?12:-1))},dependencies:[Qi,Ai,by,vy,NC,Wu,zo,ry,_a,ju,Ll,Fl,sy,Ff,Is,fo,Gf,Hl,Ft,Ku,qf],styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]{position:relative;margin:20px 0;display:flex;align-items:center;justify-content:center;flex-direction:column;width:95%;max-width:1200px;background-color:var(--background);color:var(--accent);box-shadow:var(--box-shadow);border-radius:var(--light-radius)}.column[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%}.graph[_ngcontent-%COMP%]{opacity:0;visibility:hidden;transition:opacity 1s ease-in-out,visibility 0s linear 1s}.graph.visible[_ngcontent-%COMP%]{width:100%;height:500px;margin-top:20px;display:flex;align-items:center;justify-content:center;flex-direction:column;opacity:1;visibility:visible;transition:opacity 1s ease-in-out}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;flex-direction:column;box-shadow:var(--box-shadow);border-radius:var(--light-radius);margin-top:10px;padding:0 10px;max-height:480px;overflow-y:auto}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}section[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:50px;height:50px;color:red;background-color:var(--background);border-radius:var(--light-radius);cursor:pointer;transition:.5s ease;display:flex;justify-content:center;align-items:center}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:red;box-shadow:var(--box-shadow-active-red)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:.5s ease;box-shadow:var(--box-shadow);color:var(--accent);border-radius:var(--light-radius);display:flex;justify-content:center;align-items:center;margin:10px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:var(--accent);box-shadow:var(--box-shadow-active)}section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:.5s ease;box-shadow:var(--box-shadow);color:var(--secondary);border-radius:var(--light-radius);display:flex;justify-content:center;align-items:center;margin:10px}section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:var(--secondary);box-shadow:var(--box-shadow-active-secondary)}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--secondary)}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--accent)}section[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-wrap:wrap;width:100%;max-width:300px;gap:10px;box-shadow:var(--box-shadow);border-radius:var(--light-radius);padding:7px 0;margin-top:10px}section[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:500;color:var(--accent)}section[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{font-size:20px;font-weight:500;color:var(--secondary);margin-right:5px}section[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;margin-right:10px}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}  .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--accent)!important}  section form .mat-mdc-form-field-icon-suffix{color:var(--accent)}  .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--background)!important}  .mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{display:none}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom-color:var(--accent)!important}  mat-form-field.mat-form-field-invalid{--secondary: red;--accent: red}@media screen and (max-width: 740px){section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{max-height:none;overflow-y:hidden}.graph[_ngcontent-%COMP%]{height:400px}section[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{width:210px}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px 0}}@media screen and (max-width: 600px){.graph[_ngcontent-%COMP%]{height:350px}}"]})}return n})();function Pce(n,t){if(1&n&&(h.j41(0,"div",3),h.nrm(1,"i",4),h.j41(2,"span",5),h.EFF(3),h.k0s(),h.j41(4,"span",6),h.EFF(5),h.k0s(),h.j41(6,"span",6),h.EFF(7),h.k0s()()),2&n){const e=t.$implicit;h.R7$(3),h.JRh(e.title),h.R7$(2),h.JRh(e.repetitions),h.R7$(2),h.JRh(e.lastPerformance)}}let kce=(()=>{class n{workout={};static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-workout-card"]],inputs:{workout:"workout"},decls:7,vars:2,consts:[["title","Edit workout",1,"workout",3,"routerLink"],[1,"title"],[1,"bx","bx-run"],[1,"exercise"],[1,"bx","bx-right-arrow-alt"],[1,"large"],[1,"small"]],template:function(r,i){1&r&&(h.j41(0,"a",0)(1,"div",1),h.nrm(2,"i",2),h.j41(3,"span"),h.EFF(4),h.k0s()(),h.Z7z(5,Pce,8,3,"div",3,h.Vm6),h.k0s()),2&r&&(h.Y8G("routerLink","/workout/"+i.workout.id),h.R7$(4),h.JRh(i.workout.title),h.R7$(),h.Dyx(i.workout.exercises))},dependencies:[Qi,NC,fo,Ku,ro,$m],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;max-width:320px}.workout[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:10px;padding:10px;width:100%;box-shadow:var(--box-shadow);border-radius:var(--light-radius);text-decoration:none;color:var(--accent);cursor:pointer;transition:.5s ease}.workout[_ngcontent-%COMP%]:hover{background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}.workout[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;margin-bottom:10px}.workout[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.workout[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.workout[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;color:var(--secondary)}.workout[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding:5px 0}.workout[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.workout[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]   span.small[_ngcontent-%COMP%]{width:50px;text-align:center;font-weight:400}.workout[_ngcontent-%COMP%]   .exercise[_ngcontent-%COMP%]   span.large[_ngcontent-%COMP%]{width:150px;text-align:left;font-weight:500}"]})}return n})();function Oce(n,t){1&n&&h.nrm(0,"app-workout-card",2),2&n&&h.Y8G("workout",t.$implicit)}function Nce(n,t){if(1&n){const e=h.RV6();h.j41(0,"div",0)(1,"div",1),h.Z7z(2,Oce,1,1,"app-workout-card",2,h.Vm6),h.k0s(),h.j41(4,"a",3),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.addWorkout())}),h.nrm(5,"i",4),h.k0s()()}if(2&n){const e=h.XpG();h.R7$(2),h.Dyx(e.workouts)}}function Fce(n,t){1&n&&h.nrm(0,"mat-spinner")}function Vce(n,t){if(1&n){const e=h.RV6();h.j41(0,"div",3)(1,"mat-form-field")(2,"mat-label"),h.EFF(3,"TITLE"),h.k0s(),h.j41(4,"input",10),h.mxI("ngModelChange",function(i){const s=h.eBV(e).$implicit;return h.DH7(s.title,i)||(s.title=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG(2);return h.Njj(i.toggleUpdateNeeded())}),h.k0s()(),h.j41(5,"mat-form-field")(6,"mat-label"),h.EFF(7,"REPETITIONS"),h.k0s(),h.j41(8,"input",11),h.mxI("ngModelChange",function(i){const s=h.eBV(e).$implicit;return h.DH7(s.repetitions,i)||(s.repetitions=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG(2);return h.Njj(i.toggleUpdateNeeded())}),h.k0s()(),h.j41(9,"mat-form-field")(10,"mat-label"),h.EFF(11,"PERFORMANCE"),h.k0s(),h.j41(12,"input",11),h.mxI("ngModelChange",function(i){const s=h.eBV(e).$implicit;return h.DH7(s.lastPerformance,i)||(s.lastPerformance=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG(2);return h.Njj(i.toggleUpdateNeeded())}),h.k0s()(),h.j41(13,"div",12)(14,"a",13),h.bIt("click",function(){const i=h.eBV(e).$index,s=h.XpG(2);return h.Njj(s.deleteExercise(i))}),h.nrm(15,"i",8),h.k0s()()()}if(2&n){const e=t.$implicit,r=t.$index;h.R7$(4),h.R50("ngModel",e.title),h.Y8G("name","exerciseTitle"+r),h.R7$(4),h.R50("ngModel",e.repetitions),h.Y8G("name","repetitions"+r),h.R7$(4),h.R50("ngModel",e.lastPerformance),h.Y8G("name","lastPerformance"+r)}}function Bce(n,t){if(1&n){const e=h.RV6();h.j41(0,"a",14),h.bIt("click",function(){h.eBV(e);const i=h.XpG(2);return h.Njj(i.updateWorkout())}),h.nrm(1,"i",15),h.k0s()}}function jce(n,t){if(1&n){const e=h.RV6();h.j41(0,"form",0)(1,"mat-form-field",1)(2,"mat-label"),h.EFF(3,"WORKOUT NAME"),h.k0s(),h.j41(4,"input",2),h.mxI("ngModelChange",function(i){h.eBV(e);const s=h.XpG();return h.DH7(s.workout.title,i)||(s.workout.title=i),h.Njj(i)}),h.bIt("ngModelChange",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.toggleUpdateNeeded())}),h.k0s()(),h.Z7z(5,Vce,16,6,"div",3,h.Vm6),h.j41(7,"div",4)(8,"a",5),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.addExercise())}),h.nrm(9,"i",6),h.k0s(),h.j41(10,"a",7),h.bIt("click",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.deleteWorkout())}),h.nrm(11,"i",8),h.k0s(),h.DNE(12,Bce,2,0,"a",9),h.k0s()()}if(2&n){const e=h.XpG();h.R7$(4),h.R50("ngModel",e.workout.title),h.R7$(),h.Dyx(e.workout.exercises),h.R7$(7),h.vxM(e.updateNeeded?12:-1)}}function Uce(n,t){1&n&&h.nrm(0,"mat-spinner")}const Hce=[{path:"connect",component:UZ,canActivate:[(n,t)=>{const e=(0,h.WQX)(Ho),r=(0,h.WQX)(er);return new Promise(s=>{const c=()=>{const d=e.currentUserSig();void 0!==d?null===d?s(!0):(r.navigate(["/"]),s(!1)):setTimeout(c,100)};c()})}]},{path:"workout",component:(()=>{class n{workoutsService=(0,h.WQX)(QH);destroyed$=new oe.B;loading=!0;workouts=[];toastr=(0,h.WQX)(ko);ngOnInit(){this.workoutsService.getWorkouts().pipe(bt(this.destroyed$)).subscribe({next:e=>{e?.length>=0&&(this.workouts=e),this.loading=!1},error:e=>{this.loading=!1,e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Workouts",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}addWorkout(){this.loading=!0;const r={title:"Workout",exercises:[{title:"Exercise 1",repetitions:"4x10",lastPerformance:"20 kg"}]};this.workoutsService.addWorkout(r).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.workouts.push(r),this.loading=!1,this.toastr.info("Workout added","Workouts",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:i=>{this.loading=!1,i.message.includes("Missing or insufficient permissions.")||this.toastr.error(i.message,"Workouts",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-workouts"]],decls:3,vars:2,consts:[[1,"content"],[1,"workouts"],[3,"workout"],["title","Add Workout",1,"add",3,"click"],[1,"bx","bx-plus"]],template:function(r,i){1&r&&(h.j41(0,"section"),h.DNE(1,Nce,6,0,"div",0),h.k0s(),h.DNE(2,Fce,1,0,"mat-spinner")),2&r&&(h.R7$(),h.vxM(i.loading?-1:1),h.R7$(),h.vxM(i.loading?2:-1))},dependencies:[Qi,by,vy,kce],styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]{position:relative;margin:20px 0;display:flex;align-items:center;justify-content:center;flex-direction:column;width:95%;max-width:1200px;background-color:var(--background);color:var(--accent);box-shadow:var(--box-shadow);border-radius:var(--light-radius)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;width:100%}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .workouts[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-wrap:wrap;width:100%;gap:10px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:.5s ease;box-shadow:var(--box-shadow);color:var(--accent);border-radius:var(--light-radius);display:flex;justify-content:center;align-items:center;margin:10px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:var(--accent);box-shadow:var(--box-shadow-active)}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--accent)!important}"]})}return n})(),canActivate:[Ef]},{path:"workout/:id",component:(()=>{class n{updateNeeded=!1;workout={};activatedRoute=(0,h.WQX)(zs);workoutsService=(0,h.WQX)(QH);router=(0,h.WQX)(er);destroyed$=new oe.B;loading=!0;toastr=(0,h.WQX)(ko);dialog=(0,h.WQX)(rI);ngOnInit(){this.activatedRoute.params.pipe(bt(this.destroyed$),Qn(e=>this.workoutsService.getWorkout(e.id)),zr(1)).subscribe({next:e=>{e&&(this.workout=e),this.loading=!1},error:e=>{this.loading=!1,e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Workout",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}toggleUpdateNeeded(){this.updateNeeded=!0}addExercise(){this.workout.exercises.push({title:"Exercise 1",repetitions:"4x10",lastPerformance:"20 kg"}),this.updateWorkout()}deleteExercise(e){this.workout.exercises.splice(e,1),this.updateWorkout()}updateWorkout(){this.workout.title.length>=2&&this.workout.title.length<=50&&!this.workout.exercises.some(e=>e.title.length<2||e.title.length>50||e.repetitions.length>20||e.lastPerformance.length>20)?(this.loading=!0,this.workoutsService.updateWorkout(this.workout).pipe(bt(this.destroyed$)).subscribe({next:()=>{this.updateNeeded=!1,this.loading=!1,this.toastr.info("Workout updated","Workout",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:e=>{this.loading=!1,e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Workout",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})):this.toastr.info("Invalid workout","Workout",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}deleteWorkout(){this.dialog.open(YH,{data:"delete this workout"}).afterClosed().pipe(fn(r=>r),Qn(()=>(this.loading=!0,this.workoutsService.deleteWorkout(this.workout.id))),bt(this.destroyed$)).subscribe({next:()=>{this.router.navigate(["/workout"]),this.loading=!1,this.toastr.info("Workout deleted","Workout",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})},error:r=>{this.loading=!1,r.message.includes("Missing or insufficient permissions.")||this.toastr.error(r.message,"Workout",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-workout"]],decls:3,vars:2,consts:[[1,"content"],[1,"title"],["matInput","","name","workoutTitle","type","text","minlength","2","maxlength","50","required","",3,"ngModelChange","ngModel"],[1,"row"],[1,"button-container"],["title","Add Exercise",1,"add",3,"click"],[1,"bx","bx-plus"],["title","Delete Workout",1,"delete",3,"click"],[1,"bx","bx-x"],["title","Update Workout",1,"update"],["matInput","","type","text","minlength","2","maxlength","50","required","",3,"ngModelChange","ngModel","name"],["matInput","","type","text","maxlength","20",3,"ngModelChange","ngModel","name"],[1,"delete-container"],["title","Delete Exercise",1,"delete",3,"click"],["title","Update Workout",1,"update",3,"click"],[1,"bx","bx-check"]],template:function(r,i){1&r&&(h.j41(0,"section"),h.DNE(1,jce,13,2,"form",0),h.k0s(),h.DNE(2,Uce,1,0,"mat-spinner")),2&r&&(h.R7$(),h.vxM(i.loading?-1:1),h.R7$(),h.vxM(i.loading?2:-1))},dependencies:[Qi,NC,Wu,zo,_a,ju,Ll,PC,SR,Ff,Is,fo,Gf,Hl,Ku,qf,by,vy],styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}section[_ngcontent-%COMP%]{position:relative;margin:20px 0;display:flex;align-items:center;justify-content:center;flex-direction:column;width:95%;max-width:1200px;background-color:var(--background);color:var(--accent);box-shadow:var(--box-shadow);border-radius:var(--light-radius)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;flex-direction:column;margin-top:10px;padding:0 10px;max-height:480px;overflow-y:auto}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:20px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap}section[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:50px;height:50px;color:red;background-color:var(--background);border-radius:var(--light-radius);cursor:pointer;transition:.5s ease;display:flex;justify-content:center;align-items:center}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{box-shadow:var(--box-shadow)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{box-shadow:var(--box-shadow-active-red)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:red;box-shadow:var(--box-shadow-active-red)}section[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:10px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:.5s ease;box-shadow:var(--box-shadow);color:var(--accent);border-radius:var(--light-radius);display:flex;justify-content:center;align-items:center;margin:10px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:var(--accent);box-shadow:var(--box-shadow-active)}section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;transition:.5s ease;box-shadow:var(--box-shadow);color:var(--secondary);border-radius:var(--light-radius);display:flex;justify-content:center;align-items:center;margin:10px}section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:50px}section[_ngcontent-%COMP%]   .update[_ngcontent-%COMP%]:hover{color:var(--primary);background-color:var(--secondary);box-shadow:var(--box-shadow-active-secondary)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--secondary)}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{color:var(--accent)}mat-spinner[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}  .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--accent)!important}  section .content .mat-mdc-form-field-icon-suffix{color:var(--accent)}  .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--background)!important}  .mat-mdc-form-field-subscript-wrapper, .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{display:none}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom-color:var(--accent)!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom-color:var(--accent)!important}  mat-form-field.mat-form-field-invalid{--secondary: red;--accent: red}@media screen and (max-width: 740px){section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-height:none;overflow-y:hidden}section[_ngcontent-%COMP%]   .delete-container[_ngcontent-%COMP%]{width:210px}section[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:10px 0}}"]})}return n})(),canActivate:[Ef]},{path:"progress",component:Rce,canActivate:[Ef]},{path:"profile",component:sie,canActivate:[Ef]},{path:"**",redirectTo:"workout",pathMatch:"full"}];let $ce=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=(0,h.WQX)(h.zZn);loadingSchedulerFn=(0,h.WQX)(Gce,{optional:!0});_engine;constructor(e,r,i,s,c){this.doc=e,this.delegate=r,this.zone=i,this.animationType=s,this.moduleImpl=c}ngOnDestroy(){this._engine?.flush()}loadImpl(){const e=()=>this.moduleImpl??ce.e(647).then(ce.bind(ce,647)).then(i=>i);let r;return r=this.loadingSchedulerFn?this.loadingSchedulerFn(e):e(),r.catch(i=>{throw new h.wOt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);const c=new s(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,r){const i=this.delegate.createRenderer(e,r);if(0===i.\u0275type)return i;"boolean"==typeof i.throwOnSyntheticProps&&(i.throwOnSyntheticProps=!1);const s=new Wce(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{const d=c.createRenderer(e,r);s.use(d),this.scheduler??=this.injector.get(h.An2,null,{optional:!0}),this.scheduler?.notify(10)}).catch(c=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(r){h.QTQ()};static \u0275prov=h.jDH({token:n,factory:n.\u0275fac})}return n})();class Wce{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,i){this.delegate.insertBefore(t,e,r,i)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.shouldReplay(e)&&this.replay.push(s=>s.listen(t,e,r,i)),this.delegate.listen(t,e,r,i)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}const Gce=new h.nKC(""),Kce_firebase={apiKey:"AIzaSyC86pZuQAkZZolMU20ccFUMi38RXFwYuns",authDomain:"performax-716ed.firebaseapp.com",projectId:"performax-716ed",storageBucket:"performax-716ed.firebasestorage.app",messagingSenderId:"941457045700",appId:"1:941457045700:web:ac87e97d4c68223899f191"},Wn=void 0;!function Et(n,t,e){(0,h.XSP)(n,t,e)}(["fr",[["AM","PM"],Wn,Wn],Wn,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],Wn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]],Wn,[["av. J.-C.","ap. J.-C."],Wn,["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xe0' {0}",Wn],[",","\u202f",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[Wn,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[Wn,"\xa5"],COP:["$CO","$"],CYP:["\xa3CY"],EGP:[Wn,"\xa3E"],FJD:["$FJ","$"],FKP:["\xa3FK","\xa3"],FRF:["F"],GBP:["\xa3GB","\xa3"],GIP:["\xa3GI","\xa3"],HKD:[Wn,"$"],IEP:["\xa3IE"],ILP:["\xa3IL"],ITL:["\u20a4IT"],JPY:[Wn,"\xa5"],KMF:[Wn,"FC"],LBP:["\xa3LB","\xa3L"],MTP:["\xa3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[Wn,"$C"],NZD:["$NZ","$"],PHP:[Wn,"\u20b1"],RHD:["$RH"],RON:[Wn,"L"],RWF:[Wn,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[Wn,"$T"],TTD:["$TT","$"],TWD:[Wn,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[Wn,"$"],XPF:["FCFP"],ZMW:[Wn,"Kw"]},"ltr",function Xce(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 0===e||1===e?1:0===i&&0!==e&&e%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}]);const Qce={providers:[(0,h.Jn2)({eventCoalescing:!0}),function ID(n,...t){return(0,h.EmA)([{provide:Ks,multi:!0,useValue:n},[],{provide:zs,useFactory:E0,deps:[er]},{provide:h.iLQ,multi:!0,useFactory:TD},t.map(e=>e.\u0275providers)])}(Hce),((n={})=>(0,h.EmA)([{provide:M0,useValue:{default:MN,config:n}}]))(),function qce(n="animations"){return(0,h.ngT)("NgAsyncAnimations"),(0,h.EmA)([{provide:h._9s,useFactory:(t,e,r)=>new $ce(t,e,r,n),deps:[he,Lx,h.SKi]},{provide:h.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}(),function EY(...n){const t=[VB,k3,R3,{provide:F,useExisting:R3},{provide:N,useFactory:()=>(0,h.WQX)(A3,{optional:!0})??(0,h.WQX)(k3)},{provide:YC,useValue:wY,multi:!0},{provide:UB,useValue:!0},{provide:F3,useClass:bY}];for(const e of n)t.push(...e.\u0275providers);return(0,h.EmA)(t)}(),function DA(n,...t){return(0,h.EmA)([Ah,TA,{provide:wg,useFactory:NF(n),multi:!0,deps:[h.SKi,h.zZn,vg,...t]}])}(()=>LF(Kce_firebase)),function KV(n,...t){return tr("angularfire",yg.full,"auth"),(0,h.EmA)([qV,GV,{provide:kl,useFactory:WV(n),multi:!0,deps:[h.SKi,h.zZn,vg,fl,[new h.Xx1,ia],...t]}])}(()=>UM()),function qre(n,...t){return tr("angularfire",yg.full,"fst"),(0,h.EmA)([Gre,Wre,{provide:XH,useFactory:$re(n),multi:!0,deps:[h.SKi,h.zZn,vg,fl,[new h.Xx1,VM],[new h.Xx1,ia],...t]}])}(()=>Kre())]};let Yce=(()=>{class n{router=(0,h.WQX)(er);location=(0,h.WQX)(jt);toastr=(0,h.WQX)(ko);logoutEvent=new h.bkB;logout(){this.logoutEvent.emit(),this.toastr.info("Logged out","Performax",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom info"})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-header"]],outputs:{logoutEvent:"logoutEvent"},decls:17,vars:0,consts:[["routerLink","/workout","routerLinkActive","active","title","Workouts"],[1,"text"],[1,"bx","bx-dumbbell"],["routerLink","/progress","routerLinkActive","active","title","Progress"],[1,"bx","bxs-bar-chart-alt-2"],["routerLink","/profile","routerLinkActive","active","title","Profile"],[1,"bx","bxs-user"],["title","Logout",3,"click"],[1,"bx","bxs-log-out"]],template:function(r,i){1&r&&(h.j41(0,"nav")(1,"a",0)(2,"span",1),h.EFF(3,"Workouts"),h.k0s(),h.nrm(4,"i",2),h.k0s(),h.j41(5,"a",3)(6,"span",1),h.EFF(7,"Progress"),h.k0s(),h.nrm(8,"i",4),h.k0s(),h.j41(9,"a",5)(10,"span",1),h.EFF(11,"Profile"),h.k0s(),h.nrm(12,"i",6),h.k0s(),h.j41(13,"a",7),h.bIt("click",function(){return i.logout()}),h.j41(14,"span",1),h.EFF(15,"Logout"),h.k0s(),h.nrm(16,"i",8),h.k0s()())},dependencies:[Qi,ro,$m,Wm],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}nav[_ngcontent-%COMP%]{margin-top:35px;max-width:450px;width:95%;height:60px;background-color:var(--primary);display:flex;justify-content:space-evenly;align-items:center;border-radius:var(--light-radius);box-shadow:var(--box-shadow)}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;width:60px;height:60px;text-align:center;cursor:pointer;text-decoration:none}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:60px;height:60px;border-radius:50%;font-size:30px;text-align:center;transition:.5s ease;color:var(--accent)}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translateY(-30px);background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translateY(-30px);background-color:var(--accent);color:var(--primary);box-shadow:var(--box-shadow-active)}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:absolute;color:var(--accent);font-weight:600;font-size:16px;letter-spacing:.05em;transition:.5s ease;opacity:0;transform:translateY(15px)}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{opacity:1;transform:translateY(12px)}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{opacity:1;transform:translateY(12px)}"]})}return n})();function Zce(n,t){if(1&n){const e=h.RV6();h.j41(0,"app-header",0),h.bIt("logoutEvent",function(){h.eBV(e);const i=h.XpG();return h.Njj(i.logout())}),h.k0s()}}(function m$(n,t){return(0,h.TL3)({rootComponent:n,...Eo(t)})})((()=>{class n{userService=(0,h.WQX)(Ho);router=(0,h.WQX)(er);toastr=(0,h.WQX)(ko);destroyed$=new oe.B;ngOnInit(){this.userService.user$.pipe(bt(this.destroyed$)).subscribe({next:e=>{this.userService.currentUserSig.set(e?{email:e.email}:null)},error:e=>{e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"Connexion",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}logout(){this.userService.logout().pipe(bt(this.destroyed$)).subscribe({next:()=>{this.router.navigate(["/connect"])},error:e=>{e.message.includes("Missing or insufficient permissions.")||this.toastr.error(e.message,"D\xe9connexion",{positionClass:"toast-bottom-center",toastClass:"ngx-toastr custom error"})}})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=h.VBU({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[3,"logoutEvent"]],template:function(r,i){1&r&&(h.DNE(0,Zce,1,0,"app-header"),h.nrm(1,"router-outlet")),2&r&&h.vxM(i.userService.currentUserSig()?0:-1)},dependencies:[ih,Qi,Yce],encapsulation:2})}return n})(),Qce).catch(n=>console.error(n))},203:(Jt,Ge,ce)=>{ce.d(Ge,{F:()=>oe,m:()=>he});var h=ce(669);function oe(...Se){return he(Se)}function he(Se){return 0===Se.length?h.D:1===Se.length?Se[0]:function(ke){return Se.reduce((be,ht)=>ht(be),ke)}}},218:(Jt,Ge,ce)=>{ce.d(Ge,{FX:()=>Gn,If:()=>h,K2:()=>ke,PZ:()=>jt,hZ:()=>he,i0:()=>Se,iF:()=>be,kY:()=>Ce,kp:()=>oe,sf:()=>Ur,wk:()=>ht});var h=function(we){return we[we.State=0]="State",we[we.Transition=1]="Transition",we[we.Sequence=2]="Sequence",we[we.Group=3]="Group",we[we.Animate=4]="Animate",we[we.Keyframes=5]="Keyframes",we[we.Style=6]="Style",we[we.Trigger=7]="Trigger",we[we.Reference=8]="Reference",we[we.AnimateChild=9]="AnimateChild",we[we.AnimateRef=10]="AnimateRef",we[we.Query=11]="Query",we[we.Stagger=12]="Stagger",we}(h||{});const oe="*";function he(we,pe){return{type:h.Trigger,name:we,definitions:pe,options:{}}}function Se(we,pe=null){return{type:h.Animate,styles:pe,timings:we}}function ke(we,pe=null){return{type:h.Sequence,steps:we,options:pe}}function be(we){return{type:h.Style,styles:we,offset:null}}function ht(we,pe,qe){return{type:h.State,name:we,styles:pe,options:qe}}function Ce(we,pe,qe=null){return{type:h.Transition,expr:we,animation:pe,options:qe}}class Ur{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(pe=0,qe=0){this.totalTime=pe+qe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}onStart(pe){this._originalOnStartFns.push(pe),this._onStartFns.push(pe)}onDone(pe){this._originalOnDoneFns.push(pe),this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(pe){this._position=this.totalTime?pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(pe){const qe="start"==pe?this._onStartFns:this._onDoneFns;qe.forEach(Ae=>Ae()),qe.length=0}}class jt{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(pe){this.players=pe;let qe=0,Ae=0,Rt=0;const Fn=this.players.length;0==Fn?queueMicrotask(()=>this._onFinish()):this.players.forEach(gr=>{gr.onDone(()=>{++qe==Fn&&this._onFinish()}),gr.onDestroy(()=>{++Ae==Fn&&this._onDestroy()}),gr.onStart(()=>{++Rt==Fn&&this._onStart()})}),this.totalTime=this.players.reduce((gr,li)=>Math.max(gr,li.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this.players.forEach(pe=>pe.init())}onStart(pe){this._onStartFns.push(pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(pe=>pe()),this._onStartFns=[])}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(pe=>pe.play())}pause(){this.players.forEach(pe=>pe.pause())}restart(){this.players.forEach(pe=>pe.restart())}finish(){this._onFinish(),this.players.forEach(pe=>pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(pe=>pe.destroy()),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this.players.forEach(pe=>pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(pe){const qe=pe*this.totalTime;this.players.forEach(Ae=>{const Rt=Ae.totalTime?Math.min(1,qe/Ae.totalTime):1;Ae.setPosition(Rt)})}getPosition(){const pe=this.players.reduce((qe,Ae)=>null===qe||Ae.totalTime>qe.totalTime?Ae:qe,null);return null!=pe?pe.getPosition():0}beforeDestroy(){this.players.forEach(pe=>{pe.beforeDestroy&&pe.beforeDestroy()})}triggerCallback(pe){const qe="start"==pe?this._onStartFns:this._onDoneFns;qe.forEach(Ae=>Ae()),qe.length=0}}const Gn="!"},270:(Jt,Ge,ce)=>{ce.d(Ge,{f:()=>h});const h={setTimeout(oe,he,...Se){const{delegate:Ee}=h;return Ee?.setTimeout?Ee.setTimeout(oe,he,...Se):setTimeout(oe,he,...Se)},clearTimeout(oe){const{delegate:he}=h;return(he?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},334:(Jt,Ge,ce)=>{ce.d(Ge,{m:()=>he});var h=ce(26),oe=ce(270);function he(Se){oe.f.setTimeout(()=>{const{onUnhandledError:Ee}=h.$;if(!Ee)throw Se;Ee(Se)})}},343:(Jt,Ge,ce)=>{function h(){}ce.d(Ge,{l:()=>h})},354:(Jt,Ge,ce)=>{ce.d(Ge,{T:()=>he});var h=ce(974),oe=ce(979);function he(Se,Ee){return(0,h.N)((ke,be)=>{let ht=0;ke.subscribe((0,oe._)(be,Xe=>{be.next(Se.call(Ee,Xe,ht++))}))})}},359:(Jt,Ge,ce)=>{ce.d(Ge,{Kn:()=>ke,yU:()=>Ee,Uv:()=>be});var h=ce(71);const he=(0,ce(853).L)(Xe=>function(ie){Xe(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((De,Mt)=>`${Mt+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var Se=ce(908);class Ee{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Fe of ie)Fe.remove(this);else ie.remove(this);const{initialTeardown:De}=this;if((0,h.T)(De))try{De()}catch(Fe){Ce=Fe instanceof he?Fe.errors:[Fe]}const{_finalizers:Mt}=this;if(Mt){this._finalizers=null;for(const Fe of Mt)try{ht(Fe)}catch(At){Ce=Ce??[],At instanceof he?Ce=[...Ce,...At.errors]:Ce.push(At)}}if(Ce)throw new he(Ce)}}add(Ce){var ie;if(Ce&&Ce!==this)if(this.closed)ht(Ce);else{if(Ce instanceof Ee){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(Ce)}}_hasParent(Ce){const{_parentage:ie}=this;return ie===Ce||Array.isArray(ie)&&ie.includes(Ce)}_addParent(Ce){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(Ce),ie):ie?[ie,Ce]:Ce}_removeParent(Ce){const{_parentage:ie}=this;ie===Ce?this._parentage=null:Array.isArray(ie)&&(0,Se.o)(ie,Ce)}remove(Ce){const{_finalizers:ie}=this;ie&&(0,Se.o)(ie,Ce),Ce instanceof Ee&&Ce._removeParent(this)}}Ee.EMPTY=(()=>{const Xe=new Ee;return Xe.closed=!0,Xe})();const ke=Ee.EMPTY;function be(Xe){return Xe instanceof Ee||Xe&&"closed"in Xe&&(0,h.T)(Xe.remove)&&(0,h.T)(Xe.add)&&(0,h.T)(Xe.unsubscribe)}function ht(Xe){(0,h.T)(Xe)?Xe():Xe.unsubscribe()}},360:(Jt,Ge,ce)=>{ce.d(Ge,{bc$:()=>tD,iLQ:()=>rf,sZ2:()=>tl,o8S:()=>Nr,BIS:()=>eN,gRc:()=>jf,Ql9:()=>ER,OM3:()=>Fh,Ocv:()=>DR,abz:()=>Ro,Z63:()=>xi,aKT:()=>Mc,uvJ:()=>Di,zcH:()=>eo,bkB:()=>Ni,ES_:()=>F1,$GK:()=>tt,nKC:()=>Le,zZn:()=>Zn,_q3:()=>jR,MKu:()=>dy,xe9:()=>Ll,Co$:()=>Fw,Vns:()=>aa,SKi:()=>Ot,Xx1:()=>Kv,Agw:()=>J1,PLl:()=>ih,u5s:()=>Qd,sFG:()=>KA,_9s:()=>_w,czy:()=>G0,WPN:()=>eu,kdw:()=>Xv,C4Q:()=>Js,NYb:()=>uE,giA:()=>XL,xvI:()=>FG,RxE:()=>Gu,c1b:()=>Or,gXe:()=>ds,mal:()=>lh,Tzd:()=>ah,Af3:()=>Ps,L39:()=>CB,EWP:()=>Wf,sbv:()=>Rw,a0P:()=>_3,Ol2:()=>Lw,w6W:()=>yS,QZP:()=>my,Rfq:()=>Na,WQX:()=>Te,hFB:()=>Jd,naY:()=>cy,Hps:()=>Rc,QuC:()=>Co,EmA:()=>Ln,Udg:()=>IB,phd:()=>x4,Jn2:()=>$2,HJs:()=>y3,N4e:()=>bc,vPA:()=>Pc,O8t:()=>po,An2:()=>rt,H3F:()=>Yw,H8p:()=>Jv,KH2:()=>Fu,Ua0:()=>Oi,wOt:()=>ye,WHO:()=>ef,e01:()=>g_,Lf2:()=>Bc,lNU:()=>Bv,h9k:()=>GD,$MX:()=>Qm,ZF7:()=>_h,Kcf:()=>IW,e5t:()=>R0,UyX:()=>j,cWb:()=>xW,osQ:()=>PN,H5H:()=>zE,Zy3:()=>wo,mq5:()=>AM,JZv:()=>_r,TL3:()=>ho,LfX:()=>zO,plB:()=>na,jNT:()=>nf,zjR:()=>$S,ngT:()=>Gr,XSP:()=>PV,TL$:()=>n0,Tbb:()=>An,rcV:()=>Xs,nM4:()=>IS,Vt3:()=>Uw,OA$:()=>h1,Jv_:()=>w2,R7$:()=>sA,BMQ:()=>tM,HbH:()=>D_,AVh:()=>mf,vxM:()=>CV,wni:()=>ma,C6U:()=>XM,SS7:()=>_a,VBU:()=>Vw,FsC:()=>wS,jDH:()=>St,G2t:()=>jp,$C:()=>Kh,EJ8:()=>mn,rXU:()=>ia,nrm:()=>VE,eu8:()=>jE,bVm:()=>vf,qex:()=>L_,k0s:()=>Nu,j41:()=>F_,RV6:()=>DM,xGo:()=>R1,Mr5:()=>UE,KVO:()=>yr,kS0:()=>Lb,QTQ:()=>eL,bIt:()=>$M,lsd:()=>QE,joV:()=>Tb,qSk:()=>IT,XpG:()=>u2,SdG:()=>WM,NAR:()=>d2,Y8G:()=>_M,eq3:()=>Uu,NyB:()=>QM,mGM:()=>KM,sdS:()=>z_,Dyx:()=>CM,Z7z:()=>NE,Vm6:()=>O_,Njj:()=>bb,eBV:()=>vb,npT:()=>jN,n$t:()=>QD,xc7:()=>yM,zvX:()=>HE,DNE:()=>Gw,C5r:()=>ya,EFF:()=>tR,JRh:()=>$_,SpI:()=>Bu,Lme:()=>W_,DH7:()=>fC,mxI:()=>rR,R50:()=>uo,GBs:()=>co});var h=ce(467);function oe(o,a){return Object.is(o,a)}let he=null,Se=!1,Ee=1;const ke=Symbol("SIGNAL");function be(o){const a=he;return he=o,a}const ie={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function De(o){if(Se)throw new Error("");if(null===he)return;he.consumerOnSignalRead(o);const a=he.nextProducerIndex++;li(he),a<he.producerNode.length&&he.producerNode[a]!==o&&gr(he)&&Fn(he.producerNode[a],he.producerIndexOfThis[a]),he.producerNode[a]!==o&&(he.producerNode[a]=o,he.producerIndexOfThis[a]=gr(he)?Rt(o,he,a):0),he.producerLastReadVersion[a]=o.version}function Fe(o){if((!gr(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==Ee)){if(!o.producerMustRecompute(o)&&!qe(o))return void Gn(o);o.producerRecomputeValue(o),Gn(o)}}function At(o){if(void 0===o.liveConsumerNode)return;const a=Se;Se=!0;try{for(const l of o.liveConsumerNode)l.dirty||jt(l)}finally{Se=a}}function Ur(){return!1!==he?.consumerAllowSignalWrites}function jt(o){o.dirty=!0,At(o),o.consumerMarkedDirty?.(o)}function Gn(o){o.dirty=!1,o.lastCleanEpoch=Ee}function we(o){return o&&(o.nextProducerIndex=0),be(o)}function pe(o,a){if(be(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(gr(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)Fn(o.producerNode[l],o.producerIndexOfThis[l]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function qe(o){li(o);for(let a=0;a<o.producerNode.length;a++){const l=o.producerNode[a],u=o.producerLastReadVersion[a];if(u!==l.version||(Fe(l),u!==l.version))return!0}return!1}function Ae(o){if(li(o),gr(o))for(let a=0;a<o.producerNode.length;a++)Fn(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Rt(o,a,l){if(Dv(o),0===o.liveConsumerNode.length&&Lp(o))for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=Rt(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(l),o.liveConsumerNode.push(a)-1}function Fn(o,a){if(Dv(o),1===o.liveConsumerNode.length&&Lp(o))for(let u=0;u<o.producerNode.length;u++)Fn(o.producerNode[u],o.producerIndexOfThis[u]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[a],p=o.liveConsumerNode[a];li(p),p.producerIndexOfThis[u]=a}}function gr(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function li(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Dv(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function Lp(o){return void 0!==o.producerNode}function Av(o,a){const l=Object.create(kx);l.computation=o,void 0!==a&&(l.equal=a);const u=()=>{if(Fe(l),De(l),l.value===Ko)throw l.error;return l.value};return u[ke]=l,u}const Rs=Symbol("UNSET"),qo=Symbol("COMPUTING"),Ko=Symbol("ERRORED"),kx={...ie,value:Rs,dirty:!0,error:null,equal:oe,kind:"computed",producerMustRecompute:o=>o.value===Rs||o.value===qo,producerRecomputeValue(o){if(o.value===qo)throw new Error("Detected cycle in computations.");const a=o.value;o.value=qo;const l=we(o);let u,p=!1;try{u=o.computation(),be(null),p=a!==Rs&&a!==Ko&&u!==Ko&&o.equal(a,u)}catch(m){u=Ko,o.error=m}finally{pe(o,l)}p?o.value=a:(o.value=u,o.version++)}};let Vp=function PO(){throw new Error};function Sv(o){Vp(o)}let hc=null;function Rd(o,a){Ur()||Sv(o),o.equal(o.value,a)||(o.value=a,function OO(o){o.version++,function Mt(){Ee++}(),At(o),hc?.()}(o))}const Rv={...ie,equal:oe,value:void 0,kind:"signal"};let kv;function Ov(){return kv}function Xo(o){const a=kv;return kv=o,a}const Nv=Symbol("NotFound");Error;var Lv=ce(412),Oa=ce(413),Vv=ce(359),LO=ce(354);const Bv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class ye extends Error{code;constructor(a,l){super(wo(a,l)),this.code=a}}function wo(o,a){return`${function Vx(o){return`NG0${Math.abs(o)}`}(o)}${a?": "+a:""}`}const Bp=Symbol("InputSignalNode#UNSET"),Bx={...Rv,transformFn:void 0,applyValueToInputSignal(o,a){Rd(o,a)}};function VO(o,a){const l=Object.create(Bx);function u(){if(De(l),l.value===Bp)throw new ye(-950,null);return l.value}return l.value=o,l.transformFn=a?.transform,u[ke]=l,u}function Eo(o){return{toString:o}.toString()}const fc="__parameters__";function kd(o,a,l){return Eo(()=>{const u=function jv(o){return function(...l){if(o){const u=o(...l);for(const p in u)this[p]=u[p]}}}(a);function p(...m){if(this instanceof p)return u.apply(this,m),this;const _=new p(...m);return w.annotation=_,w;function w(E,T,D){const P=E.hasOwnProperty(fc)?E[fc]:Object.defineProperty(E,fc,{value:[]})[fc];for(;P.length<=D;)P.push(null);return(P[D]=P[D]||[]).push(_),E}}return p.prototype.ngMetadataName=o,p.annotationCls=p,p})}const _r=globalThis;function Et(o){for(let a in o)if(o[a]===Et)return a;throw Error("Could not find renamed property on target object.")}function _$(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function An(o){if("string"==typeof o)return o;if(Array.isArray(o))return`[${o.map(An).join(", ")}]`;if(null==o)return""+o;const a=o.overriddenName||o.name;if(a)return`${a}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return u>=0?l.slice(0,u):l}function Uv(o,a){return o?a?`${o} ${a}`:o:a||""}const v$=Et({__forward_ref__:Et});function Na(o){return o.__forward_ref__=Na,o.toString=function(){return An(this())},o}function He(o){return Fa(o)?o():o}function Fa(o){return"function"==typeof o&&o.hasOwnProperty(v$)&&o.__forward_ref__===Na}function St(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function jp(o){return{providers:o.providers||[],imports:o.imports||[]}}function Up(o){return $O(o,zp)||$O(o,WO)}function zO(o){return null!==Up(o)}function $O(o,a){return o.hasOwnProperty(a)?o[a]:null}function Hp(o){return o&&(o.hasOwnProperty(Hv)||o.hasOwnProperty(Ux))?o[Hv]:null}const zp=Et({\u0275prov:Et}),Hv=Et({\u0275inj:Et}),WO=Et({ngInjectableDef:Et}),Ux=Et({ngInjectorDef:Et});class Le{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(a,l){this._desc=a,this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=St({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zx(o){return o&&!!o.\u0275providers}const La=Et({\u0275cmp:Et}),Wv=Et({\u0275dir:Et}),Gv=Et({\u0275pipe:Et}),$p=Et({\u0275mod:Et}),ci=Et({\u0275fac:Et}),Wp=Et({__NG_ELEMENT_ID__:Et}),qO=Et({__NG_ENV_ID__:Et});function ze(o){return"string"==typeof o?o:null==o?"":String(o)}function KO(o,a){throw new ye(-200,o)}function Gp(o,a){throw new ye(-201,!1)}var tt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(tt||{});let qp;function mc(){return qp}function ui(o){const a=qp;return qp=o,a}function XO(o,a,l){const u=Up(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&tt.Optional?null:void 0!==a?a:void Gp()}const gc={},Gx="__NG_DI_FLAG__";class QO{injector;constructor(a){this.injector=a}retrieve(a,l){return this.injector.get(a,l.optional?Nv:gc,l)}}const Kp="ngTempTokenPath",ZO=/\n/gm,qx="__source";function P$(o,a=tt.Default){if(void 0===Ov())throw new ye(-203,!1);if(null===Ov())return XO(o,void 0,a);{const l=Ov();let u;return u=l instanceof QO?l.injector:l,u.get(o,a&tt.Optional?null:void 0,a)}}function yr(o,a=tt.Default){return(mc()||P$)(He(o),a)}function Te(o,a=tt.Default){return yr(o,qv(a))}function qv(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Xx(o){const a=[];for(let l=0;l<o.length;l++){const u=He(o[l]);if(Array.isArray(u)){if(0===u.length)throw new ye(900,!1);let p,m=tt.Default;for(let _=0;_<u.length;_++){const w=u[_],E=k$(w);"number"==typeof E?-1===E?p=w.token:m|=E:p=w}a.push(yr(p,m))}else a.push(yr(u))}return a}function Xp(o,a){return o[Gx]=a,o.prototype[Gx]=a,o}function k$(o){return o[Gx]}const Kv=Xp(kd("Optional"),8),Xv=Xp(kd("SkipSelf"),4);function _c(o,a){return o.hasOwnProperty(ci)?o[ci]:null}function Od(o,a){o.forEach(l=>Array.isArray(l)?Od(l,a):a(l))}function JO(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Qp(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Pt(o,a,l){let u=lr(o,a);return u>=0?o[1|u]=l:(u=~u,function Va(o,a,l,u){let p=o.length;if(p==a)o.push(l,u);else if(1===p)o.push(u,o[0]),o[0]=l;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=l,o[a+1]=u}}(o,u,a,l)),u}function It(o,a){const l=lr(o,a);if(l>=0)return o[1|l]}function lr(o,a){return function Sn(o,a,l){let u=0,p=o.length>>l;for(;p!==u;){const m=u+(p-u>>1),_=o[m<<l];if(a===_)return m<<l;_>a?p=m:u=m+1}return~(p<<l)}(o,a,1)}const qi={},mt=[],xi=new Le(""),Yx=new Le("",-1),Yv=new Le("");class Yp{get(a,l=gc){if(l===gc){const u=new Error(`NullInjectorError: No provider for ${An(a)}!`);throw u.name="NullInjectorError",u}return l}}function Ti(o,a){const l=o[$p]||null;if(!l&&!0===a)throw new Error(`Type ${An(o)} does not have '\u0275mod' property.`);return l}function nt(o){return o[La]||null}function Mn(o){return o[Wv]||null}function vr(o){return o[Gv]||null}function Co(o){const a=nt(o)||Mn(o)||vr(o);return null!==a&&a.standalone}function Ln(o){return{\u0275providers:o}}function V$(...o){return{\u0275providers:Jx(0,o),\u0275fromNgModule:!0}}function Jx(o,...a){const l=[],u=new Set;let p;const m=_=>{l.push(_)};return Od(a,_=>{const w=_;Zp(w,m,[],u)&&(p||=[],p.push(w))}),void 0!==p&&e1(p,m),l}function e1(o,a){for(let l=0;l<o.length;l++){const{ngModule:u,providers:p}=o[l];Jp(p,m=>{a(m,u)})}}function Zp(o,a,l,u){if(!(o=He(o)))return!1;let p=null,m=Hp(o);const _=!m&&nt(o);if(m||_){if(_&&!_.standalone)return!1;p=o}else{const E=o.ngModule;if(m=Hp(E),!m)return!1;p=E}const w=u.has(p);if(_){if(w)return!1;if(u.add(p),_.dependencies){const E="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const T of E)Zp(T,a,l,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let T;u.add(p);try{Od(m.imports,D=>{Zp(D,a,l,u)&&(T||=[],T.push(D))})}finally{}void 0!==T&&e1(T,a)}if(!w){const T=_c(p)||(()=>new p);a({provide:p,useFactory:T,deps:mt},p),a({provide:Yv,useValue:p,multi:!0},p),a({provide:xi,useValue:()=>yr(p),multi:!0},p)}const E=m.providers;if(null!=E&&!w){const T=o;Jp(E,D=>{a(D,T)})}}}return p!==o&&void 0!==o.providers}function Jp(o,a){for(let l of o)zx(l)&&(l=l.\u0275providers),Array.isArray(l)?Jp(l,a):a(l)}const t1=Et({provide:String,useValue:Et});function Zv(o){return null!==o&&"object"==typeof o&&t1 in o}function Qo(o){return"function"==typeof o}const Jv=new Le(""),em={},eT={};let yc;function tm(){return void 0===yc&&(yc=new Yp),yc}class Di{}class Io extends Di{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(a,l,u,p){super(),this.parent=l,this.source=u,this.scopes=p,eb(a,_=>this.processProvider(_)),this.records.set(Yx,vc(void 0,this)),p.has("environment")&&this.records.set(Di,vc(void 0,this));const m=this.records.get(Jv);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Yv,mt,tt.Self))}retrieve(a,l){return this.get(a,l.optional?Nv:gc,l)}destroy(){qt(this),this._destroyed=!0;const a=be(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of l)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),be(a)}}onDestroy(a){return qt(this),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){qt(this);const l=Xo(this),u=ui(void 0);try{return a()}finally{Xo(l),ui(u)}}get(a,l=gc,u=tt.Default){if(qt(this),a.hasOwnProperty(qO))return a[qO](this);u=qv(u);const m=Xo(this),_=ui(void 0);try{if(!(u&tt.SkipSelf)){let E=this.records.get(a);if(void 0===E){const T=function rm(o){return"function"==typeof o||"object"==typeof o&&o instanceof Le}(a)&&Up(a);E=T&&this.injectableDefInScope(T)?vc(Ki(a),em):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(u&tt.Self?tm():this.parent).get(a,l=u&tt.Optional&&l===gc?null:l)}catch(w){if("NullInjectorError"===w.name){if((w[Kp]=w[Kp]||[]).unshift(An(a)),m)throw w;return function O$(o,a,l,u){const p=o[Kp];throw a[qx]&&p.unshift(a[qx]),o.message=function N$(o,a,l,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=An(a);if(Array.isArray(a))p=a.map(An).join(" -> ");else if("object"==typeof a){let m=[];for(let _ in a)if(a.hasOwnProperty(_)){let w=a[_];m.push(_+":"+("string"==typeof w?JSON.stringify(w):An(w)))}p=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${p}]: ${o.replace(ZO,"\n  ")}`}("\n"+o.message,p,l,u),o.ngTokenPath=p,o[Kp]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{ui(_),Xo(m)}}resolveInjectorInitializers(){const a=be(null),l=Xo(this),u=ui(void 0);try{const m=this.get(xi,mt,tt.Self);for(const _ of m)_()}finally{Xo(l),ui(u),be(a)}}toString(){const a=[],l=this.records;for(const u of l.keys())a.push(An(u));return`R3Injector[${a.join(", ")}]`}processProvider(a){let l=Qo(a=He(a))?a:He(a&&a.provide);const u=function Xi(o){return Zv(o)?vc(void 0,o.useValue):vc(tT(o),em)}(a);if(!Qo(a)&&!0===a.multi){let p=this.records.get(l);p||(p=vc(void 0,em,!0),p.factory=()=>Xx(p.multi),this.records.set(l,p)),l=a,p.multi.push(a)}this.records.set(l,u)}hydrate(a,l){const u=be(null);try{return l.value===eT?KO(An(a)):l.value===em&&(l.value=eT,l.value=l.factory()),"object"==typeof l.value&&l.value&&function i1(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{be(u)}}injectableDefInScope(a){if(!a.providedIn)return!1;const l=He(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function Ki(o){const a=Up(o),l=null!==a?a.factory:_c(o);if(null!==l)return l;if(o instanceof Le)throw new ye(204,!1);if(o instanceof Function)return function nm(o){if(o.length>0)throw new ye(204,!1);const l=function D$(o){return o&&(o[zp]||o[WO])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ye(204,!1)}function tT(o,a,l){let u;if(Qo(o)){const p=He(o);return _c(p)||Ki(p)}if(Zv(o))u=()=>He(o.useValue);else if(function di(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Xx(o.deps||[]));else if(function n1(o){return!(!o||!o.useExisting)}(o))u=()=>yr(He(o.useExisting));else{const p=He(o&&(o.useClass||o.provide));if(!function Ut(o){return!!o.deps}(o))return _c(p)||Ki(p);u=()=>new p(...Xx(o.deps))}return u}function qt(o){if(o.destroyed)throw new ye(205,!1)}function vc(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function eb(o,a){for(const l of o)Array.isArray(l)?eb(l,a):l&&zx(l)?eb(l.\u0275providers,a):a(l)}function bc(o,a){let l;o instanceof Io?(qt(o),l=o):l=new QO(o);const p=Xo(l),m=ui(void 0);try{return a()}finally{Xo(p),ui(m)}}function nT(){return void 0!==mc()||null!=Ov()}function Ps(o){if(!nT())throw new ye(-203,!1)}const xt=0,se=1,Ne=2,en=3,qn=4,Kn=5,Mr=6,wc=7,gt=8,hn=9,xo=10,Ve=11,Yo=12,Ec=13,ja=14,Kt=15,Zo=16,Ua=17,Ai=18,Vd=19,rb=20,Os=21,Ns=23,Si=24,Ie=26,lm=1,Mi=7,Cc=9,tn=10;function nn(o){return Array.isArray(o)&&"object"==typeof o[lm]}function Bn(o){return Array.isArray(o)&&!0===o[lm]}function ib(o){return!!(4&o.flags)}function fi(o){return o.componentOffset>-1}function ob(o){return!(1&~o.flags)}function rn(o){return!!o.template}function Jo(o){return!!(512&o[Ne])}function Ls(o){return!(256&~o[Ne])}class ab{previousValue;currentValue;firstChange;constructor(a,l,u){this.previousValue=a,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function dm(o,a,l,u){null!==a?a.applyValueToInputSignal(a,u):o[l]=u}const h1=(()=>{const o=()=>f1;return o.ngInherit=!0,o})();function f1(o){return o.type.prototype.ngOnChanges&&(o.setInput=kt),Qi}function Qi(){const o=cT(this),a=o?.current;if(a){const l=o.previous;if(l===qi)o.previous=a;else for(let u in a)l[u]=a[u];o.current=null,this.ngOnChanges(a)}}function kt(o,a,l,u,p){const m=this.declaredInputs[u],_=cT(o)||function lb(o,a){return o[br]=a}(o,{previous:qi,current:null}),w=_.current||(_.current={}),E=_.previous,T=E[m];w[m]=new ab(T&&T.currentValue,l,E===qi),dm(o,a,p,l)}const br="__ngSimpleChanges__";function cT(o){return o[br]||null}const ft=function(o,a=null,l){},uT="svg";function lt(o){for(;Array.isArray(o);)o=o[xt];return o}function Ic(o,a){return lt(a[o])}function Rr(o,a){return lt(a[o.index])}function Vs(o,a){return o.data[a]}function cr(o,a){const l=a[o];return nn(l)?l:l[xt]}function Bd(o){return!(128&~o[Ne])}function Ri(o,a){return null==a?null:o[a]}function fT(o){o[Ua]=0}function hb(o){1024&o[Ne]||(o[Ne]|=1024,Bd(o)&&za(o))}function xc(o){return!!(9216&o[Ne]||o[Si]?.dirty)}function fb(o){o[xo].changeDetectionScheduler?.notify(8),64&o[Ne]&&(o[Ne]|=1024),xc(o)&&za(o)}function za(o){o[xo].changeDetectionScheduler?.notify(0);let a=Yi(o);for(;null!==a&&!(8192&a[Ne])&&(a[Ne]|=8192,Bd(a));)a=Yi(a)}function hm(o,a){if(Ls(o))throw new ye(911,!1);null===o[Os]&&(o[Os]=[]),o[Os].push(a)}function Yi(o){const a=o[en];return Bn(a)?a[en]:a}function mb(o){return o[wc]??=[]}function gb(o){return o.cleanup??=[]}const Ue={lFrame:bT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let yb=!1;function pm(){return Ue.bindingsEnabled}function Bs(){return null!==Ue.skipHydrationRootTNode}function J(){return Ue.lFrame.lView}function Be(){return Ue.lFrame.tView}function vb(o){return Ue.lFrame.contextLView=o,o[gt]}function bb(o){return Ue.lFrame.contextLView=null,o}function Ze(){let o=Pr();for(;null!==o&&64===o.type;)o=o.parent;return o}function Pr(){return Ue.lFrame.currentTNode}function Zi(o,a){const l=Ue.lFrame;l.currentTNode=o,l.isParent=a}function wb(){return Ue.lFrame.isParent}function Eb(){Ue.lFrame.isParent=!1}function on(){return yb}function Ht(o){const a=yb;return yb=o,a}function ki(){return Ue.lFrame.bindingIndex++}function ts(o){const a=Ue.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function w1(o,a){const l=Ue.lFrame;l.bindingIndex=l.bindingRootIndex=o,et(a)}function et(o){Ue.lFrame.currentDirectiveIndex=o}function mm(o){const a=Ue.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Ud(){return Ue.lFrame.currentQueryIndex}function Hd(o){Ue.lFrame.currentQueryIndex=o}function zd(o){const a=o[se];return 2===a.type?a.declTNode:1===a.type?o[Kn]:null}function vT(o,a,l){if(l&tt.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||l&tt.Host||(p=zd(m),null===p||(m=m[ja],10&p.type))););if(null===p)return!1;a=p,o=m}const u=Ue.lFrame=pi();return u.currentTNode=a,u.lView=o,!0}function Me(o){const a=pi(),l=o[se];Ue.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function pi(){const o=Ue.lFrame,a=null===o?null:o.child;return null===a?bT(o):a}function bT(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function wT(){const o=Ue.lFrame;return Ue.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ET=wT;function xb(){const o=wT();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ur(){return Ue.lFrame.selectedIndex}function mi(o){Ue.lFrame.selectedIndex=o}function ve(){const o=Ue.lFrame;return Vs(o.tView,o.selectedIndex)}function IT(){Ue.lFrame.currentNamespace=uT}function Tb(){!function xT(){Ue.lFrame.currentNamespace=null}()}let TT=!0;function Tc(){return TT}function Do(o){TT=o}function Db(o,a){for(let l=a.directiveStart,u=a.directiveEnd;l<u;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:D}=m;_&&(o.contentHooks??=[]).push(-l,_),w&&((o.contentHooks??=[]).push(l,w),(o.contentCheckHooks??=[]).push(l,w)),E&&(o.viewHooks??=[]).push(-l,E),T&&((o.viewHooks??=[]).push(l,T),(o.viewCheckHooks??=[]).push(l,T)),null!=D&&(o.destroyHooks??=[]).push(l,D)}}function jn(o,a,l){$d(o,a,3,l)}function ns(o,a,l,u){(3&o[Ne])===l&&$d(o,a,l,u)}function Ab(o,a){let l=o[Ne];(3&l)===a&&(l&=16383,l+=1,o[Ne]=l)}function $d(o,a,l,u){const m=u??-1,_=a.length-1;let w=0;for(let E=void 0!==u?65535&o[Ua]:0;E<_;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=u&&w>=u)break}else a[E]<0&&(o[Ua]+=65536),(w<m||-1==m)&&(I1(o,l,a,E),o[Ua]=(4294901760&o[Ua])+E+2),E++}function Wd(o,a){ft(4,o,a);const l=be(null);try{a.call(o)}finally{be(l),ft(5,o,a)}}function I1(o,a,l,u){const p=l[u]<0,m=l[u+1],w=o[p?-l[u]:l[u]];p?o[Ne]>>14<o[Ua]>>16&&(3&o[Ne])===a&&(o[Ne]+=16384,Wd(w,m)):Wd(w,m)}const Ao=-1;class dr{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(a,l,u){this.factory=a,this.canSeeViewProviders=l,this.injectImpl=u}}function fn(o){return 3===o||4===o||6===o}function qd(o){return 64===o.charCodeAt(0)}function Wa(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let u=0;u<a.length;u++){const p=a[u];"number"==typeof p?l=p:0===l||ST(o,l,p,0,-1===l||2===l?a[++u]:null)}}return o}function ST(o,a,l,u,p){let m=0,_=o.length;if(-1===a)_=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){_=-1;break}if(w>a){_=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===l)return void(null!==p&&(o[m+1]=p));m++,null!==p&&m++}-1!==_&&(o.splice(_,0,a),m=_+1),o.splice(m++,0,l),null!==p&&o.splice(m++,0,p)}function is(o){return o!==Ao}function So(o){return 32767&o}function gi(o,a){let l=function Yn(o){return o>>16}(o),u=a;for(;l>0;)u=u[ja],l--;return u}let Rb=!0;function _m(o){const a=Rb;return Rb=o,a}const RT=255,Dc=5;let x1=0;const bt={};function Pb(o,a){const l=Ob(o,a);if(-1!==l)return l;const u=a[se];u.firstCreatePass&&(o.injectorIndex=a.length,kb(u.data,o),kb(a,null),kb(u.blueprint,null));const p=ym(o,a),m=o.injectorIndex;if(is(p)){const _=So(p),w=gi(p,a),E=w[se].data;for(let T=0;T<8;T++)a[m+T]=w[_+T]|E[_+T]}return a[m+8]=p,m}function kb(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ob(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ym(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,p=a;for(;null!==p;){if(u=P1(p),null===u)return Ao;if(l++,p=p[ja],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return Ao}function Nb(o,a,l){!function tW(o,a,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Wp)&&(u=l[Wp]),null==u&&(u=l[Wp]=x1++);const p=u&RT;a.data[o+(p>>Dc)]|=1<<p}(o,a,l)}function T1(o,a,l){if(l&tt.Optional||void 0!==o)return o;Gp()}function D1(o,a,l,u){if(l&tt.Optional&&void 0===u&&(u=null),!(l&(tt.Self|tt.Host))){const p=o[hn],m=ui(void 0);try{return p?p.get(a,u,l&tt.Optional):XO(a,u,l&tt.Optional)}finally{ui(m)}}return T1(u,0,l)}function A1(o,a,l,u=tt.Default,p){if(null!==o){if(2048&a[Ne]&&!(u&tt.Self)){const _=function iW(o,a,l,u,p){let m=o,_=a;for(;null!==m&&null!==_&&2048&_[Ne]&&!Jo(_);){const w=kT(m,_,l,u|tt.Self,bt);if(w!==bt)return w;let E=m.parent;if(!E){const T=_[rb];if(T){const D=T.get(l,bt,u);if(D!==bt)return D}E=P1(_),_=_[ja]}m=E}return p}(o,a,l,u,bt);if(_!==bt)return _}const m=kT(o,a,l,u,bt);if(m!==bt)return m}return D1(a,l,u,p)}function kT(o,a,l,u,p){const m=function rW(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Wp)?o[Wp]:void 0;return"number"==typeof a?a>=0?a&RT:Kd:a}(l);if("function"==typeof m){if(!vT(a,o,u))return u&tt.Host?T1(p,0,u):D1(a,l,u,p);try{let _;if(_=m(u),null!=_||u&tt.Optional)return _;Gp()}finally{ET()}}else if("number"==typeof m){let _=null,w=Ob(o,a),E=Ao,T=u&tt.Host?a[Kt][Kn]:null;for((-1===w||u&tt.SkipSelf)&&(E=-1===w?ym(o,a):a[w+8],E!==Ao&&M1(u,!1)?(_=a[se],w=So(E),a=gi(E,a)):w=-1);-1!==w;){const D=a[se];if(S1(m,w,D.data)){const P=nW(w,a,l,_,u,T);if(P!==bt)return P}E=a[w+8],E!==Ao&&M1(u,a[se].data[w+8]===T)&&S1(m,w,a)?(_=D,w=So(E),a=gi(E,a)):w=-1}}return p}function nW(o,a,l,u,p,m){const _=a[se],w=_.data[o+8],D=Fb(w,_,l,null==u?fi(w)&&Rb:u!=_&&!!(3&w.type),p&tt.Host&&m===w);return null!==D?vm(a,_,D,w):bt}function Fb(o,a,l,u,p){const m=o.providerIndexes,_=a.data,w=1048575&m,E=o.directiveStart,D=m>>20,F=p?w+D:o.directiveEnd;for(let N=u?w:w+D;N<F;N++){const $=_[N];if(N<E&&l===$||N>=E&&$.type===l)return N}if(p){const N=_[E];if(N&&rn(N)&&N.type===l)return E}return null}function vm(o,a,l,u){let p=o[l];const m=a.data;if(p instanceof dr){const _=p;_.resolving&&KO(function pt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ze(o)}(m[l]));const w=_m(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?ui(_.injectImpl):null;vT(o,u,tt.Default);try{p=o[l]=_.factory(void 0,m,o,u),a.firstCreatePass&&l>=u.directiveStart&&function gm(o,a,l){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(u){const _=f1(a);(l.preOrderHooks??=[]).push(o,_),(l.preOrderCheckHooks??=[]).push(o,_)}p&&(l.preOrderHooks??=[]).push(0-o,p),m&&((l.preOrderHooks??=[]).push(o,m),(l.preOrderCheckHooks??=[]).push(o,m))}(l,m[l],a)}finally{null!==T&&ui(T),_m(w),_.resolving=!1,ET()}}return p}function S1(o,a,l){return!!(l[a+(o>>Dc)]&1<<o)}function M1(o,a){return!(o&tt.Self||o&tt.Host&&a)}class Tt{_tNode;_lView;constructor(a,l){this._tNode=a,this._lView=l}get(a,l,u){return A1(this._tNode,this._lView,a,qv(u),l)}}function Kd(){return new Tt(Ze(),J())}function R1(o){return Eo(()=>{const a=o.prototype.constructor,l=a[ci]||OT(a),u=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==u;){const m=p[ci]||OT(p);if(m&&m!==l)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function OT(o){return Fa(o)?()=>{const a=OT(He(o));return a&&a()}:_c(o)}function P1(o){const a=o[se],l=a.type;return 2===l?a.declTNode:1===l?o[Kn]:null}function Lb(o){return function PT(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const u=l.length;let p=0;for(;p<u;){const m=l[p];if(fn(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<u&&"string"==typeof l[p];)p++;else{if(m===a)return l[p+1];p+=2}}}return null}(Ze(),o)}function BT(o,a=null,l=null,u){const p=Vb(o,a,l,u);return p.resolveInjectorInitializers(),p}function Vb(o,a=null,l=null,u,p=new Set){const m=[l||mt,V$(o)];return u=u||("object"==typeof o?void 0:An(o)),new Io(m,a||tm(),u||null,p)}class Zn{static THROW_IF_NOT_FOUND=gc;static NULL=new Yp;static create(a,l){if(Array.isArray(a))return BT({name:""},l,a,"");{const u=a.name??"";return BT({name:u},a.parent,a.providers,u)}}static \u0275prov=St({token:Zn,providedIn:"any",factory:()=>yr(Yx)});static __NG_ELEMENT_ID__=-1}class F1{attributeName;constructor(a){this.attributeName=a}__NG_ELEMENT_ID__=()=>Lb(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}new Le("").__NG_ELEMENT_ID__=o=>{const a=Ze();if(null===a)throw new ye(204,!1);if(2&a.type)return a.value;if(o&tt.Optional)return null;throw new ye(204,!1)};const Bb=!1;let Ro=(()=>class o{static __NG_ELEMENT_ID__=Ka;static __NG_ENV_ID__=l=>l})();class Xd extends Ro{_lView;constructor(a){super(),this._lView=a}onDestroy(a){return hm(this._lView,a),()=>function pb(o,a){if(null===o[Os])return;const l=o[Os].indexOf(a);-1!==l&&o[Os].splice(l,1)}(this._lView,a)}}function Ka(){return new Xd(J())}class rt{}const os=new Le("",{providedIn:"root",factory:()=>!1}),js=new Le(""),jb=new Le("");let Oi=(()=>{class o{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Lv.t(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}has(l){return this.pendingTasks.has(l)}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=St({token:o,providedIn:"root",factory:()=>new o})}return o})(),Qd=(()=>{class o{internalPendingTasks=Te(Oi);scheduler=Te(rt);add(){const l=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(l)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(l))}}run(l){var u=this;return(0,h.A)(function*(){const p=u.add();try{return yield l()}finally{p()}})()}static \u0275prov=St({token:o,providedIn:"root",factory:()=>new o})}return o})();const Ni=class L1 extends Oa.B{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(a=!1){super(),this.__isAsync=a,nT()&&(this.destroyRef=Te(Ro,{optional:!0})??void 0,this.pendingTasks=Te(Oi,{optional:!0})??void 0)}emit(a){const l=be(null);try{super.next(a)}finally{be(l)}}subscribe(a,l,u){let p=a,m=l||(()=>null),_=u;if(a&&"object"==typeof a){const E=a;p=E.next?.bind(E),m=E.error?.bind(E),_=E.complete?.bind(E)}this.__isAsync&&(m=this.wrapInTimeout(m),p&&(p=this.wrapInTimeout(p)),_&&(_=this.wrapInTimeout(_)));const w=super.subscribe({next:p,error:m,complete:_});return a instanceof Vv.yU&&a.add(w),w}wrapInTimeout(a){return l=>{const u=this.pendingTasks?.add();setTimeout(()=>{a(l),void 0!==u&&this.pendingTasks?.remove(u)})}}};function ss(...o){}function Ub(o){let a,l;function u(){o=ss;try{void 0!==l&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(l),void 0!==a&&clearTimeout(a)}catch{}}return a=setTimeout(()=>{o(),u()}),"function"==typeof requestAnimationFrame&&(l=requestAnimationFrame(()=>{o(),u()})),()=>u()}function Yd(o){return queueMicrotask(()=>o()),()=>{o=ss}}const Zd="isAngularZone",Xa=Zd+"_ID";let UT=0;class Ot{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ni(!1);onMicrotaskEmpty=new Ni(!1);onStable=new Ni(!1);onError=new Ni(!1);constructor(a){const{enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1,scheduleInRootZone:m=Bb}=a;if(typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!p&&u,_.shouldCoalesceRunChangeDetection=p,_.callbackScheduled=!1,_.scheduleInRootZone=m,function zb(o){const a=()=>{!function B1(o){function a(){Ub(()=>{o.callbackScheduled=!1,$b(o),o.isCheckStableRunning=!0,Hb(o),o.isCheckStableRunning=!1})}o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,o.scheduleInRootZone?Zone.root.run(()=>{a()}):o._outer.run(()=>{a()}),$b(o))}(o)},l=UT++;o._inner=o._inner.fork({name:"angular",properties:{[Zd]:!0,[Xa]:l,[Xa+l]:!0},onInvokeTask:(u,p,m,_,w,E)=>{if(function j1(o){return $T(o,"__ignore_ng_zone__")}(E))return u.invokeTask(m,_,w,E);try{return HT(o),u.invokeTask(m,_,w,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&a(),zT(o)}},onInvoke:(u,p,m,_,w,E,T)=>{try{return HT(o),u.invoke(m,_,w,E,T)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function U1(o){return $T(o,"__scheduler_tick__")}(E)&&a(),zT(o)}},onHasTask:(u,p,m,_)=>{u.hasTask(m,_),p===m&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,$b(o),Hb(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(u,p,m,_)=>(u.handleError(m,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Zd)}static assertInAngularZone(){if(!Ot.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(Ot.isInAngularZone())throw new ye(909,!1)}run(a,l,u){return this._inner.run(a,l,u)}runTask(a,l,u,p){const m=this._inner,_=m.scheduleEventTask("NgZoneEvent: "+p,a,V1,ss,ss);try{return m.runTask(_,l,u)}finally{m.cancelTask(_)}}runGuarded(a,l,u){return this._inner.runGuarded(a,l,u)}runOutsideAngular(a){return this._outer.run(a)}}const V1={};function Hb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function $b(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function HT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function zT(o){o._nesting--,Hb(o)}class Wb{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ni;onMicrotaskEmpty=new Ni;onStable=new Ni;onError=new Ni;run(a,l,u){return a.apply(l,u)}runGuarded(a,l,u){return a.apply(l,u)}runOutsideAngular(a){return a()}runTask(a,l,u,p){return a.apply(l,u)}}function $T(o,a){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[a]}class eo{_console=console;handleError(a){this._console.error("ERROR",a)}}const H1=new Le("",{providedIn:"root",factory:()=>{const o=Te(Ot),a=Te(eo);return l=>o.runOutsideAngular(()=>a.handleError(l))}});function Gb(o,a){return VO(o,a)}const Jd=(Gb.required=function wm(o){return VO(Bp,o)},Gb);function qb(){return Qa(Ze(),J())}function Qa(o,a){return new Mc(Rr(o,a))}let Mc=(()=>class o{nativeElement;constructor(l){this.nativeElement=l}static __NG_ELEMENT_ID__=qb})();function GT(o){return o instanceof Mc?o.nativeElement:o}function Rc(o){return"function"==typeof o&&void 0!==o[ke]}function Pc(o,a){const l=function kO(o,a){const l=Object.create(Rv);l.value=o,void 0!==a&&(l.equal=a);const u=()=>(De(l),l.value);return u[ke]=l,u}(o,a?.equal),u=l[ke];return l.set=p=>Rd(u,p),l.update=p=>function Ox(o,a){Ur()||Sv(o),Rd(o,a(o.value))}(u,p),l.asReadonly=Em.bind(l),l}function Em(){const o=this[ke];if(void 0===o.readonlyFn){const a=()=>this();a[ke]=o,o.readonlyFn=a}return o.readonlyFn}function Kb(o){return Rc(o)&&"function"==typeof o.set}function eh(){return this._results[Symbol.iterator]()}class $1{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oa.B}constructor(a=!1){this._emitDistinctChangesOnly=a}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){this.dirty=!1;const u=function ar(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Qx(o,a,l){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let p=o[u],m=a[u];if(l&&(p=l(p),m=l(m)),m!==p)return!1}return!0}(this._results,u,l))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=eh}function Hs(o){return!(128&~o.flags)}var Za=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Za||{});const Fi=new Map;let _i=0;function th(o){Fi.delete(o[Vd])}const Yb="__ngContext__";function Wr(o,a){nn(a)?(o[Yb]=a[Vd],function Ja(o){Fi.set(o[Vd],o)}(a)):o[Yb]=a}function Li(o){return kc(o[Yo])}function YT(o){return kc(o[qn])}function kc(o){for(;null!==o&&!Bn(o);)o=o[qn];return o}let Rm;function n0(o){Rm=o}function Vi(){if(void 0!==Rm)return Rm;if(typeof document<"u")return document;throw new ye(210,!1)}const tl=new Le("",{providedIn:"root",factory:()=>Z1}),Z1="ng",ih=new Le(""),J1=new Le("",{providedIn:"platform",factory:()=>"unknown"}),tD=new Le(""),eN=new Le("",{providedIn:"root",factory:()=>Vi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),rD=new Le("",{providedIn:"root",factory:()=>!1});var p0=function(o){return o[o.CHANGE_DETECTION=0]="CHANGE_DETECTION",o[o.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",o}(p0||{});const Bc=new Le(""),oD=new Set;function Gr(o){oD.has(o)||(oD.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}let Fm=(()=>class o{view;node;constructor(l,u){this.view=l,this.node=u}static __NG_ELEMENT_ID__=rN})();function rN(){return new Fm(J(),Ze())}var jc=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(jc||{});let m0=(()=>{class o{impl=null;execute(){this.impl?.execute()}static \u0275prov=St({token:o,providedIn:"root",factory:()=>new o})}return o})();const sD=[jc.EarlyRead,jc.Write,jc.MixedReadWrite,jc.Read];let g0=(()=>{class o{ngZone=Te(Ot);scheduler=Te(rt);errorHandler=Te(eo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Te(Bc,{optional:!0})}execute(){const l=this.sequences.size>0;l&&ft(16),this.executing=!0;for(const u of sD)for(const p of this.sequences)if(!p.erroredOrDestroyed&&p.hooks[u])try{p.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,p.hooks[u])(p.pipelinedValue),p.snapshot))}catch(m){p.erroredOrDestroyed=!0,this.errorHandler?.handleError(m)}this.executing=!1;for(const u of this.sequences)u.afterRun(),u.once&&(this.sequences.delete(u),u.destroy());for(const u of this.deferredRegistrations)this.sequences.add(u);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),l&&ft(17)}register(l){const{view:u}=l;void 0!==u?((u[25]??=[]).push(l),za(u),u[Ne]|=8192):this.executing?this.deferredRegistrations.add(l):this.addSequence(l)}addSequence(l){this.sequences.add(l),this.scheduler.notify(7)}unregister(l){this.executing&&this.sequences.has(l)?(l.erroredOrDestroyed=!0,l.pipelinedValue=void 0,l.once=!0):(this.sequences.delete(l),this.deferredRegistrations.delete(l))}maybeTrace(l,u){return u?u.run(p0.AFTER_NEXT_RENDER,l):l()}static \u0275prov=St({token:o,providedIn:"root",factory:()=>new o})}return o})();class aD{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(a,l,u,p,m,_=null){this.impl=a,this.hooks=l,this.view=u,this.once=p,this.snapshot=_,this.unregisterOnDestroy=m?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const a=this.view?.[25];a&&(this.view[25]=a.filter(l=>l!==this))}}function ah(o,a){!a?.injector&&Ps();const l=a?.injector??Te(Zn);return Gr("NgAfterRender"),lD(o,l,a,!1)}function lh(o,a){!a?.injector&&Ps();const l=a?.injector??Te(Zn);return Gr("NgAfterNextRender"),lD(o,l,a,!0)}function lD(o,a,l,u){const p=a.get(m0);p.impl??=a.get(g0);const m=a.get(Bc,null,{optional:!0}),_=l?.phase??jc.MixedReadWrite,w=!0!==l?.manualCleanup?a.get(Ro):null,E=a.get(Fm,null,{optional:!0}),T=new aD(p.impl,function Uc(o,a){if(o instanceof Function){const l=[void 0,void 0,void 0,void 0];return l[a]=o,l}return[o.earlyRead,o.write,o.mixedReadWrite,o.read]}(o,_),E?.view,u,w,m?.snapshot(null));return p.impl.register(T),T}let ED=()=>null;function ID(o,a,l=!1){return ED(o,a,l)}function OD(o,a){const l=o.contentQueries;if(null!==l){const u=be(null);try{for(let p=0;p<l.length;p+=2){const _=l[p+1];if(-1!==_){const w=o.data[_];Hd(l[p]),w.contentQueries(2,a[_],_)}}}finally{be(u)}}}function D0(o,a,l){Hd(0);const u=be(null);try{a(o,l)}finally{be(u)}}function A0(o,a,l){if(ib(a)){const u=be(null);try{const m=a.directiveEnd;for(let _=a.directiveStart;_<m;_++){const w=o.data[_];w.contentQueries&&w.contentQueries(1,l[_],_)}}finally{be(u)}}}var ds=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ds||{});let S0,il;function Zc(o){return function ND(){if(void 0===S0&&(S0=null,_r.trustedTypes))try{S0=_r.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return S0}()?.createHTML(o)||o}function Xm(){if(void 0===il&&(il=null,_r.trustedTypes))try{il=_r.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return il}function M0(o){return Xm()?.createHTML(o)||o}function LD(o){return Xm()?.createScriptURL(o)||o}class ol{changingThisBreaksApplicationSecurity;constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bv})`}}class SN extends ol{getTypeName(){return"HTML"}}class ko extends ol{getTypeName(){return"Style"}}class EW extends ol{getTypeName(){return"Script"}}class MN extends ol{getTypeName(){return"URL"}}class RN extends ol{getTypeName(){return"ResourceURL"}}function Xs(o){return o instanceof ol?o.changingThisBreaksApplicationSecurity:o}function _h(o,a){const l=function CW(o){return o instanceof ol&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${Bv})`)}return l===a}function IW(o){return new SN(o)}function xW(o){return new ko(o)}function j(o){return new EW(o)}function PN(o){return new MN(o)}function R0(o){return new RN(o)}class kN{inertDocumentHelper;constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Zc(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.firstChild?.remove(),l)}catch{return null}}}class BD{defaultDoc;inertDocument;constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Zc(a),l}}const P0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Qm(o){return(o=String(o)).match(P0)?o:"unsafe:"+o}function hs(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function Qs(...o){const a={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(a[u]=!0);return a}const Jc=hs("area,br,col,hr,img,wbr"),NN=hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),k0=hs("rp,rt"),O0=Qs(Jc,Qs(NN,hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qs(k0,hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qs(k0,NN)),N0=hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jD=Qs(N0,hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),UD=hs("script,style,template");class HD{sanitizedSomething=!1;buf=[];sanitizeChildren(a){let l=a.firstChild,u=!0,p=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)p.push(l),l=In(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=LN(l);if(m){l=m;break}l=p.pop()}return this.buf.join("")}startElement(a){const l=zD(a).toLowerCase();if(!O0.hasOwnProperty(l))return this.sanitizedSomething=!0,!UD.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=a.attributes;for(let p=0;p<u.length;p++){const m=u.item(p),_=m.name,w=_.toLowerCase();if(!jD.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=m.value;N0[w]&&(E=Qm(E)),this.buf.push(" ",_,'="',WD(E),'"')}return this.buf.push(">"),!0}endElement(a){const l=zD(a).toLowerCase();O0.hasOwnProperty(l)&&!Jc.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(WD(a))}}function LN(o){const a=o.nextSibling;if(a&&o!==a.previousSibling)throw $D(a);return a}function In(o){const a=o.firstChild;if(a&&function Ym(o,a){return(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,a))throw $D(a);return a}function zD(o){const a=o.nodeName;return"string"==typeof a?a:"FORM"}function $D(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const SW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VN=/([^\#-~ |!])/g;function WD(o){return o.replace(/&/g,"&amp;").replace(SW,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(VN,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zm;function GD(o,a){let l=null;try{Zm=Zm||function VD(o){const a=new BD(o);return function ON(){try{return!!(new window.DOMParser).parseFromString(Zc(""),"text/html")}catch{return!1}}()?new kN(a):a}(o);let u=a?String(a):"";l=Zm.getInertBodyElement(u);let p=5,m=u;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,u=m,m=l.innerHTML,l=Zm.getInertBodyElement(u)}while(u!==m);return Zc((new HD).sanitizeChildren(qD(l)||l))}finally{if(l){const u=qD(l)||l;for(;u.firstChild;)u.firstChild.remove()}}}function qD(o){return"content"in o&&function BN(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var eu=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(eu||{});function jN(o){const a=eg();return a?M0(a.sanitize(eu.HTML,o)||""):_h(o,"HTML")?M0(Xs(o)):GD(Vi(),ze(o))}function Jm(o){const a=eg();return a?a.sanitize(eu.URL,o)||"":_h(o,"URL")?Xs(o):Qm(ze(o))}function XD(o){const a=eg();if(a)return LD(a.sanitize(eu.RESOURCE_URL,o)||"");if(_h(o,"ResourceURL"))return LD(Xs(o));throw new ye(904,!1)}function QD(o,a,l){return function tu(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?XD:Jm}(a,l)(o)}function eg(){const o=J();return o&&o[xo].sanitizer}const tg=/^>|^->|<!--|-->|--!>|<!-$/g,PW=/(<|>)/g;function Oo(o){return o instanceof Function?o():o}function XN(o,a,l){let u=o.length;for(;;){const p=o.indexOf(a,l);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===u||o.charCodeAt(p+m)<=32)return p}l=p+1}}const ZD="ng-template";function QN(o,a,l,u){let p=0;if(u){for(;p<a.length&&"string"==typeof a[p];p+=2)if("class"===a[p]&&-1!==XN(a[p+1].toLowerCase(),l,0))return!0}else if(V0(o))return!1;if(p=a.indexOf(1,p),p>-1){let m;for(;++p<a.length&&"string"==typeof(m=a[p]);)if(m.toLowerCase()===l)return!0}return!1}function V0(o){return 4===o.type&&o.value!==ZD}function B0(o,a,l){return a===(4!==o.type||l?o.value:ZD)}function it(o,a,l){let u=4;const p=o.attrs,m=null!==p?function sg(o){for(let a=0;a<o.length;a++)if(fn(o[a]))return a;return o.length}(p):0;let _=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!B0(o,E,l)||""===E&&1===a.length){if(Bi(u))return!1;_=!0}}else if(8&u){if(null===p||!QN(o,p,E,l)){if(Bi(u))return!1;_=!0}}else{const T=a[++w],D=YN(E,p,V0(o),l);if(-1===D){if(Bi(u))return!1;_=!0;continue}if(""!==T){let P;if(P=D>m?"":p[D+1].toLowerCase(),2&u&&T!==P){if(Bi(u))return!1;_=!0}}}}else{if(!_&&!Bi(u)&&!Bi(E))return!1;if(_&&Bi(E))continue;_=!1,u=E|1&u}}return Bi(u)||_}function Bi(o){return!(1&o)}function YN(o,a,l,u){if(null===a)return-1;let p=0;if(u||!l){let m=!1;for(;p<a.length;){const _=a[p];if(_===o)return p;if(3===_||6===_)m=!0;else{if(1===_||2===_){let w=a[++p];for(;"string"==typeof w;)w=a[++p];continue}if(4===_)break;if(0===_){p+=4;continue}}p+=m?1:2}return-1}return function WW(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===a)return l;l++}return-1}(a,o)}function JD(o,a,l=!1){for(let u=0;u<a.length;u++)if(it(o,a[u],l))return!0;return!1}function GW(o,a){e:for(let l=0;l<a.length;l++){const u=a[l];if(o.length===u.length){for(let p=0;p<o.length;p++)if(o[p]!==u[p])continue e;return!0}}return!1}function eA(o,a){return o?":not("+a.trim()+")":a}function tA(o){let a=o[0],l=1,u=2,p="",m=!1;for(;l<o.length;){let _=o[l];if("string"==typeof _)if(2&u){const w=o[++l];p+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?p+="."+_:4&u&&(p+=" "+_);else""!==p&&!Bi(_)&&(a+=eA(m,p),p=""),u=_,m=m||!Bi(u);l++}return""!==p&&(a+=eA(m,p)),a}const We={};function cg(o,a){return o.createComment(function zN(o){return o.replace(tg,a=>a.replace(PW,"\u200b$1\u200b"))}(a))}function ou(o,a,l){return o.createElement(a,l)}function ms(o,a,l,u,p){o.insertBefore(a,l,u,p)}function rA(o,a,l){o.appendChild(a,l)}function iA(o,a,l,u,p){null!==u?ms(o,a,l,u,p):rA(o,a,l)}function gs(o,a,l){const{mergedAttrs:u,classes:p,styles:m}=l;null!==u&&function Gd(o,a,l){let u=0;for(;u<l.length;){const p=l[u];if("number"==typeof p){if(0!==p)break;u++;const m=l[u++],_=l[u++],w=l[u++];o.setAttribute(a,_,w,m)}else{const m=p,_=l[++u];qd(m)?o.setProperty(a,m,_):o.setAttribute(a,m,_),u++}}}(o,a,u),null!==p&&function tF(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}(o,a,p),null!==m&&function eF(o,a,l){o.setAttribute(a,"style",l)}(o,a,m)}function yh(o,a,l,u,p,m,_,w,E,T,D){const P=Ie+u,F=P+p,N=function nF(o,a){const l=[];for(let u=0;u<a;u++)l.push(u<o?null:We);return l}(P,F),$="function"==typeof T?T():T;return N[se]={type:o,blueprint:N,template:l,queries:null,viewQuery:w,declTNode:a,data:N.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:$,incompleteFirstPass:!1,ssrId:D}}function ug(o,a,l,u,p,m,_,w,E,T,D){const P=a.blueprint.slice();return P[xt]=p,P[Ne]=1228|u,(null!==T||o&&2048&o[Ne])&&(P[Ne]|=2048),fT(P),P[en]=P[ja]=o,P[gt]=l,P[xo]=_||o&&o[xo],P[Ve]=w||o&&o[Ve],P[hn]=E||o&&o[hn]||null,P[Kn]=m,P[Vd]=function Im(){return _i++}(),P[Mr]=D,P[rb]=T,P[Kt]=2==a.type?o[Kt]:P,P}function vh(o){let a=16;return o.signals?a=4096:o.onPush&&(a=64),a}function su(o,a,l,u){if(0===l)return-1;const p=a.length;for(let m=0;m<l;m++)a.push(u),o.blueprint.push(u),o.data.push(null);return p}function j0(o,a){return o[Yo]?o[Ec][qn]=a:o[Yo]=a,o[Ec]=a,a}function sA(o=1){bh(Be(),J(),ur()+o,!1)}function bh(o,a,l,u){if(!u)if(3&~a[Ne]){const m=o.preOrderHooks;null!==m&&ns(a,m,0,l)}else{const m=o.preOrderCheckHooks;null!==m&&jn(a,m,l)}mi(l)}var au=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(au||{});function oo(o,a,l,u){const p=be(null);try{const[m,_,w]=o.inputs[l];let E=null;!!(_&au.SignalBased)&&(E=a[m][ke]),null!==E&&void 0!==E.transformFn?u=E.transformFn(u):null!==w&&(u=w.call(a,u)),null!==o.setInput?o.setInput(a,E,u,l,m):dm(a,E,m,u)}finally{be(p)}}function aA(o,a,l,u,p){const m=ur(),_=2&u;try{mi(-1),_&&a.length>Ie&&bh(o,a,Ie,!1),ft(_?2:0,p),l(u,p)}finally{mi(m),ft(_?3:1,p)}}function dg(o,a,l){(function dF(o,a,l){const u=l.directiveStart,p=l.directiveEnd;fi(l)&&function iF(o,a,l){const u=Rr(a,o),p=function rF(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=yh(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}(l),m=o[xo].rendererFactory,_=j0(o,ug(o,p,null,vh(l),u,a,null,m.createRenderer(u,l),null,null,null));o[a.index]=_}(a,l,o.data[u+l.componentOffset]),o.firstCreatePass||Pb(l,a);const m=l.initialInputs;for(let _=u;_<p;_++){const w=o.data[_],E=vm(a,o,_,l);Wr(E,a),null!==m&&pF(0,_-u,E,w,0,m),rn(w)&&(cr(l.index,a)[gt]=vm(a,o,_,l))}})(o,a,l),!(64&~l.flags)&&function hF(o,a,l){const u=l.directiveStart,p=l.directiveEnd,m=l.index,_=function E1(){return Ue.lFrame.currentDirectiveIndex}();try{mi(m);for(let w=u;w<p;w++){const E=o.data[w],T=a[w];et(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&fF(E,T)}}finally{mi(-1),et(_)}}(o,a,l)}function U0(o,a,l=Rr){const u=a.localNames;if(null!==u){let p=a.index+1;for(let m=0;m<u.length;m+=2){const _=u[m+1],w=-1===_?l(a,o):o[_];o[p++]=w}}}let ll,lA=()=>null;function qr(o,a,l,u,p,m,_,w){if(w||!W0(a,o,l,u,p)){if(3&a.type){const E=Rr(a,l);u=function cF(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),p=null!=_?_(p,a.value||"",u):p,m.setProperty(E,u,p)}}else fi(a)&&function uF(o,a){const l=cr(a,o);16&l[Ne]||(l[Ne]|=64)}(l,a.index)}function fF(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function H0(o,a){const l=o.directiveRegistry;let u=null;if(l)for(let p=0;p<l.length;p++){const m=l[p];JD(a,m.selectors,!1)&&(u??=[],rn(m)?u.unshift(m):u.push(m))}return u}function Fo(o,a,l,u,p,m){const _=Rr(o,a);!function z0(o,a,l,u,p,m,_){if(null==m)o.removeAttribute(a,p,l);else{const w=null==_?ze(m):_(m,u||"",p);o.setAttribute(a,p,w,l)}}(a[Ve],_,m,o.value,l,u,p)}function pF(o,a,l,u,p,m){const _=m[a];if(null!==_)for(let w=0;w<_.length;w+=2)oo(u,l,_[w],_[w+1])}function uA(o,a,l){return(null===o||rn(o))&&(l=function db(o){for(;Array.isArray(o);){if("object"==typeof o[lm])return o;o=o[xt]}return null}(l[a.index])),l[Ve]}function W0(o,a,l,u,p){const m=o.inputs?.[u],_=o.hostDirectiveInputs?.[u];let w=!1;if(_)for(let E=0;E<_.length;E+=2){const T=_[E];oo(a.data[T],l[T],_[E+1],p),w=!0}if(m)for(const E of m)oo(a.data[E],l[E],u,p),w=!0;return w}function mF(o,a){const l=cr(a,o),u=l[se];!function gF(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])}(u,l);const p=l[xt];null!==p&&null===l[Mr]&&(l[Mr]=ID(p,l[hn])),ft(18),hg(u,l,l[gt]),ft(19,l[gt])}function hg(o,a,l){Me(a);try{const u=o.viewQuery;null!==u&&D0(1,u,l);const p=o.template;null!==p&&aA(o,a,p,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),a[Ai]?.finishViewCreation(o),o.staticContentQueries&&OD(o,a),o.staticViewQueries&&D0(2,o.viewQuery,l);const m=o.components;null!==m&&function fg(o,a){for(let l=0;l<a.length;l++)mF(o,a[l])}(a,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Ne]&=-5,xb()}}function lu(o,a,l,u){const p=be(null);try{const m=a.tView,E=ug(o,m,l,4096&o[Ne]?4096:16,null,a,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);E[Zo]=o[a.index];const D=o[Ai];return null!==D&&(E[Ai]=D.createEmbeddedView(m)),hg(m,E,l),E}finally{be(p)}}function yi(o,a){return!a||null===a.firstChild||Hs(o)}function cl(o,a){return ll(o,a)}var G0=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(G0||{});function kr(o){return!(32&~o.flags)}function _s(o,a,l,u,p){if(null!=u){let m,_=!1;Bn(u)?m=u:nn(u)&&(_=!0,u=u[xt]);const w=lt(u);0===o&&null!==l?null==p?rA(a,l,w):ms(a,l,w,p||null,!0):1===o&&null!==l?ms(a,l,w,p||null,!0):2===o?function al(o,a,l){o.removeChild(null,a,l)}(a,w,_):3===o&&a.destroyNode(w),null!=m&&function EF(o,a,l,u,p){const m=l[Mi];m!==lt(l)&&_s(a,o,u,m,p);for(let w=tn;w<l.length;w++){const E=l[w];Zs(E[se],E,o,a,u,m)}}(a,o,m,l,p)}}function vi(o,a){a[xo].changeDetectionScheduler?.notify(9),Zs(o,a,a[Ve],2,null,null)}function q0(o,a){const l=o[Cc],u=l.indexOf(a);l.splice(u,1)}function Er(o,a){if(Ls(a))return;const l=a[Ve];l.destroyNode&&Zs(o,a,l,3,null,null),function XW(o){let a=o[Yo];if(!a)return pg(o[se],o);for(;a;){let l=null;if(nn(a))l=a[Yo];else{const u=a[tn];u&&(l=u)}if(!l){for(;a&&!a[qn]&&a!==o;)nn(a)&&pg(a[se],a),a=a[en];null===a&&(a=o),nn(a)&&pg(a[se],a),l=a&&a[qn]}a=l}}(a)}function pg(o,a){if(Ls(a))return;const l=be(null);try{a[Ne]&=-129,a[Ne]|=256,a[Si]&&Ae(a[Si]),function vF(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const p=a[l[u]];if(!(p instanceof dr)){const m=l[u+1];if(Array.isArray(m))for(let _=0;_<m.length;_+=2){const w=p[m[_]],E=m[_+1];ft(4,w,E);try{E.call(w)}finally{ft(5,w,E)}}else{ft(4,p,m);try{m.call(p)}finally{ft(5,p,m)}}}}}(o,a),function hA(o,a){const l=o.cleanup,u=a[wc];if(null!==l)for(let _=0;_<l.length-1;_+=2)if("string"==typeof l[_]){const w=l[_+3];w>=0?u[w]():u[-w].unsubscribe(),_+=2}else l[_].call(u[l[_+1]]);null!==u&&(a[wc]=null);const p=a[Os];if(null!==p){a[Os]=null;for(let _=0;_<p.length;_++)(0,p[_])()}const m=a[Ns];if(null!==m){a[Ns]=null;for(const _ of m)_.destroy()}}(o,a),1===a[se].type&&a[Ve].destroy();const u=a[Zo];if(null!==u&&Bn(a[en])){u!==a[en]&&q0(u,a);const p=a[Ai];null!==p&&p.detachView(o)}th(a)}finally{be(l)}}function Ys(o,a,l){return function K0(o,a,l){let u=a;for(;null!==u&&168&u.type;)u=(a=u).parent;if(null===u)return l[xt];if(fi(u)){const{encapsulation:p}=o.data[u.directiveStart+u.componentOffset];if(p===ds.None||p===ds.Emulated)return null}return Rr(u,l)}(o,a.parent,l)}function bF(o,a,l){return X0(o,a,l)}let Q0,X0=function mg(o,a,l){return 40&o.type?Rr(o,l):null};function tr(o,a,l,u){const p=Ys(o,u,a),m=a[Ve],w=bF(u.parent||a[Kn],u,a);if(null!=p)if(Array.isArray(l))for(let E=0;E<l.length;E++)iA(m,p,l[E],w,!1);else iA(m,p,l,w,!1);void 0!==Q0&&Q0(m,u,a,l,p)}function cu(o,a){if(null!==a){const l=a.type;if(3&l)return Rr(a,o);if(4&l)return Y0(-1,o[a.index]);if(8&l){const u=a.child;if(null!==u)return cu(o,u);{const p=o[a.index];return Bn(p)?Y0(-1,p):lt(p)}}if(128&l)return cu(o,a.next);if(32&l)return cl(a,o)()||lt(o[a.index]);{const u=wF(o,a);return null!==u?Array.isArray(u)?u[0]:cu(Yi(o[Kt]),u):cu(o,a.next)}}return null}function wF(o,a){return null!==a?o[Kt][Kn].projection[a.projection]:null}function Y0(o,a){const l=tn+o+1;if(l<a.length){const u=a[l],p=u[se].firstChild;if(null!==p)return cu(u,p)}return a[Mi]}function Z0(o,a,l,u,p,m,_){for(;null!=l;){if(128===l.type){l=l.next;continue}const w=u[l.index],E=l.type;if(_&&0===a&&(w&&Wr(lt(w),u),l.flags|=2),!kr(l))if(8&E)Z0(o,a,l.child,u,p,m,!1),_s(a,o,p,w,m);else if(32&E){const T=cl(l,u);let D;for(;D=T();)_s(a,o,p,D,m);_s(a,o,p,w,m)}else 16&E?ew(o,a,u,l,p,m):_s(a,o,p,w,m);l=_?l.projectionNext:l.next}}function Zs(o,a,l,u,p,m){Z0(l,u,o.firstChild,a,p,m,!1)}function ew(o,a,l,u,p,m){const _=l[Kt],E=_[Kn].projection[u.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)_s(a,o,p,E[T],m);else{let T=E;const D=_[en];Hs(u)&&(T.flags|=128),Z0(o,a,T,D,p,m,!0)}}function ul(o,a,l,u,p=!1){for(;null!==l;){if(128===l.type){l=p?l.projectionNext:l.next;continue}const m=a[l.index];null!==m&&u.push(lt(m)),Bn(m)&&wh(m,u);const _=l.type;if(8&_)ul(o,a,l.child,u);else if(32&_){const w=cl(l,a);let E;for(;E=w();)u.push(E)}else if(16&_){const w=wF(a,l);if(Array.isArray(w))u.push(...w);else{const E=Yi(a[Kt]);ul(E[se],E,w,u,!0)}}l=p?l.projectionNext:l.next}return u}function wh(o,a){for(let l=tn;l<o.length;l++){const u=o[l],p=u[se].firstChild;null!==p&&ul(u[se],u,p,a)}o[Mi]!==o[xt]&&a.push(o[Mi])}function nw(o){if(null!==o[25]){for(const a of o[25])a.impl.addSequence(a);o[25].length=0}}let fA=[];const xF={...ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:o=>{za(o.lView)},consumerOnSignalRead(){this.lView[Si]=this}},mA={...ie,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:o=>{let a=Yi(o.lView);for(;a&&!gA(a[se]);)a=Yi(a);a&&hb(a)},consumerOnSignalRead(){this.lView[Si]=this}};function gA(o){return 2!==o.type}function _A(o){if(null===o[Ns])return;let a=!0;for(;a;){let l=!1;for(const u of o[Ns])u.dirty&&(l=!0,null===u.zone||Zone.current===u.zone?u.run():u.zone.run(()=>u.run()));a=l&&!!(8192&o[Ne])}}function _g(o,a=!0,l=0){const p=o[xo].rendererFactory;p.begin?.();try{!function yA(o,a){const l=on();try{Ht(!0),rw(o,a);let u=0;for(;xc(o);){if(100===u)throw new ye(103,!1);u++,rw(o,1)}}finally{Ht(l)}}(o,l)}catch(_){throw a&&function $0(o,a){const l=o[hn],u=l?l.get(eo,null):null;u&&u.handleError(a)}(o,_),_}finally{p.end?.()}}function AF(o,a,l,u){if(Ls(a))return;const p=a[Ne];Me(a);let w=!0,E=null,T=null;gA(o)?(T=function CF(o){return o[Si]??function IF(o){const a=fA.pop()??Object.create(xF);return a.lView=o,a}(o)}(a),E=we(T)):null===function ht(){return he}()?(w=!1,T=function TF(o){const a=o[Si]??Object.create(mA);return a.lView=o,a}(a),E=we(T)):a[Si]&&(Ae(a[Si]),a[Si]=null);try{fT(a),function yT(o){return Ue.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&aA(o,a,l,2,u);const D=!(3&~p);if(D){const N=o.preOrderCheckHooks;null!==N&&jn(a,N,null)}else{const N=o.preOrderHooks;null!==N&&ns(a,N,0,null),Ab(a,0)}if(function bA(o){for(let a=Li(o);null!==a;a=YT(a)){if(!(2&a[Ne]))continue;const l=a[Cc];for(let u=0;u<l.length;u++)hb(l[u])}}(a),_A(a),SF(a,0),null!==o.contentQueries&&OD(o,a),D){const N=o.contentCheckHooks;null!==N&&jn(a,N)}else{const N=o.contentHooks;null!==N&&ns(a,N,1),Ab(a,1)}!function MF(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const p=l[u];if(p<0)mi(~p);else{const m=p,_=l[++u],w=l[++u];w1(_,m);const E=a[m];ft(24,E),w(2,E),ft(25,E)}}}finally{mi(-1)}}(o,a);const P=o.components;null!==P&&iw(a,P,0);const F=o.viewQuery;if(null!==F&&D0(2,F,u),D){const N=o.viewCheckHooks;null!==N&&jn(a,N)}else{const N=o.viewHooks;null!==N&&ns(a,N,2),Ab(a,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[22]){for(const N of a[22])N();a[22]=null}nw(a),a[Ne]&=-73}catch(D){throw za(a),D}finally{null!==T&&(pe(T,E),w&&function pA(o){o.lView[Si]!==o&&(o.lView=null,fA.push(o))}(T)),xb()}}function SF(o,a){for(let l=Li(o);null!==l;l=YT(l))for(let u=tn;u<l.length;u++)wA(l[u],a)}function QW(o,a,l){ft(18);const u=cr(a,o);wA(u,l),ft(19,u[gt])}function wA(o,a){Bd(o)&&rw(o,a)}function rw(o,a){const u=o[se],p=o[Ne],m=o[Si];let _=!!(0===a&&16&p);if(_||=!!(64&p&&0===a),_||=!!(1024&p),_||=!(!m?.dirty||!qe(m)),_||=!1,m&&(m.dirty=!1),o[Ne]&=-9217,_)AF(u,o,u.template,o[gt]);else if(8192&p){_A(o),SF(o,1);const w=u.components;null!==w&&iw(o,w,1),nw(o)}}function iw(o,a,l){for(let u=0;u<a.length;u++)QW(o,a[u],l)}function Eh(o,a){const l=on()?64:1088;for(o[xo].changeDetectionScheduler?.notify(a);o;){o[Ne]|=l;const u=Yi(o);if(Jo(o)&&!u)return o;o=u}return null}function Ch(o,a,l,u){return[o,!0,0,a,null,u,null,l,null,null]}function EA(o,a){const l=tn+a;if(l<o.length)return o[l]}function ys(o,a,l,u=!0){const p=a[se];if(function Ih(o,a,l,u){const p=tn+u,m=l.length;u>0&&(l[p-1][qn]=a),u<m-tn?(a[qn]=l[p],JO(l,tn+u,a)):(l.push(a),a[qn]=null),a[en]=l;const _=a[Zo];null!==_&&l!==_&&xh(_,a);const w=a[Ai];null!==w&&w.insertView(o),fb(a),a[Ne]|=128}(p,a,o,l),u){const _=Y0(l,o),w=a[Ve],E=w.parentNode(o[Mi]);null!==E&&function yF(o,a,l,u,p,m){u[xt]=p,u[Kn]=a,Zs(o,u,l,1,p,m)}(p,o[Kn],w,a,E,_)}const m=a[Mr];null!==m&&null!==m.firstChild&&(m.firstChild=null)}function ow(o,a){const l=dl(o,a);return void 0!==l&&Er(l[se],l),l}function dl(o,a){if(o.length<=tn)return;const l=tn+a,u=o[l];if(u){const p=u[Zo];null!==p&&p!==o&&q0(p,u),a>0&&(o[l-1][qn]=u[qn]);const m=Qp(o,tn+a);!function _F(o,a){vi(o,a),a[xt]=null,a[Kn]=null}(u[se],u);const _=m[Ai];null!==_&&_.detachView(m[se]),u[en]=null,u[qn]=null,u[Ne]&=-129}return u}function xh(o,a){const l=o[Cc],u=a[en];(nn(u)||a[Kt]!==u[en][Kt])&&(o[Ne]|=2),null===l?o[Cc]=[a]:l.push(a)}let Th=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const a=this._lView,l=a[se];return ul(l,a,l.firstChild,[])}constructor(a,l,u=!0){this._lView=a,this._cdRefInjectingView=l,this.notifyErrorHandler=u}get context(){return this._lView[gt]}set context(a){this._lView[gt]=a}get destroyed(){return Ls(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[en];if(Bn(a)){const l=a[8],u=l?l.indexOf(this):-1;u>-1&&(dl(a,u),Qp(l,u))}this._attachedToViewContainer=!1}Er(this._lView[se],this._lView)}onDestroy(a){hm(this._lView,a)}markForCheck(){Eh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ne]&=-129}reattach(){fb(this._lView),this._lView[Ne]|=128}detectChanges(){this._lView[Ne]|=1024,_g(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const a=Jo(this._lView),l=this._lView[Zo];null!==l&&!a&&q0(l,this._lView),vi(this._lView[se],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=a;const l=Jo(this._lView),u=this._lView[Zo];null!==u&&!l&&xh(u,this._lView),fb(this._lView)}},Js=(()=>class o{static __NG_ELEMENT_ID__=ZW})();const RF=Js,yg=class extends RF{_declarationLView;_declarationTContainer;elementRef;constructor(a,l,u){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,u){const p=lu(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:l,dehydratedView:u});return new Th(p)}};function ZW(){return uu(Ze(),J())}function uu(o,a){return 4&o.type?new yg(a,o,Qa(o,a)):null}function Sh(o,a,l,u,p){let m=o.data[a];if(null===m)m=function AA(o,a,l,u,p){const m=Pr(),_=wb(),E=o.data[a]=function e4(o,a,l,u,p,m){let _=a?a.injectorIndex:-1,w=0;return Bs()&&(w|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?m:m&&m.parent,l,a,u,p);return function LF(o,a,l,u){null===o.firstChild&&(o.firstChild=a),null!==l&&(u?null==l.child&&null!==a.parent&&(l.child=a):null===l.next&&(l.next=a,a.prev=l))}(o,E,m,_),E}(o,a,l,u,p),function b1(){return Ue.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=u,m.attrs=p;const _=function jd(){const o=Ue.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===_?-1:_.injectorIndex}return Zi(m,!0),m}let GA=()=>null;function _l(o,a){return GA(o,a)}let qA=class{},Vg=class{};class JF{resolveComponentFactory(a){throw Error(`No component factory found for ${An(a)}.`)}}let Fh=class{static NULL=new JF};class _w{}let KA=(()=>class o{destroyNode=null;static __NG_ELEMENT_ID__=()=>function XA(){const o=J(),l=cr(Ze().index,o);return(nn(l)?l:o)[Ve]}()})(),QA=(()=>{class o{static \u0275prov=St({token:o,providedIn:"root",factory:()=>null})}return o})();function na(o){return!!Ti(o)}const bw={};class yl{injector;parentInjector;constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,u){u=qv(u);const p=this.injector.get(a,bw,u);return p!==bw||l===bw?p:this.parentInjector.get(a,l,u)}}function Lh(o,a,l){let u=l?o.styles:null,p=l?o.classes:null,m=0;if(null!==a)for(let _=0;_<a.length;_++){const w=a[_];"number"==typeof w?m=w:1==m?p=Uv(p,w):2==m&&(u=Uv(u,w+": "+a[++_]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=p:o.classesWithoutHost=p}function ia(o,a=tt.Default){const l=J();return null===l?yr(o,a):A1(Ze(),l,He(o),a)}function eL(){throw new Error("invalid")}function Vh(o,a,l,u,p){const m=null===u?null:{"":-1},_=p(o,l);if(null!==_){let w,E=null,T=null;const D=function i4(o){let a=null,l=!1;for(let _=0;_<o.length;_++){const w=o[_];if(0===_&&rn(w)&&(a=w),null!==w.findHostDirectiveDefs){l=!0;break}}if(!l)return null;let u=null,p=null,m=null;for(const _ of o)null!==_.findHostDirectiveDefs&&(u??=[],p??=new Map,m??=new Map,nL(_,u,m,p)),_===a&&(u??=[],u.push(_));return null!==u?(u.push(...null===a?o:o.slice(1)),[u,p,m]):null}(_);null===D?w=_:[w,E,T]=D,function iL(o,a,l,u,p,m,_){const w=u.length;let E=!1;for(let F=0;F<w;F++){const N=u[F];!E&&rn(N)&&(E=!0,rL(o,l,F)),Nb(Pb(l,a),o,N.type)}!function c4(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,w);for(let F=0;F<w;F++){const N=u[F];N.providersResolver&&N.providersResolver(N)}let T=!1,D=!1,P=su(o,a,w,null);w>0&&(l.directiveToIndex=new Map);for(let F=0;F<w;F++){const N=u[F];if(l.mergedAttrs=Wa(l.mergedAttrs,N.hostAttrs),o4(o,l,a,P,N),l4(P,N,p),null!==_&&_.has(N)){const[ee,ue]=_.get(N);l.directiveToIndex.set(N.type,[P,ee+l.directiveStart,ue+l.directiveStart])}else(null===m||!m.has(N))&&l.directiveToIndex.set(N.type,P);null!==N.contentQueries&&(l.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(l.flags|=64);const $=N.type.prototype;!T&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),T=!0),!D&&($.ngOnChanges||$.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),D=!0),P++}!function oL(o,a,l){for(let u=a.directiveStart;u<a.directiveEnd;u++){const p=o.data[u];if(null!==l&&l.has(p)){const m=l.get(p);aL(0,a,m,u),aL(1,a,m,u),cL(a,u,!0)}else sL(0,a,p,u),sL(1,a,p,u),cL(a,u,!1)}}(o,l,m)}(o,a,l,w,m,E,T)}null!==m&&null!==u&&function tL(o,a,l){const u=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=l[a[p+1]];if(null==m)throw new ye(-301,!1);u.push(a[p],m)}}(l,u,m)}function nL(o,a,l,u){const p=a.length;o.findHostDirectiveDefs(o,a,u),l.set(o,[p,a.length-1])}function rL(o,a,l){a.componentOffset=l,(o.components??=[]).push(a.index)}function sL(o,a,l,u){const p=0===o?l.inputs:l.outputs;for(const m in p)if(p.hasOwnProperty(m)){let _;_=0===o?a.inputs??={}:a.outputs??={},_[m]??=[],_[m].push(u),lL(a,m)}}function aL(o,a,l,u){const p=0===o?l.inputs:l.outputs;for(const m in p)if(p.hasOwnProperty(m)){const _=p[m];let w;w=0===o?a.hostDirectiveInputs??={}:a.hostDirectiveOutputs??={},w[_]??=[],w[_].push(u,m),lL(a,_)}}function lL(o,a){"class"===a?o.flags|=8:"style"===a&&(o.flags|=16)}function cL(o,a,l){const{attrs:u,inputs:p,hostDirectiveInputs:m}=o;if(null===u||!l&&null===p||l&&null===m||V0(o))return o.initialInputs??=[],void o.initialInputs.push(null);let _=null,w=0;for(;w<u.length;){const E=u[w];if(0!==E)if(5!==E){if("number"==typeof E)break;if(!l&&p.hasOwnProperty(E)){const T=p[E];for(const D of T)if(D===a){_??=[],_.push(E,u[w+1]);break}}else if(l&&m.hasOwnProperty(E)){const T=m[E];for(let D=0;D<T.length;D+=2)if(T[D]===a){_??=[],_.push(T[D+1],u[w+1]);break}}w+=2}else w+=2;else w+=4}o.initialInputs??=[],o.initialInputs.push(_)}function o4(o,a,l,u,p){o.data[u]=p;const m=p.factory||(p.factory=_c(p.type)),_=new dr(m,rn(p),ia);o.blueprint[u]=_,l[u]=_,function s4(o,a,l,u,p){const m=p.hostBindings;if(m){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const w=~a.index;(function a4(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(_)!=w&&_.push(w),_.push(l,u,m)}}(o,a,u,su(o,l,p.hostVars,We),p)}function l4(o,a,l){if(l){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)l[a.exportAs[u]]=o;rn(a)&&(l[""]=o)}}function uL(o,a,l,u,p,m,_,w){const E=a.consts,D=Sh(a,o,2,u,Ri(E,_));return m&&Vh(a,l,D,Ri(E,w),p),D.mergedAttrs=Wa(D.mergedAttrs,D.attrs),null!==D.attrs&&Lh(D,D.attrs,!1),null!==D.mergedAttrs&&Lh(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}function dL(o,a){Db(o,a),ib(a)&&o.queries.elementEnd(a)}class hL extends Fh{ngModule;constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=nt(a);return new Bh(l,this.ngModule)}}class Bh extends Vg{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function ZA(o){return Object.keys(o).map(a=>{const[l,u,p]=o[a],m={propName:l,templateName:a,isSignal:!!(u&au.SignalBased)};return p&&(m.transform=p),m})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function u4(o){return Object.keys(o).map(a=>({propName:o[a],templateName:a}))}(this.componentDef.outputs),this.cachedOutputs}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function nA(o){return o.map(tA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors??[],this.isBoundToModule=!!l}create(a,l,u,p){ft(22);const m=be(null);try{const _=this.componentDef,w=u?["ng-version","19.2.7"]:function JN(o){const a=[],l=[];let u=1,p=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++u]):8===p&&l.push(m);else{if(!Bi(p))break;p=m}u++}return l.length&&a.push(1,...l),a}(this.componentDef.selectors[0]),E=yh(0,null,null,1,0,null,null,null,null,[w],null),T=function JA(o,a,l){let u=a instanceof Di?a:a?.injector;return u&&null!==o.getStandaloneInjector&&(u=o.getStandaloneInjector(u)||u),u?new yl(l,u):l}(_,p||this.ngModule,a),D=function h4(o){const a=o.get(_w,null);if(null===a)throw new ye(407,!1);return{rendererFactory:a,sanitizer:o.get(QA,null),changeDetectionScheduler:o.get(rt,null)}}(T),P=D.rendererFactory.createRenderer(null,_),F=u?function oF(o,a,l,u){const m=u.get(rD,!1)||l===ds.ShadowDom,_=o.selectRootElement(a,m);return function sF(o){lA(o)}(_),_}(P,u,_.encapsulation,T):function Ug(o,a){const l=(o.selectors[0][0]||"div").toLowerCase();return ou(a,l,"svg"===l?uT:"math"===l?"math":null)}(_,P),N=ug(null,E,null,512|vh(_),null,null,D,P,T,null,ID(F,T,!0));N[Ie]=F,Me(N);let $=null;try{const ee=uL(Ie,E,N,"#host",()=>[this.componentDef],!0,0);F&&(gs(P,F,ee),Wr(F,N)),dg(E,N,ee),A0(E,ee,N),dL(E,ee),void 0!==l&&function Kr(o,a,l){const u=o.projection=[];for(let p=0;p<a.length;p++){const m=l[p];u.push(null!=m&&m.length?Array.from(m):null)}}(ee,this.ngContentSelectors,l),$=cr(ee.index,N),N[gt]=$[gt],hg(E,N,null)}catch(ee){throw null!==$&&th($),th(N),ee}finally{ft(23),xb()}return new Hg(this.componentType,N)}finally{be(m)}}}class Hg extends qA{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(a,l){super(),this._rootLView=l,this._tNode=Vs(l[se],Ie),this.location=Qa(this._tNode,l),this.instance=cr(this._tNode.index,l)[gt],this.hostView=this.changeDetectorRef=new Th(l,void 0,!1),this.componentType=a}setInput(a,l){const u=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const p=this._rootLView;W0(u,p[se],p,a,l),this.previousInputValues.set(a,l),Eh(cr(u.index,p),1)}get injector(){return new Tt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}let Or=(()=>class o{static __NG_ELEMENT_ID__=ww})();function ww(){return so(Ze(),J())}const nr=Or,vl=class extends nr{_lContainer;_hostTNode;_hostLView;constructor(a,l,u){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=u}get element(){return Qa(this._hostTNode,this._hostLView)}get injector(){return new Tt(this._hostTNode,this._hostLView)}get parentInjector(){const a=ym(this._hostTNode,this._hostLView);if(is(a)){const l=gi(a,this._hostLView),u=So(a);return new Tt(l[se].data[u+8],l)}return new Tt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=zg(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-tn}createEmbeddedView(a,l,u){let p,m;"number"==typeof u?p=u:null!=u&&(p=u.index,m=u.injector);const _=_l(this._lContainer,a.ssrId),w=a.createEmbeddedViewImpl(l||{},m,_);return this.insertImpl(w,p,yi(this._hostTNode,_)),w}createComponent(a,l,u,p,m){const _=a&&!function Ld(o){return"function"==typeof o}(a);let w;if(_)w=l;else{const $=l||{};w=$.index,u=$.injector,p=$.projectableNodes,m=$.environmentInjector||$.ngModuleRef}const E=_?a:new Bh(nt(a)),T=u||this.parentInjector;if(!m&&null==E.ngModule){const ee=(_?T:this.parentInjector).get(Di,null);ee&&(m=ee)}const D=nt(E.componentType??{}),P=_l(this._lContainer,D?.id??null),N=E.create(T,p,P?.firstChild??null,m);return this.insertImpl(N.hostView,w,yi(this._hostTNode,P)),N}insert(a,l){return this.insertImpl(a,l,!0)}insertImpl(a,l,u){const p=a._lView;if(function hT(o){return Bn(o[en])}(p)){const w=this.indexOf(a);if(-1!==w)this.detach(w);else{const E=p[en],T=new vl(E,E[Kn],E[en]);T.detach(T.indexOf(a))}}const m=this._adjustIndex(l),_=this._lContainer;return ys(_,p,m,u),a.attachToViewContainerRef(),JO(fe(_),m,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=zg(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),u=dl(this._lContainer,l);u&&(Qp(fe(this._lContainer),l),Er(u[se],u))}detach(a){const l=this._adjustIndex(a,-1),u=dl(this._lContainer,l);return u&&null!=Qp(fe(this._lContainer),l)?new Th(u):null}_adjustIndex(a,l=0){return a??this.length+l}};function zg(o){return o[8]}function fe(o){return o[8]||(o[8]=[])}function so(o,a){let l;const u=a[o.index];return Bn(u)?l=u:(l=Ch(u,a,null,o),a[o.index]=l,j0(a,l)),_u(l,a,o,u),new vl(l,o,a)}let _u=function eS(o,a,l,u){if(o[Mi])return;let p;p=8&l.type?lt(u):function oa(o,a){const l=o[Ve],u=l.createComment(""),p=Rr(a,o),m=l.parentNode(p);return ms(l,m,u,l.nextSibling(p),!1),u}(a,l),o[Mi]=p},jh=()=>!1;class $g{queryList;matches=null;constructor(a){this.queryList=a}clone(){return new $g(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iw{queries;constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const u=null!==a.contentQueries?a.contentQueries[0]:l.length,p=[];for(let m=0;m<u;m++){const _=l.getByIndex(m);p.push(this.queries[_.indexInDeclarationView].clone())}return new Iw(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==qg(a,l).matches&&this.queries[l].setDirty()}}class tS{flags;read;predicate;constructor(a,l,u=null){this.flags=l,this.read=u,this.predicate="string"==typeof a?function zh(o){return o.split(",").map(a=>a.trim())}(a):a}}class xw{queries;constructor(a=[]){this.queries=a}elementStart(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let u=0;u<this.length;u++){const p=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(a,p);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new xw(l):null}template(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Nt{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(a,l=-1){this.metadata=a,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Nt(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const m=u[p];this.matchTNodeWithReadOption(a,l,zt(l,m)),this.matchTNodeWithReadOption(a,l,Fb(l,a,m,!1,!1))}else u===Js?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Fb(l,a,u,!1,!1))}matchTNodeWithReadOption(a,l,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===Mc||p===Or||p===Js&&4&l.type)this.addMatch(l.index,-2);else{const m=Fb(l,a,p,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function zt(o,a){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===a)return l[u+1];return null}function nS(o,a,l,u){return-1===l?function Tw(o,a){return 11&o.type?Qa(o,a):4&o.type?uu(o,a):null}(a,o):-2===l?function Dw(o,a,l){return l===Mc?Qa(a,o):l===Js?uu(a,o):l===Or?so(a,o):void 0}(o,a,u):vm(o,o[se],l,a)}function Lo(o,a,l,u){const p=a[Ai].queries[u];if(null===p.matches){const m=o.data,_=l.matches,w=[];for(let E=0;null!==_&&E<_.length;E+=2){const T=_[E];w.push(T<0?null:nS(a,m[T],_[E+1],l.metadata.read))}p.matches=w}return p.matches}function Hh(o,a,l,u){const p=o.queries.getByIndex(l),m=p.matches;if(null!==m){const _=Lo(o,a,p,l);for(let w=0;w<m.length;w+=2){const E=m[w];if(E>0)u.push(_[w/2]);else{const T=m[w+1],D=a[-E];for(let P=tn;P<D.length;P++){const F=D[P];F[Zo]===F[en]&&Hh(F[se],F,T,u)}if(null!==D[Cc]){const P=D[Cc];for(let F=0;F<P.length;F++){const N=P[F];Hh(N[se],N,T,u)}}}}}return u}function Wg(o,a){return o[Ai].queries[a].queryList}function Gg(o,a,l){const u=new $1(!(4&~l));return function g1(o,a,l,u){const p=mb(a);p.push(l),o.firstCreatePass&&gb(o).push(u,p.length-1)}(o,a,u,u.destroy),(a[Ai]??=new Iw).queries.push(new $g(u))-1}function iS(o,a,l,u){const p=Be();if(p.firstCreatePass){const m=Ze();Aw(p,new tS(a,l,u),m.index),function oS(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(p,o),!(2&~l)&&(p.staticContentQueries=!0)}return Gg(p,J(),l)}function Aw(o,a,l){null===o.queries&&(o.queries=new xw),o.queries.track(new Nt(a,l))}function qg(o,a){return o.queries.getByIndex(a)}function sS(o,a){const l=o[se],u=qg(l,a);return u.crossesNgTemplate?Hh(l,o,a,[]):Lo(l,o,u,a)}function $h(o,a,l){let u;const p=Av(()=>{u._dirtyCounter();const m=function pL(o,a){const l=o._lView,u=o._queryIndex;if(void 0===l||void 0===u||4&l[Ne])return a?void 0:mt;const p=Wg(l,u),m=sS(l,u);return p.reset(m,GT),a?p.first:p._changesDetected||void 0===o._flatValue?o._flatValue=p.toArray():o._flatValue}(u,o);if(a&&void 0===m)throw new ye(-951,!1);return m});return u=p[ke],u._dirtyCounter=Pc(0),u._flatValue=void 0,p}function mL(o,a){return function Sw(o){return $h(!0,!1)}()}const Rw=(mL.required=function gL(o,a){return function Kg(o){return $h(!0,!0)}()},mL);let aa=class{},Fw=class{};function yS(o,a){return new e_(o,a??null,[])}class e_ extends aa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hL(this);constructor(a,l,u,p=!0){super(),this.ngModuleType=a,this._parent=l;const m=Ti(a);this._bootstrapComponents=Oo(m.bootstrap),this._r3Injector=Vb(a,l,[{provide:aa,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver},...u],An(a),new Set(["environment"])),p&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class qh extends Fw{moduleType;constructor(a){super(),this.moduleType=a}create(a){return new e_(this.moduleType,a,[])}}class vS extends aa{injector;componentFactoryResolver=new hL(this);instance=null;constructor(a){super();const l=new Io([...a.providers,{provide:aa,useValue:this},{provide:Fh,useValue:this.componentFactoryResolver}],a.parent||tm(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Lw(o,a,l=null){return new vS({providers:o,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let bS=(()=>{class o{_injector;cachedInjectors=new Map;constructor(l){this._injector=l}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const u=Jx(0,l.type),p=u.length>0?Lw([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,p)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=St({token:o,providedIn:"environment",factory:()=>new o(yr(Di))})}return o})();function Vw(o){return Eo(()=>{const a=Bw(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Za.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:a.standalone?p=>p.get(bS).getOrCreateStandaloneInjector(l):null,getExternalStyles:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ds.Emulated,styles:o.styles||mt,_:null,schemas:o.schemas||null,tView:null,id:""};a.standalone&&Gr("NgStandalone"),vu(l);const u=o.dependencies;return l.directiveDefs=t_(u,!1),l.pipeDefs=t_(u,!0),l.id=function IL(o){let a=0;const u=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,"function"==typeof o.consts?"":o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery];for(const m of u.join("|"))a=Math.imul(31,a)+m.charCodeAt(0)|0;return a+=2147483648,"c"+a}(l),l})}function bL(o){return nt(o)||Mn(o)}function wL(o){return null!==o}function Kh(o){return Eo(()=>({type:o.type,bootstrap:o.bootstrap||mt,declarations:o.declarations||mt,imports:o.imports||mt,exports:o.exports||mt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function EL(o,a){if(null==o)return qi;const l={};for(const u in o)if(o.hasOwnProperty(u)){const p=o[u];let m,_,w,E;Array.isArray(p)?(w=p[0],m=p[1],_=p[2]??m,E=p[3]||null):(m=p,_=p,w=au.None,E=null),l[m]=[u,w,E],a[m]=_}return l}function CL(o){if(null==o)return qi;const a={};for(const l in o)o.hasOwnProperty(l)&&(a[o[l]]=l);return a}function wS(o){return Eo(()=>{const a=Bw(o);return vu(a),a})}function mn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:o.standalone??!0,onDestroy:o.type.prototype.ngOnDestroy||null}}function Bw(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputConfig:o.inputs||qi,exportAs:o.exportAs||null,standalone:o.standalone??!0,signals:!0===o.signals,selectors:o.selectors||mt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EL(o.inputs,a),outputs:CL(o.outputs),debugInfo:null}}function vu(o){o.features?.forEach(a=>a(o))}function t_(o,a){if(!o)return null;const l=a?vr:bL;return()=>("function"==typeof o?o():o).map(u=>l(u)).filter(wL)}function Uw(o){let a=function ES(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;a;){let p;if(rn(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ye(903,!1);p=a.\u0275dir}if(p){if(l){u.push(p);const _=o;_.inputs=Hw(o.inputs),_.declaredInputs=Hw(o.declaredInputs),_.outputs=Hw(o.outputs);const w=p.hostBindings;w&&DL(o,w);const E=p.viewQuery,T=p.contentQueries;if(E&&n_(o,E),T&&TL(o,T),CS(o,p),_$(o.outputs,p.outputs),rn(p)&&p.data.animation){const D=o.data;D.animation=(D.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let _=0;_<m.length;_++){const w=m[_];w&&w.ngInherit&&w(o),w===Uw&&(l=!1)}}a=Object.getPrototypeOf(a)}!function xL(o){let a=0,l=null;for(let u=o.length-1;u>=0;u--){const p=o[u];p.hostVars=a+=p.hostVars,p.hostAttrs=Wa(p.hostAttrs,l=Wa(l,p.hostAttrs))}}(u)}function CS(o,a){for(const l in a.inputs){if(!a.inputs.hasOwnProperty(l)||o.inputs.hasOwnProperty(l))continue;const u=a.inputs[l];void 0!==u&&(o.inputs[l]=u,o.declaredInputs[l]=a.declaredInputs[l])}}function Hw(o){return o===qi?{}:o===mt?[]:o}function n_(o,a){const l=o.viewQuery;o.viewQuery=l?(u,p)=>{a(u,p),l(u,p)}:a}function TL(o,a){const l=o.contentQueries;o.contentQueries=l?(u,p,m)=>{a(u,p,m),l(u,p,m)}:a}function DL(o,a){const l=o.hostBindings;o.hostBindings=l?(u,p)=>{a(u,p),l(u,p)}:a}function IS(o){const a=l=>{const u=Array.isArray(o);null===l.hostDirectives?(l.findHostDirectiveDefs=bu,l.hostDirectives=u?o.map(Cl):[o]):u?l.hostDirectives.unshift(...o.map(Cl)):l.hostDirectives.unshift(o)};return a.ngInherit=!0,a}function bu(o,a,l){if(null!==o.hostDirectives)for(const u of o.hostDirectives)if("function"==typeof u){const p=u();for(const m of p)zw(Cl(m),a,l)}else zw(u,a,l)}function zw(o,a,l){const u=Mn(o.directive);(function la(o,a){for(const l in a)a.hasOwnProperty(l)&&(o[a[l]]=o[l])})(u.declaredInputs,o.inputs),bu(u,a,l),l.set(u,o),a.push(u)}function Cl(o){return"function"==typeof o?{directive:He(o),inputs:qi,outputs:qi}:{directive:He(o.directive),inputs:r_(o.inputs),outputs:r_(o.outputs)}}function r_(o){if(void 0===o||0===o.length)return qi;const a={};for(let l=0;l<o.length;l+=2)a[o[l]]=o[l+1];return a}function wu(o){return!!Ww(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Ww(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function gn(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Il(o,a,l,u,p,m,_,w,E,T){const D=l+Ie,P=a.firstCreatePass?function kL(o,a,l,u,p,m,_,w,E){const T=a.consts,D=Sh(a,o,4,_||null,w||null);pm()&&Vh(a,l,D,Ri(T,E),H0),D.mergedAttrs=Wa(D.mergedAttrs,D.attrs),Db(a,D);const P=D.tView=yh(2,D,u,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T,null);return null!==a.queries&&(a.queries.template(a,D),P.queries=a.queries.embeddedTView(D)),D}(D,a,o,u,p,m,_,w,E):a.data[D];Zi(P,!1);const F=i_(a,o,P,l);Tc()&&tr(a,o,F,P),Wr(F,o);const N=Ch(F,o,F,P);return o[D]=N,j0(o,N),function Ew(o,a,l){return jh(o,a,l)}(N,P,o),ob(P)&&dg(a,o,P),null!=E&&U0(o,P,T),P}function Gw(o,a,l,u,p,m,_,w){const E=J(),T=Be();return Il(E,T,o,a,l,u,p,Ri(T.consts,m),_,w),Gw}let i_=function DS(o,a,l,u){return Do(!0),a[Ve].createComment("")};let Yw=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const ef=new Le(""),g_=new Le("");let zS,uE=(()=>{class o{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(l,u,p){this._ngZone=l,this.registry=u,zS||(function dE(o){zS=o}(p),p.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ot.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,p){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),l()},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:p})}whenStable(l,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,p),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,p){return[]}static \u0275fac=function(u){return new(u||o)(yr(Ot),yr(XL),yr(g_))};static \u0275prov=St({token:o,factory:o.\u0275fac})}return o})(),XL=(()=>{class o{_applications=new Map;registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return zS?.findTestabilityInTree(this,l,u)??null}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),tf=(()=>{class o{static \u0275prov=St({token:o,providedIn:"root",factory:()=>new I4})}return o})();class I4{queuedEffectCount=0;queues=new Map;schedule(a){this.enqueue(a)}remove(a){const u=this.queues.get(a.zone);u.has(a)&&(u.delete(a),this.queuedEffectCount--)}enqueue(a){const l=a.zone;this.queues.has(l)||this.queues.set(l,new Set);const u=this.queues.get(l);u.has(a)||(this.queuedEffectCount++,u.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,l]of this.queues)null===a?this.flushQueue(l):a.run(()=>this.flushQueue(l))}flushQueue(a){for(const l of a)a.delete(l),this.queuedEffectCount--,l.run()}}function nf(o){return!!o&&"function"==typeof o.then}function $S(o){return!!o&&"function"==typeof o.subscribe}const __=new Le("");function x4(o){return Ln([{provide:__,multi:!0,useValue:o}])}let y_=(()=>{class o{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u});appInits=Te(__,{optional:!0})??[];injector=Te(Zn);constructor(){}runInitializers(){if(this.initialized)return;const l=[];for(const p of this.appInits){const m=bc(this.injector,p);if(nf(m))l.push(m);else if($S(m)){const _=new Promise((w,E)=>{m.subscribe({complete:w,error:E})});l.push(_)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{u()}).catch(p=>{this.reject(p)}),0===l.length&&u(),this.initialized=!0}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const rf=new Le("");let Nr=(()=>{class o{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Te(H1);afterRenderManager=Te(m0);zonelessEnabled=Te(os);rootEffectScheduler=Te(tf);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Oa.B;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=Te(Oi).hasPendingTasks.pipe((0,LO.T)(l=>!l));constructor(){Te(Bc,{optional:!0})}whenStable(){let l;return new Promise(u=>{l=this.isStable.subscribe({next:p=>{p&&u()}})}).finally(()=>{l.unsubscribe()})}_injector=Te(Di);_rendererFactory=null;get injector(){return this._injector}bootstrap(l,u){return this.bootstrapImpl(l,u)}bootstrapImpl(l,u,p=Zn.NULL){ft(10);const m=l instanceof Vg;if(!this._injector.get(y_).done)throw new ye(405,"");let w;w=m?l:this._injector.get(Fh).resolveComponentFactory(l),this.componentTypes.push(w.componentType);const E=function T4(o){return o.isBoundToModule}(w)?void 0:this._injector.get(aa),D=w.create(p,[],u||w.selector,E),P=D.location.nativeElement,F=D.injector.get(ef,null);return F?.registerApplication(P),D.onDestroy(()=>{this.detachView(D.hostView),Au(this.components,D),F?.unregisterApplication(P)}),this._loadComponent(D),ft(11,D),D}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ft(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(p0.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ye(101,!1);const l=be(null);try{this._runningTick=!0,this.synchronize()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,be(l),this.afterTick.next(),ft(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_w,null,{optional:!0}));let l=0;for(;0!==this.dirtyFlags&&l++<10;)ft(14),this.synchronizeOnce(),ft(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const l=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:u,notifyErrorHandler:p}of this.allViews)S4(u,p,l,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:l})=>xc(l))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;Au(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(rf,[]).forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Au(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ye(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Au(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}function S4(o,a,l,u){(l||xc(o))&&_g(o,a,l&&!u?0:1)}function tM(o,a,l,u){const p=J();return gn(p,ki(),a)&&(Be(),Fo(ve(),p,o,a,l,u)),tM}function uf(o,a,l,u,p,m){const w=function lo(o,a,l,u){const p=gn(o,a,l);return gn(o,a+1,u)||p}(o,function Pi(){return Ue.lFrame.bindingIndex}(),l,p);return ts(2),w?a+ze(l)+u+ze(p)+m:We}function Ml(o,a){return o<<17|a<<2}function da(o){return o>>17&32767}function wE(o){return 2|o}function ha(o){return(131068&o)>>2}function T_(o,a){return-131069&o|a<<2}function CE(o){return 1|o}function lM(o,a,l,u){const p=o[l+1],m=null===a;let _=u?da(p):ha(p),w=!1;for(;0!==_&&(!1===w||m);){const T=o[_+1];hV(o[_],a)&&(w=!0,o[_+1]=u?CE(T):wE(T)),_=u?da(T):ha(T)}w&&(o[l+1]=u?wE(p):CE(p))}function hV(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&lr(o,a)>=0}const rr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cM(o){return o.substring(rr.key,rr.keyEnd)}function dM(o,a){const l=rr.textEnd;return l===a?-1:(a=rr.keyEnd=function pV(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,rr.key=a,l),ku(o,a,l))}function ku(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function _M(o,a,l){const u=J();return gn(u,ki(),a)&&qr(Be(),ve(),u,o,a,u[Ve],l,!1),_M}function pf(o,a,l,u,p){W0(a,o,l,p?"class":"style",u)}function yM(o,a,l){return Uo(o,a,l,!1),yM}function mf(o,a){return Uo(o,a,null,!0),mf}function D_(o){!function bi(o,a,l,u){const p=Be(),m=ts(2);p.firstUpdatePass&&S_(p,null,m,u);const _=J();if(l!==We&&gn(_,m,l)){const w=p.data[ur()];if(R_(w,u)&&!A_(p,m)){let E=u?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(l=Uv(E,l||"")),pf(p,w,_,l,u)}else!function H4(o,a,l,u,p,m,_,w){p===We&&(p=mt);let E=0,T=0,D=0<p.length?p[0]:null,P=0<m.length?m[0]:null;for(;null!==D||null!==P;){const F=E<p.length?p[E+1]:void 0,N=T<m.length?m[T+1]:void 0;let ee,$=null;D===P?(E+=2,T+=2,F!==N&&($=P,ee=N)):null===P||null!==D&&D<P?(E+=2,$=D):(T+=2,$=P,ee=N),null!==$&&M_(o,a,l,u,$,ee,_,w),D=E<p.length?p[E]:null,P=T<m.length?m[T]:null}}(p,w,_,_[Ve],_[m+1],_[m+1]=function SE(o,a,l){if(null==l||""===l)return mt;const u=[],p=Xs(l);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(u,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(u,m,p[m]);else"string"==typeof p&&a(u,p);return u}(o,a,l),u,m)}}(U4,Ui,o,!0)}function Ui(o,a){for(let l=function fV(o){return function fM(o){rr.key=0,rr.keyEnd=0,rr.value=0,rr.valueEnd=0,rr.textEnd=o.length}(o),dM(o,ku(o,0,rr.textEnd))}(a);l>=0;l=dM(a,l))Pt(o,cM(a),!0)}function Uo(o,a,l,u){const p=J(),m=Be(),_=ts(2);m.firstUpdatePass&&S_(m,o,_,u),a!==We&&gn(p,_,a)&&M_(m,m.data[ur()],p,p[Ve],o,p[_+1]=function z4(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=An(Xs(o)))),o}(a,l),u,_)}function A_(o,a){return a>=o.expandoStartIndex}function S_(o,a,l,u){const p=o.data;if(null===p[l+1]){const m=p[ur()],_=A_(o,l);R_(m,u)&&null===a&&!_&&(a=!1),a=function j4(o,a,l,u){const p=mm(o);let m=u?a.residualClasses:a.residualStyles;if(null===p)0===(u?a.classBindings:a.styleBindings)&&(l=gf(l=AE(null,o,a,l,u),a.attrs,u),m=null);else{const _=a.directiveStylingLast;if(-1===_||o[_]!==p)if(l=AE(p,o,a,l,u),null===m){let E=function Rl(o,a,l){const u=l?a.classBindings:a.styleBindings;if(0!==ha(u))return o[da(u)]}(o,a,u);void 0!==E&&Array.isArray(E)&&(E=AE(null,o,a,E[1],u),E=gf(E,a.attrs,u),function DE(o,a,l,u){o[da(l?a.classBindings:a.styleBindings)]=u}(o,a,u,E))}else m=function mV(o,a,l){let u;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)u=gf(u,o[m].hostAttrs,l);return gf(u,a.attrs,l)}(o,a,u)}return void 0!==m&&(u?a.residualClasses=m:a.residualStyles=m),l}(p,m,a,u),function IE(o,a,l,u,p,m){let _=m?a.classBindings:a.styleBindings,w=da(_),E=ha(_);o[u]=l;let D,T=!1;if(Array.isArray(l)?(D=l[1],(null===D||lr(l,D)>0)&&(T=!0)):D=l,p)if(0!==E){const F=da(o[w+1]);o[u+1]=Ml(F,w),0!==F&&(o[F+1]=T_(o[F+1],u)),o[w+1]=function x_(o,a){return 131071&o|a<<17}(o[w+1],u)}else o[u+1]=Ml(w,0),0!==w&&(o[w+1]=T_(o[w+1],u)),w=u;else o[u+1]=Ml(E,0),0===w?w=u:o[E+1]=T_(o[E+1],u),E=u;T&&(o[u+1]=wE(o[u+1])),lM(o,D,u,!0),lM(o,D,u,!1),function aM(o,a,l,u,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&lr(m,a)>=0&&(l[u+1]=CE(l[u+1]))}(a,D,o,u,m),_=Ml(w,E),m?a.classBindings=_:a.styleBindings=_}(p,m,a,l,_,u)}}function AE(o,a,l,u,p){let m=null;const _=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<_&&(m=a[w],u=gf(u,m.hostAttrs,p),m!==o);)w++;return null!==o&&(l.directiveStylingLast=w),u}function gf(o,a,l){const u=l?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const _=a[m];"number"==typeof _?p=_:p===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Pt(o,_,!!l||a[++m]))}return void 0===o?null:o}function U4(o,a,l){const u=String(a);""!==u&&!u.includes(" ")&&Pt(o,u,l)}function M_(o,a,l,u,p,m,_,w){if(!(3&a.type))return;const E=o.data,T=E[w+1],D=function EE(o){return!(1&~o)}(T)?gV(E,a,l,p,ha(T),_):void 0;Ou(D)||(Ou(m)||function hf(o){return!(2&~o)}(T)&&(m=gV(E,null,l,p,w,_)),function tw(o,a,l,u,p){if(a)p?o.addClass(l,u):o.removeClass(l,u);else{let m=-1===u.indexOf("-")?void 0:G0.DashCase;null==p?o.removeStyle(l,u,m):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),m|=G0.Important),o.setStyle(l,u,p,m))}}(u,_,Ic(ur(),l),p,m))}function gV(o,a,l,u,p,m){const _=null===a;let w;for(;p>0;){const E=o[p],T=Array.isArray(E),D=T?E[1]:E,P=null===D;let F=l[p+1];F===We&&(F=P?mt:void 0);let N=P?It(F,u):D===u?F:void 0;if(T&&!Ou(N)&&(N=It(E,u)),Ou(N)&&(w=N,_))return w;const $=o[p+1];p=_?da($):ha($)}if(null!==a){let E=m?a.residualClasses:a.residualStyles;null!=E&&(w=It(E,u))}return w}function Ou(o){return void 0!==o}function R_(o,a){return!!(o.flags&(a?8:16))}class bM{destroy(a){}updateValue(a,l){}swap(a,l){const u=Math.min(a,l),p=Math.max(a,l),m=this.detach(p);if(p-u>1){const _=this.detach(u);this.attach(u,m),this.attach(p,_)}else this.attach(u,m)}move(a,l){this.attach(l,this.detach(a))}}function P_(o,a,l,u,p){return o===l&&Object.is(a,u)?1:Object.is(p(o,a),p(l,u))?-1:0}function yf(o,a,l,u){return!(void 0===a||!a.has(u)||(o.attach(l,a.get(u)),a.delete(u),0))}function EV(o,a,l,u,p){if(yf(o,a,u,l(u,p)))o.updateValue(u,p);else{const m=o.create(u,p);o.attach(u,m)}}function wM(o,a,l,u){const p=new Set;for(let m=a;m<=l;m++)p.add(u(m,o.at(m)));return p}class k_{kvMap=new Map;_vMap=void 0;has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const l=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(a,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,l){if(this.kvMap.has(a)){let u=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const p=this._vMap;for(;p.has(u);)u=p.get(u);p.set(u,l)}else this.kvMap.set(a,l)}forEach(a){for(let[l,u]of this.kvMap)if(a(u,l),void 0!==this._vMap){const p=this._vMap;for(;p.has(u);)u=p.get(u),a(u,l)}}}function CV(o,a){Gr("NgControlFlow");const l=J(),u=ki(),p=l[u]!==We?l[u]:-1,m=-1!==p?N_(l,Ie+p):void 0;if(gn(l,u,o)){const w=be(null);try{if(void 0!==m&&ow(m,0),-1!==o){const E=Ie+o,T=N_(l,E),D=LE(l[se],E),P=_l(T,D.tView.ssrId);ys(T,lu(l,D,a,{dehydratedView:P}),0,yi(D,P))}}finally{be(w)}}else if(void 0!==m){const w=EA(m,0);void 0!==w&&(w[gt]=a)}}class IV{lContainer;$implicit;$index;constructor(a,l,u){this.lContainer=a,this.$implicit=l,this.$index=u}get $count(){return this.lContainer.length-tn}}function O_(o){return o}class OE{hasEmptyBlock;trackByFn;liveCollection;constructor(a,l,u){this.hasEmptyBlock=a,this.trackByFn=l,this.liveCollection=u}}function NE(o,a,l,u,p,m,_,w,E,T,D,P,F){Gr("NgControlFlow");const N=J(),$=Be(),ee=void 0!==E,ue=J(),de=w?_.bind(ue[Kt][gt]):_,re=new OE(ee,de);ue[Ie+o]=re,Il(N,$,o+1,a,l,u,p,Ri($.consts,m)),ee&&Il(N,$,o+2,E,T,D,P,Ri($.consts,F))}class FE extends bM{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(a,l,u){super(),this.lContainer=a,this.hostLView=l,this.templateTNode=u}get length(){return this.lContainer.length-tn}at(a){return this.getLView(a)[gt].$implicit}attach(a,l){const u=l[Mr];this.needsIndexUpdate||=a!==this.length,ys(this.lContainer,l,a,yi(this.templateTNode,u))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function IM(o,a){return dl(o,a)}(this.lContainer,a)}create(a,l){const u=_l(this.lContainer,this.templateTNode.tView.ssrId),p=lu(this.hostLView,this.templateTNode,new IV(this.lContainer,l,a),{dehydratedView:u});return this.operationsCounter?.recordCreate(),p}destroy(a){Er(a[se],a),this.operationsCounter?.recordDestroy()}updateValue(a,l){this.getLView(a)[gt].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[gt].$index=a}getLView(a){return function xM(o,a){return EA(o,a)}(this.lContainer,a)}}function CM(o){const a=be(null),l=ur();try{const u=J(),p=u[se],m=u[l],_=l+1,w=N_(u,_);if(void 0===m.liveCollection){const T=LE(p,_);m.liveCollection=new FE(w,u,T)}else m.liveCollection.reset();const E=m.liveCollection;if(function wV(o,a,l){let u,p,m=0,_=o.length-1;if(Array.isArray(a)){let E=a.length-1;for(;m<=_&&m<=E;){const T=o.at(m),D=a[m],P=P_(m,T,m,D,l);if(0!==P){P<0&&o.updateValue(m,D),m++;continue}const F=o.at(_),N=a[E],$=P_(_,F,E,N,l);if(0!==$){$<0&&o.updateValue(_,N),_--,E--;continue}const ee=l(m,T),ue=l(_,F),de=l(m,D);if(Object.is(de,ue)){const re=l(E,N);Object.is(re,ee)?(o.swap(m,_),o.updateValue(_,N),E--,_--):o.move(_,m),o.updateValue(m,D),m++}else if(u??=new k_,p??=wM(o,m,_,l),yf(o,u,m,de))o.updateValue(m,D),m++,_++;else if(p.has(de))u.set(ee,o.detach(m)),_--;else{const re=o.create(m,a[m]);o.attach(m,re),m++,_++}}for(;m<=E;)EV(o,u,l,m,a[m]),m++}else if(null!=a){const E=a[Symbol.iterator]();let T=E.next();for(;!T.done&&m<=_;){const D=o.at(m),P=T.value,F=P_(m,D,m,P,l);if(0!==F)F<0&&o.updateValue(m,P),m++,T=E.next();else{u??=new k_,p??=wM(o,m,_,l);const N=l(m,P);if(yf(o,u,m,N))o.updateValue(m,P),m++,_++,T=E.next();else if(p.has(N)){const $=l(m,D);u.set($,o.detach(m)),_--}else o.attach(m,o.create(m,P)),m++,_++,T=E.next()}}for(;!T.done;)EV(o,u,l,o.length,T.value),T=E.next()}for(;m<=_;)o.destroy(o.detach(_--));u?.forEach(E=>{o.destroy(E)})}(E,o,m.trackByFn),E.updateIndexes(),m.hasEmptyBlock){const T=ki(),D=0===E.length;if(gn(u,T,D)){const P=l+2,F=N_(u,P);if(D){const N=LE(p,P),$=_l(F,N.tView.ssrId);ys(F,lu(u,N,void 0,{dehydratedView:$}),0,yi(N,$))}else ow(F,0)}}}finally{be(a)}}function N_(o,a){return o[a]}function LE(o,a){return Vs(o,a)}function F_(o,a,l,u){const p=J(),m=Be(),_=Ie+o,w=p[Ve],E=m.firstCreatePass?uL(_,m,p,a,H0,pm(),l,u):m.data[_],T=TM(m,p,E,w,a,o);p[_]=T;const D=ob(E);return Zi(E,!0),gs(w,T,E),!kr(E)&&Tc()&&tr(m,p,T,E),(0===function _1(){return Ue.lFrame.elementDepthCount}()||D)&&Wr(T,p),function y1(){Ue.lFrame.elementDepthCount++}(),D&&(dg(m,p,E),A0(m,E,p)),null!==u&&U0(p,E),F_}function Nu(){let o=Ze();wb()?Eb():(o=o.parent,Zi(o,!1));const a=o;(function pT(o){return Ue.skipHydrationRootTNode===o})(a)&&function v1(){Ue.skipHydrationRootTNode=null}(),function Z$(){Ue.lFrame.elementDepthCount--}();const l=Be();return l.firstCreatePass&&dL(l,a),null!=a.classesWithoutHost&&function Mb(o){return!!(8&o.flags)}(a)&&pf(l,a,J(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function AT(o){return!!(16&o.flags)}(a)&&pf(l,a,J(),a.stylesWithoutHost,!1),Nu}function VE(o,a,l,u){return F_(o,a,l,u),Nu(),VE}let TM=(o,a,l,u,p,m)=>(Do(!0),ou(u,p,function $a(){return Ue.lFrame.currentNamespace}()));function L_(o,a,l){const u=J(),p=Be(),m=o+Ie,_=p.firstCreatePass?function DV(o,a,l,u,p){const m=a.consts,_=Ri(m,u),w=Sh(a,o,8,"ng-container",_);null!==_&&Lh(w,_,!0);const E=Ri(m,p);return pm()&&Vh(a,l,w,E,H0),w.mergedAttrs=Wa(w.mergedAttrs,w.attrs),null!==a.queries&&a.queries.elementStart(a,w),w}(m,p,u,a,l):p.data[m];Zi(_,!0);const w=bf(p,u,_,o);return u[m]=w,Tc()&&tr(p,u,w,_),Wr(w,u),ob(_)&&(dg(p,u,_),A0(p,_,u)),null!=l&&U0(u,_),L_}function vf(){let o=Ze();const a=Be();return wb()?Eb():(o=o.parent,Zi(o,!1)),a.firstCreatePass&&(Db(a,o),ib(o)&&a.queries.elementEnd(o)),vf}function jE(o,a,l){return L_(o,a,l),vf(),jE}let bf=(o,a,l,u)=>(Do(!0),cg(a[Ve],""));function DM(){return J()}function UE(o,a,l){const u=J();return gn(u,ki(),a)&&qr(Be(),ve(),u,o,a,u[Ve],l,!0),UE}function HE(o,a,l){const u=J();if(gn(u,ki(),a)){const m=Be(),_=ve();qr(m,_,u,o,a,uA(mm(m.data),_,u),l,!0)}return HE}const Pl=void 0;var RV=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MV(o){const a=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let fa={};function PV(o,a,l){"string"!=typeof a&&(l=a,a=o[Fu.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),fa[a]=o,l&&(fa[a][Fu.ExtraData]=l)}function zE(o){const a=function OV(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=SM(a);if(l)return l;const u=a.split("-")[0];if(l=SM(u),l)return l;if("en"===u)return RV;throw new ye(701,!1)}function AM(o){return zE(o)[Fu.PluralCase]}function SM(o){return o in fa||(fa[o]=_r.ng&&_r.ng.common&&_r.ng.common.locales&&_r.ng.common.locales[o]),fa[o]}var Fu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Fu||{});const V_="en-US";let RM=V_;function o2(o,a,l){return function u(p){if(p===Function)return l;Eh(fi(o)?cr(o.index,a):a,5);const _=a[gt];let w=s2(a,_,l,p),E=u.__ngNextListenerFn__;for(;E;)w=s2(a,_,E,p)&&w,E=E.__ngNextListenerFn__;return w}}function s2(o,a,l,u){const p=be(null);try{return ft(6,a,l),!1!==l(u)}catch(m){return function gG(o,a){const l=o[hn],u=l?l.get(eo,null):null;u&&u.handleError(a)}(o,m),!1}finally{ft(7,a,l),be(p)}}function a2(o,a,l,u,p,m){const w=a[se],D=a[l][w.data[l].outputs[u]],P=w.firstCreatePass?gb(w):null,F=mb(a),N=D.subscribe(m),$=F.length;F.push(m,N),P&&P.push(p,o.index,$,-($+1))}let zM=(o,a,l)=>{};function $M(o,a,l,u){const p=J(),m=Be(),_=Ze();return qE(m,p,p[Ve],_,o,a,u),$M}function qE(o,a,l,u,p,m,_){const w=ob(u),T=o.firstCreatePass?gb(o):null,D=mb(a);let P=!0;if(3&u.type||_){const F=Rr(u,a),N=_?_(F):F,$=D.length,ee=_?de=>_(lt(de[u.index])):u.index;let ue=null;if(!_&&w&&(ue=function _G(o,a,l,u){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const _=p[m];if(_===l&&p[m+1]===u){const w=a[wc],E=p[m+2];return w.length>E?w[E]:null}"string"==typeof _&&(m+=2)}return null}(o,a,p,u.index)),null!==ue)(ue.__ngLastListenerFn__||ue).__ngNextListenerFn__=m,ue.__ngLastListenerFn__=m,P=!1;else{m=o2(u,a,m),zM(N,p,m);const de=l.listen(N,p,m);D.push(m,de),T&&T.push(p,ee,$,$+1)}}else m=o2(u,a,m);if(P){const F=u.outputs?.[p],N=u.hostDirectiveOutputs?.[p];if(N&&N.length)for(let $=0;$<N.length;$+=2)a2(u,a,N[$],N[$+1],p,m);if(F&&F.length)for(const $ of F)a2(u,a,$,p,p,m)}}function u2(o=1){return function CT(o){return(Ue.lFrame.contextLView=function es(o,a){for(;o>0;)a=a[ja],o--;return a}(o,Ue.lFrame.contextLView))[gt]}(o)}function yG(o,a){let l=null;const u=function ZN(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let p=0;p<a.length;p++){const m=a[p];if("*"!==m){if(null===u?JD(o,m,!0):GW(u,m))return p}else l=p}return l}function d2(o){const a=J()[Kt][Kn];if(!a.projection){const u=a.projection=function Nd(o,a){const l=[];for(let u=0;u<o;u++)l.push(a);return l}(o?o.length:1,null),p=u.slice();let m=a.child;for(;null!==m;){if(128!==m.type){const _=o?yG(m,o):0;null!==_&&(p[_]?p[_].projectionNext=m:u[_]=m,p[_]=m)}m=m.next}}}function WM(o,a=0,l,u,p,m){const _=J(),w=Be(),E=u?o+1:null;null!==E&&Il(_,w,E,u,p,m,null,l);const T=Sh(w,Ie+o,16,null,l||null);null===T.projection&&(T.projection=a),Eb();const P=!_[Mr]||Bs();null===_[Kt][Kn].projection[T.projection]&&null!==E?function vG(o,a,l){const u=Ie+l,p=a.data[u],m=o[u],_=_l(m,p.tView.ssrId);ys(m,lu(o,p,void 0,{dehydratedView:_}),0,yi(p,_))}(_,w,E):P&&!kr(T)&&function J0(o,a,l){ew(a[Ve],0,a,l,Ys(o,l,a),bF(l.parent||a[Kn],l,a))}(w,_,T)}function ma(o,a,l,u){iS(o,a,l,u)}function co(o,a,l){!function rS(o,a,l){const u=Be();return u.firstCreatePass&&(Aw(u,new tS(o,a,l),-1),!(2&~a)&&(u.staticViewQueries=!0)),Gg(u,J(),a)}(o,a,l)}function KM(o){const a=J(),l=Be(),u=Ud();Hd(u+1);const p=qg(l,u);if(o.dirty&&function m1(o){return!(4&~o[Ne])}(a)===!(2&~p.metadata.flags)){if(null===p.matches)o.reset([]);else{const m=sS(a,u);o.reset(m,GT),o.notifyOnChanges()}return!0}return!1}function QE(){return Wg(J(),Ud())}function XM(o,a,l,u,p){!function Xg(o,a){const l=o[ke];l._lView=J(),l._queryIndex=a,l._queryList=Wg(l._lView,a),l._queryList.onDirty(()=>l._dirtyCounter.update(u=>u+1))}(a,iS(o,l,u,p))}function QM(o=1){Hd(Ud()+o)}function z_(o){return function Ha(o,a){return o[a]}(function Cb(){return Ue.lFrame.contextLView}(),Ie+o)}function tR(o,a=""){const l=J(),u=Be(),p=o+Ie,m=u.firstCreatePass?Sh(u,p,1,a,null):u.data[p],_=sC(u,l,m,a,o);l[p]=_,Tc()&&tr(u,l,_,m),Zi(m,!1)}let sC=(o,a,l,u,p)=>(Do(!0),function ag(o,a){return o.createText(a)}(a[Ve],u));function $_(o){return Bu("",o,""),$_}function Bu(o,a,l){const u=J(),p=function cf(o,a,l,u){return gn(o,ki(),l)?a+ze(l)+u:We}(u,o,a,l);return p!==We&&sn(u,ur(),p),Bu}function W_(o,a,l,u,p){const m=J(),_=uf(m,o,a,l,u,p);return _!==We&&sn(m,ur(),_),W_}function sn(o,a,l){const u=Ic(a,o);!function lg(o,a,l){o.setValue(a,l)}(o[Ve],u,l)}function uo(o,a,l){Kb(a)&&(a=a());const u=J();return gn(u,ki(),a)&&qr(Be(),ve(),u,o,a,u[Ve],l,!1),uo}function fC(o,a){const l=Kb(o);return l&&o.set(a),l}function rR(o,a){const l=J(),u=Be(),p=Ze();return qE(u,l,l[Ve],p,o,a),rR}const y2={};function _a(o){const a=Be(),l=J(),u=o+Ie;return Zi(Sh(a,u,128,null,null),!1),function zo(o,a,l,u){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=u}(a,l,u,y2),_a}function xf(o,a,l,u,p){if(o=He(o),Array.isArray(o))for(let m=0;m<o.length;m++)xf(o[m],a,l,u,p);else{const m=Be(),_=J(),w=Ze();let E=Qo(o)?o:He(o.provide);const T=tT(o),D=1048575&w.providerIndexes,P=w.directiveStart,F=w.providerIndexes>>20;if(Qo(o)||!o.multi){const N=new dr(T,p,ia),$=gC(E,a,p?D:D+F,P);-1===$?(Nb(Pb(w,_),m,E),mC(m,o,a.length),a.push(E),w.directiveStart++,w.directiveEnd++,p&&(w.providerIndexes+=1048576),l.push(N),_.push(N)):(l[$]=N,_[$]=N)}else{const N=gC(E,a,D+F,P),$=gC(E,a,D,D+F),ue=$>=0&&l[$];if(p&&!ue||!p&&!(N>=0&&l[N])){Nb(Pb(w,_),m,E);const de=function wG(o,a,l,u,p){const m=new dr(o,l,ia);return m.multi=[],m.index=a,m.componentProviders=0,iR(m,p,u&&!l),m}(p?bG:b2,l.length,p,u,T);!p&&ue&&(l[$].providerFactory=de),mC(m,o,a.length,0),a.push(E),w.directiveStart++,w.directiveEnd++,p&&(w.providerIndexes+=1048576),l.push(de),_.push(de)}else mC(m,o,N>-1?N:$,iR(l[p?$:N],T,!p&&u));!p&&u&&ue&&l[$].componentProviders++}}}function mC(o,a,l,u){const p=Qo(a),m=function r1(o){return!!o.useClass}(a);if(p||m){const E=(m?He(a.useClass):a).prototype.ngOnDestroy;if(E){const T=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const D=T.indexOf(l);-1===D?T.push(l,[u,E]):T[D+1].push(u,E)}else T.push(l,E)}}}function iR(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function gC(o,a,l,u){for(let p=l;p<u;p++)if(a[p]===o)return p;return-1}function b2(o,a,l,u){return oR(this.multi,[])}function bG(o,a,l,u){const p=this.multi;let m;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=vm(l,l[se],this.providerFactory.index,u);m=w.slice(0,_),oR(p,m);for(let E=_;E<w.length;E++)m.push(w[E])}else m=[],oR(p,m);return m}function oR(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function w2(o,a=[]){return l=>{l.providersResolver=(u,p)=>function v2(o,a,l){const u=Be();if(u.firstCreatePass){const p=rn(o);xf(l,u.data,u.blueprint,p,!0),xf(a,u.data,u.blueprint,p,!1)}}(u,p?p(o):o,a)}}function Uu(o,a,l,u){return function lR(o,a,l,u,p,m){const _=a+l;return gn(o,_,p)?function Vo(o,a,l){return o[a]=l}(o,_+1,m?u.call(m,p):u(p)):function Df(o,a){const l=o[a];return l===We?void 0:l}(o,_+1)}(J(),function Xn(){const o=Ue.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}(),o,a,l,u)}function ya(o,a){return uu(o,a)}class Gu{full;major;minor;patch;constructor(a){this.full=a;const l=a.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}const FG=new Gu("19.2.7");class j2{ngModuleFactory;componentFactories;constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let ER=(()=>{class o{compileModuleSync(l){return new qh(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=Oo(Ti(l).declarations).reduce((_,w)=>{const E=nt(w);return E&&_.push(new Bh(E)),_},[]);return new j2(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),xR=(()=>{class o{zone=Te(Ot);changeDetectionScheduler=Te(rt);applicationRef=Te(Nr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const z2=new Le("",{factory:()=>!1});function Lf({ngZoneFactory:o,ignoreChangesOutsideZone:a,scheduleInRootZone:l}){return o??=()=>new Ot({...oy(),scheduleInRootZone:l}),[{provide:Ot,useFactory:o},{provide:xi,multi:!0,useFactory:()=>{const u=Te(xR,{optional:!0});return()=>u.initialize()}},{provide:xi,multi:!0,useFactory:()=>{const u=Te(TR);return()=>{u.initialize()}}},!0===a?{provide:js,useValue:!0}:[],{provide:jb,useValue:l??Bb}]}function $2(o){const a=o?.ignoreChangesOutsideZone,l=o?.scheduleInRootZone,u=Lf({ngZoneFactory:()=>{const p=oy(o);return p.scheduleInRootZone=l,p.shouldCoalesceEventChangeDetection&&Gr("NgZone_CoalesceEvent"),new Ot(p)},ignoreChangesOutsideZone:a,scheduleInRootZone:l});return Ln([{provide:z2,useValue:!0},{provide:os,useValue:!1},u])}function oy(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let TR=(()=>{class o{subscription=new Vv.yU;initialized=!1;zone=Te(Ot);pendingTasks=Te(Oi);initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ot.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ot.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Fl=(()=>{class o{appRef=Te(Nr);taskService=Te(Oi);ngZone=Te(Ot);zonelessEnabled=Te(os);tracing=Te(Bc,{optional:!0});disableScheduling=Te(js,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Vv.yU;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Xa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Te(jb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Wb||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;let u=!1;switch(l){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,u=!0;break;case 12:this.appRef.dirtyFlags|=16,u=!0;break;case 11:u=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(u))return;const p=this.useMicrotaskScheduler?Yd:Ub;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>p(()=>this.tick())):this.ngZone.runOutsideAngular(()=>p(()=>this.tick()))}shouldScheduleTick(l){return!(this.disableScheduling&&!l||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Xa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const l=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(u){throw this.taskService.remove(l),u}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(l)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static \u0275fac=function(u){return new(u||o)};static \u0275prov=St({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ll=new Le("",{providedIn:"root",factory:()=>Te(Ll,tt.Optional|tt.SkipSelf)||function W2(){return typeof $localize<"u"&&$localize.locale||V_}()}),DR=new Le("",{providedIn:"root",factory:()=>"USD"}),kC=new Le(""),jG=new Le("");function ay(o){return!o.moduleRef}let xs=null;function cy(){return!1}let jf=(()=>class o{static __NG_ELEMENT_ID__=OR})();function OR(o){return function Vl(o,a,l){if(fi(o)&&!l){const u=cr(o.index,a);return new Th(u,u)}return 175&o.type?new Th(a[Kt],a):null}(Ze(),J(),!(16&~o))}class VR{constructor(){}supports(a){return wu(a)}create(a){return new rB(a)}}const nB=(o,a)=>a;class rB{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(a){this._trackByFn=a||nB}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,u=this._removalsHead,p=0,m=null;for(;l||u;){const _=!u||l&&l.currentIndex<aB(u,p,m)?l:u,w=aB(_,p,m),E=_.currentIndex;if(_===u)p--,u=u._nextRemoved;else if(l=l._next,null==_.previousIndex)p++;else{m||(m=[]);const T=w-p,D=E-p;if(T!=D){for(let F=0;F<T;F++){const N=F<m.length?m[F]:m[F]=0,$=N+F;D<=$&&$<T&&(m[F]=N+1)}m[_.previousIndex]=D-T}}w!==E&&a(_,w,E)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!wu(a))throw new ye(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,_,l=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],_=this._trackByFn(w,m),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,m,_,w)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,_,w),u=!0),l=l._next}else p=0,function PL(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let u;for(;!(u=l.next()).done;)a(u.value)}}(a,w=>{_=this._trackByFn(p,w),null!==l&&Object.is(l.trackById,_)?(u&&(l=this._verifyReinsertion(l,w,_,p)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,_,p),u=!0),l=l._next,p++}),this.length=p;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,u,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,p))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,m,p)):a=this._addAfter(new iB(l,u),m,p),a}_verifyReinsertion(a,l,u,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,l,u),this._addToMoves(a,u),a}_moveAfter(a,l,u){return this._unlink(a),this._insertAfter(a,l,u),this._addToMoves(a,u),a}_addAfter(a,l,u){return this._insertAfter(a,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,u){const p=null===l?this._itHead:l._next;return a._next=p,a._prev=l,null===p?this._itTail=a:p._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new sB),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,u=a._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sB),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class iB{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(a,l){this.item=a,this.trackById=l}}class oB{_head=null;_tail=null;add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const l=a._prevDup,u=a._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class sB{map=new Map;put(a){const l=a.trackById;let u=this.map.get(l);u||(u=new oB,this.map.set(l,u)),u.add(a)}get(a,l){const p=this.map.get(a);return p?p.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aB(o,a,l){const u=o.previousIndex;if(null===u)return u;let p=0;return l&&u<l.length&&(p=l[u]),u+a+p}class BR{constructor(){}supports(a){return a instanceof Map||Ww(a)}create(){return new XG}}class XG{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||Ww(a)))throw new ye(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,p)=>{if(l&&l.key===p)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(p,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const u=a._prev;return l._next=a,l._prev=u,a._prev=l,u&&(u._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,l);const m=p._prev,_=p._next;return m&&(m._next=_),_&&(_._prev=m),p._next=null,p._prev=null,p}const u=new QG(a);return this._records.set(a,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(u=>l(a[u],u))}}class QG{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(a){this.key=a}}function lB(){return new jR([new VR])}let jR=(()=>{class o{factories;static \u0275prov=St({token:o,providedIn:"root",factory:lB});constructor(l){this.factories=l}static create(l,u){if(null!=u){const p=u.factories.slice();l=l.concat(p)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||lB()),deps:[[o,new Xv,new Kv]]}}find(l){const u=this.factories.find(p=>p.supports(l));if(null!=u)return u;throw new ye(901,!1)}}return o})();function jC(){return new dy([new BR])}let dy=(()=>{class o{static \u0275prov=St({token:o,providedIn:"root",factory:jC});factories;constructor(l){this.factories=l}static create(l,u){if(u){const p=u.factories.slice();l=l.concat(p)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||jC()),deps:[[o,new Xv,new Kv]]}}find(l){const u=this.factories.find(p=>p.supports(l));if(u)return u;throw new ye(901,!1)}}return o})();function ho(o){ft(8);try{const{rootComponent:a,appProviders:l,platformProviders:u}=o,p=function Y2(o=[]){if(xs)return xs;const a=function Q2(o=[],a){return Zn.create({name:a,providers:[{provide:Jv,useValue:"platform"},{provide:kC,useValue:new Set([()=>xs=null])},...o]})}(o);return xs=a,function GS(){!function Mv(o){Vp=o}(()=>{throw new ye(600,!1)})}(),function Z2(o){const a=o.get(ih,null);bc(o,()=>{a?.forEach(l=>l())})}(a),a}(u),m=[Lf({}),{provide:rt,useExisting:Fl},...l||[]];return function OC(o){const a=ay(o)?o.r3Injector:o.moduleRef.injector,l=a.get(Ot);return l.run(()=>{ay(o)?o.r3Injector.resolveInjectorInitializers():o.moduleRef.resolveInjectorInitializers();const u=a.get(eo,null);let p;if(l.runOutsideAngular(()=>{p=l.onError.subscribe({next:m=>{u.handleError(m)}})}),ay(o)){const m=()=>a.destroy(),_=o.platformInjector.get(kC);_.add(m),a.onDestroy(()=>{p.unsubscribe(),_.delete(m)})}else{const m=()=>o.moduleRef.destroy(),_=o.platformInjector.get(kC);_.add(m),o.moduleRef.onDestroy(()=>{Au(o.allPlatformModules,o.moduleRef),p.unsubscribe(),_.delete(m)})}return function UG(o,a,l){try{const u=l();return nf(u)?u.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(u,l,()=>{const m=a.get(y_);return m.runInitializers(),m.donePromise.then(()=>{if(function LV(o){"string"==typeof o&&(RM=o.toLowerCase().replace(/_/g,"-"))}(a.get(Ll,V_)||V_),!a.get(jG,!0))return ay(o)?a.get(Nr):(o.allPlatformModules.push(o.moduleRef),o.moduleRef);if(ay(o)){const E=a.get(Nr);return void 0!==o.rootComponent&&E.bootstrap(o.rootComponent),E}return function RR(o,a){const l=o.injector.get(Nr);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new ye(-403,!1);o.instance.ngDoBootstrap(l)}a.push(o)}(o.moduleRef,o.allPlatformModules),o.moduleRef})})})}({r3Injector:new vS({providers:m,parent:p,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:p,rootComponent:a})}catch(a){return Promise.reject(a)}finally{ft(9)}}function CB(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function IB(o,a=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?a:Number(o)}function po(o){return function Pv(o){const a=be(null);try{return o()}finally{be(a)}}(o)}function Wf(o,a){return Av(o,a?.equal)}class Hl{[ke];constructor(a){this[ke]=a}destroy(){this[ke].destroy()}}function my(o,a){!a?.injector&&Ps();const l=a?.injector??Te(Zn);let p,u=!0!==a?.manualCleanup?l.get(Ro):null;const m=l.get(Fm,null,{optional:!0}),_=l.get(rt);return null===m||a?.forceRoot?p=function tP(o,a,l){const u=Object.create(eP);return u.fn=o,u.scheduler=a,u.notifier=l,u.zone=typeof Zone<"u"?Zone.current:null,u.scheduler.schedule(u),u.notifier.notify(12),u}(o,l.get(tf),_):(p=function u3(o,a,l){const u=Object.create(SB);return u.view=o,u.zone=typeof Zone<"u"?Zone.current:null,u.notifier=a,u.fn=l,o[Ns]??=new Set,o[Ns].add(u),u.consumerMarkedDirty(u),u}(m.view,_,o),u instanceof Xd&&u._lView===m.view&&(u=null)),p.injector=l,null!==u&&(p.onDestroyFn=u.onDestroy(()=>p.destroy())),new Hl(p)}const gy={...ie,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:ss,run(){if(this.dirty=!1,this.hasRun&&!qe(this))return;this.hasRun=!0;const o=u=>(this.cleanupFns??=[]).push(u),a=we(this),l=Ht(!1);try{this.maybeCleanup(),this.fn(o)}finally{Ht(l),pe(this,a)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},eP={...gy,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Ae(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},SB={...gy,consumerMarkedDirty(){this.view[Ne]|=8192,za(this.view),this.notifier.notify(13)},destroy(){Ae(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Ns]?.delete(this)}};function _3(o,a){const l=nt(o),u=a.elementInjector||tm();return new Bh(l).create(u,a.projectableNodes,a.hostElement,a.environmentInjector)}function y3(o){const a=nt(o);if(!a)return null;const l=new Bh(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},412:(Jt,Ge,ce)=>{ce.d(Ge,{t:()=>oe});var h=ce(413);class oe extends h.B{constructor(Se){super(),this._value=Se}get value(){return this.getValue()}_subscribe(Se){const Ee=super._subscribe(Se);return!Ee.closed&&Se.next(this._value),Ee}getValue(){const{hasError:Se,thrownError:Ee,_value:ke}=this;if(Se)throw Ee;return this._throwIfClosed(),ke}next(Se){super.next(this._value=Se)}}},413:(Jt,Ge,ce)=>{ce.d(Ge,{B:()=>be});var h=ce(985),oe=ce(359);const Se=(0,ce(853).L)(Xe=>function(){Xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=ce(908),ke=ce(786);let be=(()=>{class Xe extends h.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const De=new ht(this,this);return De.operator=ie,De}_throwIfClosed(){if(this.closed)throw new Se}next(ie){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(ie)}})}error(ie){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:De}=this;for(;De.length;)De.shift().error(ie)}})}complete(){(0,ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:De,isStopped:Mt,observers:Fe}=this;return De||Mt?oe.Kn:(this.currentObservers=null,Fe.push(ie),new oe.yU(()=>{this.currentObservers=null,(0,Ee.o)(Fe,ie)}))}_checkFinalizedStatuses(ie){const{hasError:De,thrownError:Mt,isStopped:Fe}=this;De?ie.error(Mt):Fe&&ie.complete()}asObservable(){const ie=new h.c;return ie.source=this,ie}}return Xe.create=(Ce,ie)=>new ht(Ce,ie),Xe})();class ht extends be{constructor(Ce,ie){super(),this.destination=Ce,this.source=ie}next(Ce){var ie,De;null===(De=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===De||De.call(ie,Ce)}error(Ce){var ie,De;null===(De=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===De||De.call(ie,Ce)}complete(){var Ce,ie;null===(ie=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===ie||ie.call(Ce)}_subscribe(Ce){var ie,De;return null!==(De=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Ce))&&void 0!==De?De:oe.Kn}}},467:(Jt,Ge,ce)=>{function h(he,Se,Ee,ke,be,ht,Xe){try{var Ce=he[ht](Xe),ie=Ce.value}catch(De){return void Ee(De)}Ce.done?Se(ie):Promise.resolve(ie).then(ke,be)}function oe(he){return function(){var Se=this,Ee=arguments;return new Promise(function(ke,be){var ht=he.apply(Se,Ee);function Xe(ie){h(ht,ke,be,Xe,Ce,"next",ie)}function Ce(ie){h(ht,ke,be,Xe,Ce,"throw",ie)}Xe(void 0)})}}ce.d(Ge,{A:()=>oe})},494:(Jt,Ge,ce)=>{ce.d(Ge,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},669:(Jt,Ge,ce)=>{function h(oe){return oe}ce.d(Ge,{D:()=>h})},707:(Jt,Ge,ce)=>{ce.d(Ge,{Ms:()=>Ur,vU:()=>De});var h=ce(71),oe=ce(359),he=ce(26),Se=ce(334),Ee=ce(343);const ke=Xe("C",void 0,void 0);function Xe(qe,Ae,Rt){return{kind:qe,value:Ae,error:Rt}}var Ce=ce(270),ie=ce(786);class De extends oe.yU{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,oe.Uv)(Ae)&&Ae.add(this)):this.destination=pe}static create(Ae,Rt,Fn){return new Ur(Ae,Rt,Fn)}next(Ae){this.isStopped?we(function ht(qe){return Xe("N",qe,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?we(function be(qe){return Xe("E",void 0,qe)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?we(ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Mt=Function.prototype.bind;function Fe(qe,Ae){return Mt.call(qe,Ae)}class At{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Rt}=this;if(Rt.next)try{Rt.next(Ae)}catch(Fn){jt(Fn)}}error(Ae){const{partialObserver:Rt}=this;if(Rt.error)try{Rt.error(Ae)}catch(Fn){jt(Fn)}else jt(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Rt){jt(Rt)}}}class Ur extends De{constructor(Ae,Rt,Fn){let gr;if(super(),(0,h.T)(Ae)||!Ae)gr={next:Ae??void 0,error:Rt??void 0,complete:Fn??void 0};else{let li;this&&he.$.useDeprecatedNextContext?(li=Object.create(Ae),li.unsubscribe=()=>this.unsubscribe(),gr={next:Ae.next&&Fe(Ae.next,li),error:Ae.error&&Fe(Ae.error,li),complete:Ae.complete&&Fe(Ae.complete,li)}):gr=Ae}this.destination=new At(gr)}}function jt(qe){he.$.useDeprecatedSynchronousErrorHandling?(0,ie.l)(qe):(0,Se.m)(qe)}function we(qe,Ae){const{onStoppedNotification:Rt}=he.$;Rt&&Ce.f.setTimeout(()=>Rt(qe,Ae))}const pe={closed:!0,next:Ee.l,error:function Gn(qe){throw qe},complete:Ee.l}},786:(Jt,Ge,ce)=>{ce.d(Ge,{Y:()=>he,l:()=>Se});var h=ce(26);let oe=null;function he(Ee){if(h.$.useDeprecatedSynchronousErrorHandling){const ke=!oe;if(ke&&(oe={errorThrown:!1,error:null}),Ee(),ke){const{errorThrown:be,error:ht}=oe;if(oe=null,be)throw ht}}else Ee()}function Se(Ee){h.$.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=Ee)}},853:(Jt,Ge,ce)=>{function h(oe){const Se=oe(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Se.prototype=Object.create(Error.prototype),Se.prototype.constructor=Se,Se}ce.d(Ge,{L:()=>h})},908:(Jt,Ge,ce)=>{function h(oe,he){if(oe){const Se=oe.indexOf(he);0<=Se&&oe.splice(Se,1)}}ce.d(Ge,{o:()=>h})},974:(Jt,Ge,ce)=>{ce.d(Ge,{N:()=>he,S:()=>oe});var h=ce(71);function oe(Se){return(0,h.T)(Se?.lift)}function he(Se){return Ee=>{if(oe(Ee))return Ee.lift(function(ke){try{return Se(ke,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},979:(Jt,Ge,ce)=>{ce.d(Ge,{_:()=>oe});var h=ce(707);function oe(Se,Ee,ke,be,ht){return new he(Se,Ee,ke,be,ht)}class he extends h.vU{constructor(Ee,ke,be,ht,Xe,Ce){super(Ee),this.onFinalize=Xe,this.shouldUnsubscribe=Ce,this._next=ke?function(ie){try{ke(ie)}catch(De){Ee.error(De)}}:super._next,this._error=ht?function(ie){try{ht(ie)}catch(De){Ee.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ie){Ee.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ke}=this;super.unsubscribe(),!ke&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},985:(Jt,Ge,ce)=>{ce.d(Ge,{c:()=>ht});var h=ce(707),oe=ce(359),he=ce(494),Se=ce(203),Ee=ce(26),ke=ce(71),be=ce(786);let ht=(()=>{class De{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const At=new De;return At.source=this,At.operator=Fe,At}subscribe(Fe,At,Ur){const jt=function ie(De){return De&&De instanceof h.vU||function Ce(De){return De&&(0,ke.T)(De.next)&&(0,ke.T)(De.error)&&(0,ke.T)(De.complete)}(De)&&(0,oe.Uv)(De)}(Fe)?Fe:new h.Ms(Fe,At,Ur);return(0,be.Y)(()=>{const{operator:Gn,source:we}=this;jt.add(Gn?Gn.call(jt,we):we?this._subscribe(jt):this._trySubscribe(jt))}),jt}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(At){Fe.error(At)}}forEach(Fe,At){return new(At=Xe(At))((Ur,jt)=>{const Gn=new h.Ms({next:we=>{try{Fe(we)}catch(pe){jt(pe),Gn.unsubscribe()}},error:jt,complete:Ur});this.subscribe(Gn)})}_subscribe(Fe){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(Fe)}[he.s](){return this}pipe(...Fe){return(0,Se.m)(Fe)(this)}toPromise(Fe){return new(Fe=Xe(Fe))((At,Ur)=>{let jt;this.subscribe(Gn=>jt=Gn,Gn=>Ur(Gn),()=>At(jt))})}}return De.create=Mt=>new De(Mt),De})();function Xe(De){var Mt;return null!==(Mt=De??Ee.$.Promise)&&void 0!==Mt?Mt:Promise}}},Jt=>{Jt(Jt.s=96)}]);